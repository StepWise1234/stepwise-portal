(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var TR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function K3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vg={exports:{}},Jd={};var Z2;function Q3(){if(Z2)return Jd;Z2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:t,type:a,key:u,ref:s!==void 0?s:null,props:o}}return Jd.Fragment=e,Jd.jsx=n,Jd.jsxs=n,Jd}var ey;function X3(){return ey||(ey=1,vg.exports=Q3()),vg.exports}var h=X3(),yg={exports:{}},Ht={};var ty;function J3(){if(ty)return Ht;ty=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),_=Symbol.iterator;function b(F){return F===null||typeof F!="object"?null:(F=_&&F[_]||F["@@iterator"],typeof F=="function"?F:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function A(F,L,B){this.props=F,this.context=L,this.refs=T,this.updater=B||j}A.prototype.isReactComponent={},A.prototype.setState=function(F,L){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,L,"setState")},A.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function z(){}z.prototype=A.prototype;function D(F,L,B){this.props=F,this.context=L,this.refs=T,this.updater=B||j}var P=D.prototype=new z;P.constructor=D,E(P,A.prototype),P.isPureReactComponent=!0;var se=Array.isArray;function he(){}var oe={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function X(F,L,B){var $=B.ref;return{$$typeof:t,type:F,key:L,ref:$!==void 0?$:null,props:B}}function pe(F,L){return X(F.type,L,F.props)}function U(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function Y(F){var L={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(B){return L[B]})}var le=/\/+/g;function ue(F,L){return typeof F=="object"&&F!==null&&F.key!=null?Y(""+F.key):L.toString(36)}function k(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(he,he):(F.status="pending",F.then(function(L){F.status==="pending"&&(F.status="fulfilled",F.value=L)},function(L){F.status==="pending"&&(F.status="rejected",F.reason=L)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function I(F,L,B,$,ie){var ce=typeof F;(ce==="undefined"||ce==="boolean")&&(F=null);var Q=!1;if(F===null)Q=!0;else switch(ce){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(F.$$typeof){case t:case e:Q=!0;break;case g:return Q=F._init,I(Q(F._payload),L,B,$,ie)}}if(Q)return ie=ie(F),Q=$===""?"."+ue(F,0):$,se(ie)?(B="",Q!=null&&(B=Q.replace(le,"$&/")+"/"),I(ie,L,B,"",function(je){return je})):ie!=null&&(U(ie)&&(ie=pe(ie,B+(ie.key==null||F&&F.key===ie.key?"":(""+ie.key).replace(le,"$&/")+"/")+Q)),L.push(ie)),1;Q=0;var be=$===""?".":$+":";if(se(F))for(var xe=0;xe<F.length;xe++)$=F[xe],ce=be+ue($,xe),Q+=I($,L,B,ce,ie);else if(xe=b(F),typeof xe=="function")for(F=xe.call(F),xe=0;!($=F.next()).done;)$=$.value,ce=be+ue($,xe++),Q+=I($,L,B,ce,ie);else if(ce==="object"){if(typeof F.then=="function")return I(k(F),L,B,$,ie);throw L=String(F),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return Q}function te(F,L,B){if(F==null)return F;var $=[],ie=0;return I(F,$,"","",function(ce){return L.call(B,ce,ie++)}),$}function J(F){if(F._status===-1){var L=F._result;L=L(),L.then(function(B){(F._status===0||F._status===-1)&&(F._status=1,F._result=B)},function(B){(F._status===0||F._status===-1)&&(F._status=2,F._result=B)}),F._status===-1&&(F._status=0,F._result=L)}if(F._status===1)return F._result.default;throw F._result}var ve=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},fe={map:te,forEach:function(F,L,B){te(F,function(){L.apply(this,arguments)},B)},count:function(F){var L=0;return te(F,function(){L++}),L},toArray:function(F){return te(F,function(L){return L})||[]},only:function(F){if(!U(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Ht.Activity=v,Ht.Children=fe,Ht.Component=A,Ht.Fragment=n,Ht.Profiler=s,Ht.PureComponent=D,Ht.StrictMode=a,Ht.Suspense=f,Ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Ht.__COMPILER_RUNTIME={__proto__:null,c:function(F){return oe.H.useMemoCache(F)}},Ht.cache=function(F){return function(){return F.apply(null,arguments)}},Ht.cacheSignal=function(){return null},Ht.cloneElement=function(F,L,B){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var $=E({},F.props),ie=F.key;if(L!=null)for(ce in L.key!==void 0&&(ie=""+L.key),L)!ee.call(L,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&L.ref===void 0||($[ce]=L[ce]);var ce=arguments.length-2;if(ce===1)$.children=B;else if(1<ce){for(var Q=Array(ce),be=0;be<ce;be++)Q[be]=arguments[be+2];$.children=Q}return X(F.type,ie,$)},Ht.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},Ht.createElement=function(F,L,B){var $,ie={},ce=null;if(L!=null)for($ in L.key!==void 0&&(ce=""+L.key),L)ee.call(L,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ie[$]=L[$]);var Q=arguments.length-2;if(Q===1)ie.children=B;else if(1<Q){for(var be=Array(Q),xe=0;xe<Q;xe++)be[xe]=arguments[xe+2];ie.children=be}if(F&&F.defaultProps)for($ in Q=F.defaultProps,Q)ie[$]===void 0&&(ie[$]=Q[$]);return X(F,ce,ie)},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(F){return{$$typeof:c,render:F}},Ht.isValidElement=U,Ht.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:J}},Ht.memo=function(F,L){return{$$typeof:p,type:F,compare:L===void 0?null:L}},Ht.startTransition=function(F){var L=oe.T,B={};oe.T=B;try{var $=F(),ie=oe.S;ie!==null&&ie(B,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(he,ve)}catch(ce){ve(ce)}finally{L!==null&&B.types!==null&&(L.types=B.types),oe.T=L}},Ht.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Ht.use=function(F){return oe.H.use(F)},Ht.useActionState=function(F,L,B){return oe.H.useActionState(F,L,B)},Ht.useCallback=function(F,L){return oe.H.useCallback(F,L)},Ht.useContext=function(F){return oe.H.useContext(F)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(F,L){return oe.H.useDeferredValue(F,L)},Ht.useEffect=function(F,L){return oe.H.useEffect(F,L)},Ht.useEffectEvent=function(F){return oe.H.useEffectEvent(F)},Ht.useId=function(){return oe.H.useId()},Ht.useImperativeHandle=function(F,L,B){return oe.H.useImperativeHandle(F,L,B)},Ht.useInsertionEffect=function(F,L){return oe.H.useInsertionEffect(F,L)},Ht.useLayoutEffect=function(F,L){return oe.H.useLayoutEffect(F,L)},Ht.useMemo=function(F,L){return oe.H.useMemo(F,L)},Ht.useOptimistic=function(F,L){return oe.H.useOptimistic(F,L)},Ht.useReducer=function(F,L,B){return oe.H.useReducer(F,L,B)},Ht.useRef=function(F){return oe.H.useRef(F)},Ht.useState=function(F){return oe.H.useState(F)},Ht.useSyncExternalStore=function(F,L,B){return oe.H.useSyncExternalStore(F,L,B)},Ht.useTransition=function(){return oe.H.useTransition()},Ht.version="19.2.4",Ht}var ny;function s1(){return ny||(ny=1,yg.exports=J3()),yg.exports}var V=s1();const ur=K3(V);var bg={exports:{}},Zd={},wg={exports:{}},xg={};var iy;function Z3(){return iy||(iy=1,(function(t){function e(I,te){var J=I.length;I.push(te);e:for(;0<J;){var ve=J-1>>>1,fe=I[ve];if(0<s(fe,te))I[ve]=te,I[J]=fe,J=ve;else break e}}function n(I){return I.length===0?null:I[0]}function a(I){if(I.length===0)return null;var te=I[0],J=I.pop();if(J!==te){I[0]=J;e:for(var ve=0,fe=I.length,F=fe>>>1;ve<F;){var L=2*(ve+1)-1,B=I[L],$=L+1,ie=I[$];if(0>s(B,J))$<fe&&0>s(ie,B)?(I[ve]=ie,I[$]=J,ve=$):(I[ve]=B,I[L]=J,ve=L);else if($<fe&&0>s(ie,J))I[ve]=ie,I[$]=J,ve=$;else break e}}return te}function s(I,te){var J=I.sortIndex-te.sortIndex;return J!==0?J:I.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var f=[],p=[],g=1,v=null,_=3,b=!1,j=!1,E=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function P(I){for(var te=n(p);te!==null;){if(te.callback===null)a(p);else if(te.startTime<=I)a(p),te.sortIndex=te.expirationTime,e(f,te);else break;te=n(p)}}function se(I){if(E=!1,P(I),!j)if(n(f)!==null)j=!0,he||(he=!0,Y());else{var te=n(p);te!==null&&k(se,te.startTime-I)}}var he=!1,oe=-1,ee=5,X=-1;function pe(){return T?!0:!(t.unstable_now()-X<ee)}function U(){if(T=!1,he){var I=t.unstable_now();X=I;var te=!0;try{e:{j=!1,E&&(E=!1,z(oe),oe=-1),b=!0;var J=_;try{t:{for(P(I),v=n(f);v!==null&&!(v.expirationTime>I&&pe());){var ve=v.callback;if(typeof ve=="function"){v.callback=null,_=v.priorityLevel;var fe=ve(v.expirationTime<=I);if(I=t.unstable_now(),typeof fe=="function"){v.callback=fe,P(I),te=!0;break t}v===n(f)&&a(f),P(I)}else a(f);v=n(f)}if(v!==null)te=!0;else{var F=n(p);F!==null&&k(se,F.startTime-I),te=!1}}break e}finally{v=null,_=J,b=!1}te=void 0}}finally{te?Y():he=!1}}}var Y;if(typeof D=="function")Y=function(){D(U)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ue=le.port2;le.port1.onmessage=U,Y=function(){ue.postMessage(null)}}else Y=function(){A(U,0)};function k(I,te){oe=A(function(){I(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(I){switch(_){case 1:case 2:case 3:var te=3;break;default:te=_}var J=_;_=te;try{return I()}finally{_=J}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(I,te){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var J=_;_=I;try{return te()}finally{_=J}},t.unstable_scheduleCallback=function(I,te,J){var ve=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ve+J:ve):J=ve,I){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=J+fe,I={id:g++,callback:te,priorityLevel:I,startTime:J,expirationTime:fe,sortIndex:-1},J>ve?(I.sortIndex=J,e(p,I),n(f)===null&&I===n(p)&&(E?(z(oe),oe=-1):E=!0,k(se,J-ve))):(I.sortIndex=fe,e(f,I),j||b||(j=!0,he||(he=!0,Y()))),I},t.unstable_shouldYield=pe,t.unstable_wrapCallback=function(I){var te=_;return function(){var J=_;_=te;try{return I.apply(this,arguments)}finally{_=J}}}})(xg)),xg}var ay;function e4(){return ay||(ay=1,wg.exports=Z3()),wg.exports}var _g={exports:{}},Ca={};var ry;function t4(){if(ry)return Ca;ry=1;var t=s1();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,p,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:f,containerInfo:p,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ca.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ca.createPortal=function(f,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(f,p,null,g)},Ca.flushSync=function(f){var p=u.T,g=a.p;try{if(u.T=null,a.p=2,f)return f()}finally{u.T=p,a.p=g,a.d.f()}},Ca.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(f,p))},Ca.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},Ca.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var g=p.as,v=c(g,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?a.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:b}):g==="script"&&a.d.X(f,{crossOrigin:v,integrity:_,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ca.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=c(p.as,p.crossOrigin);a.d.M(f,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(f)},Ca.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,v=c(g,p.crossOrigin);a.d.L(f,g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ca.preloadModule=function(f,p){if(typeof f=="string")if(p){var g=c(p.as,p.crossOrigin);a.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(f)},Ca.requestFormReset=function(f){a.d.r(f)},Ca.unstable_batchedUpdates=function(f,p){return f(p)},Ca.useFormState=function(f,p,g){return u.H.useFormState(f,p,g)},Ca.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ca.version="19.2.4",Ca}var sy;function Y5(){if(sy)return _g.exports;sy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_g.exports=t4(),_g.exports}var oy;function n4(){if(oy)return Zd;oy=1;var t=e4(),e=s1(),n=Y5();function a(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function c(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(a(188))}function p(i){var r=i.alternate;if(!r){if(r=o(i),r===null)throw Error(a(188));return r!==i?null:i}for(var l=i,d=r;;){var y=l.return;if(y===null)break;var x=y.alternate;if(x===null){if(d=y.return,d!==null){l=d;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===l)return f(y),i;if(x===d)return f(y),r;x=x.sibling}throw Error(a(188))}if(l.return!==d.return)l=y,d=x;else{for(var O=!1,G=y.child;G;){if(G===l){O=!0,l=y,d=x;break}if(G===d){O=!0,d=y,l=x;break}G=G.sibling}if(!O){for(G=x.child;G;){if(G===l){O=!0,l=x,d=y;break}if(G===d){O=!0,d=x,l=y;break}G=G.sibling}if(!O)throw Error(a(189))}}if(l.alternate!==d)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),D=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var le=Symbol.for("react.client.reference");function ue(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===le?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case A:return"Profiler";case T:return"StrictMode";case se:return"Suspense";case he:return"SuspenseList";case X:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case D:return i.displayName||"Context";case z:return(i._context.displayName||"Context")+".Consumer";case P:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case oe:return r=i.displayName||null,r!==null?r:ue(i.type)||"Memo";case ee:r=i._payload,i=i._init;try{return ue(i(r))}catch{}}return null}var k=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ve=[],fe=-1;function F(i){return{current:i}}function L(i){0>fe||(i.current=ve[fe],ve[fe]=null,fe--)}function B(i,r){fe++,ve[fe]=i.current,i.current=r}var $=F(null),ie=F(null),ce=F(null),Q=F(null);function be(i,r){switch(B(ce,r),B(ie,i),B($,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?_2(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=_2(r),i=S2(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}L($),B($,i)}function xe(){L($),L(ie),L(ce)}function je(i){i.memoizedState!==null&&B(Q,i);var r=$.current,l=S2(r,i.type);r!==l&&(B(ie,i),B($,l))}function Ie(i){ie.current===i&&(L($),L(ie)),Q.current===i&&(L(Q),Yd._currentValue=J)}var Ve,Ge;function Ye(i){if(Ve===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Ve=r&&r[1]||"",Ge=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+i+Ge}var Z=!1;function We(i,r){if(!i||Z)return"";Z=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var Ue=function(){throw Error()};if(Object.defineProperty(Ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ue,[])}catch(Te){var Le=Te}Reflect.construct(i,[],Ue)}else{try{Ue.call()}catch(Te){Le=Te}i.call(Ue.prototype)}}else{try{throw Error()}catch(Te){Le=Te}(Ue=i())&&typeof Ue.catch=="function"&&Ue.catch(function(){})}}catch(Te){if(Te&&Le&&typeof Te.stack=="string")return[Te.stack,Le.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),O=x[0],G=x[1];if(O&&G){var de=O.split(`
`),ke=G.split(`
`);for(y=d=0;d<de.length&&!de[d].includes("DetermineComponentFrameRoot");)d++;for(;y<ke.length&&!ke[y].includes("DetermineComponentFrameRoot");)y++;if(d===de.length||y===ke.length)for(d=de.length-1,y=ke.length-1;1<=d&&0<=y&&de[d]!==ke[y];)y--;for(;1<=d&&0<=y;d--,y--)if(de[d]!==ke[y]){if(d!==1||y!==1)do if(d--,y--,0>y||de[d]!==ke[y]){var De=`
`+de[d].replace(" at new "," at ");return i.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",i.displayName)),De}while(1<=d&&0<=y);break}}}finally{Z=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Ye(l):""}function Ot(i,r){switch(i.tag){case 26:case 27:case 5:return Ye(i.type);case 16:return Ye("Lazy");case 13:return i.child!==r&&r!==null?Ye("Suspense Fallback"):Ye("Suspense");case 19:return Ye("SuspenseList");case 0:case 15:return We(i.type,!1);case 11:return We(i.type.render,!1);case 1:return We(i.type,!0);case 31:return Ye("Activity");default:return""}}function ut(i){try{var r="",l=null;do r+=Ot(i,l),l=i,i=i.return;while(i);return r}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Fe=Object.prototype.hasOwnProperty,nt=t.unstable_scheduleCallback,Qe=t.unstable_cancelCallback,ht=t.unstable_shouldYield,ft=t.unstable_requestPaint,zt=t.unstable_now,Vt=t.unstable_getCurrentPriorityLevel,ze=t.unstable_ImmediatePriority,pt=t.unstable_UserBlockingPriority,mt=t.unstable_NormalPriority,Je=t.unstable_LowPriority,Rt=t.unstable_IdlePriority,Ze=t.log,pn=t.unstable_setDisableYieldValue,Wt=null,St=null;function Et(i){if(typeof Ze=="function"&&pn(i),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(Wt,i)}catch{}}var Yt=Math.clz32?Math.clz32:At,xt=Math.log,yn=Math.LN2;function At(i){return i>>>=0,i===0?32:31-(xt(i)/yn|0)|0}var Dt=256,bn=262144,yt=4194304;function Xe(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Bt(i,r,l){var d=i.pendingLanes;if(d===0)return 0;var y=0,x=i.suspendedLanes,O=i.pingedLanes;i=i.warmLanes;var G=d&134217727;return G!==0?(d=G&~x,d!==0?y=Xe(d):(O&=G,O!==0?y=Xe(O):l||(l=G&~i,l!==0&&(y=Xe(l))))):(G=d&~x,G!==0?y=Xe(G):O!==0?y=Xe(O):l||(l=d&~i,l!==0&&(y=Xe(l)))),y===0?0:r!==0&&r!==y&&(r&x)===0&&(x=y&-y,l=r&-r,x>=l||x===32&&(l&4194048)!==0)?r:y}function vi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function wn(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hn(){var i=yt;return yt<<=1,(yt&62914560)===0&&(yt=4194304),i}function Wn(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function ct(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Nn(i,r,l,d,y,x){var O=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var G=i.entanglements,de=i.expirationTimes,ke=i.hiddenUpdates;for(l=O&~l;0<l;){var De=31-Yt(l),Ue=1<<De;G[De]=0,de[De]=-1;var Le=ke[De];if(Le!==null)for(ke[De]=null,De=0;De<Le.length;De++){var Te=Le[De];Te!==null&&(Te.lane&=-536870913)}l&=~Ue}d!==0&&Li(i,d,0),x!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=x&~(O&~r))}function Li(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var d=31-Yt(r);i.entangledLanes|=r,i.entanglements[d]=i.entanglements[d]|1073741824|l&261930}function $n(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var d=31-Yt(l),y=1<<d;y&r|i[d]&r&&(i[d]|=r),l&=~y}}function Yn(i,r){var l=r&-r;return l=(l&42)!==0?1:mn(l),(l&(i.suspendedLanes|r))!==0?0:l}function mn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function On(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function jn(){var i=te.p;return i!==0?i:(i=window.event,i===void 0?32:V2(i.type))}function Na(i,r){var l=te.p;try{return te.p=i,r()}finally{te.p=l}}var Ti=Math.random().toString(36).slice(2),An="__reactFiber$"+Ti,Kn="__reactProps$"+Ti,ra="__reactContainer$"+Ti,Da="__reactEvents$"+Ti,Ga="__reactListeners$"+Ti,go="__reactHandles$"+Ti,fr="__reactResources$"+Ti,pr="__reactMarker$"+Ti;function qs(i){delete i[An],delete i[Kn],delete i[Da],delete i[Ga],delete i[go]}function mr(i){var r=i[An];if(r)return r;for(var l=i.parentNode;l;){if(r=l[ra]||l[An]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=L2(i);i!==null;){if(l=i[An])return l;i=L2(i)}return r}i=l,l=i.parentNode}return null}function gr(i){if(i=i[An]||i[ra]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function vo(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(a(33))}function Pr(i){var r=i[fr];return r||(r=i[fr]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function di(i){i[pr]=!0}var Hl=new Set,Ma={};function vr(i,r){as(i,r),as(i+"Capture",r)}function as(i,r){for(Ma[i]=r,i=0;i<r.length;i++)Hl.add(r[i])}var $l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gl={},Vl={};function Fc(i){return Fe.call(Vl,i)?!0:Fe.call(Gl,i)?!1:$l.test(i)?Vl[i]=!0:(Gl[i]=!0,!1)}function Pa(i,r,l){if(Fc(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function rs(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function yr(i,r,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+d)}}function dn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Wl(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function zr(i,r,l){var d=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,x=d.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return y.call(this)},set:function(O){l=""+O,x.call(this,O)}}),Object.defineProperty(i,r,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(O){l=""+O},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Fs(i){if(!i._valueTracker){var r=Wl(i)?"checked":"value";i._valueTracker=zr(i,r,""+i[r])}}function Yl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),d="";return i&&(d=Wl(i)?i.checked?"true":"false":i.value),i=d,i!==l?(r.setValue(i),!0):!1}function pa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Oi=/[\n"\\]/g;function yi(i){return i.replace(Oi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function el(i,r,l,d,y,x,O,G){i.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.type=O:i.removeAttribute("type"),r!=null?O==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+dn(r)):i.value!==""+dn(r)&&(i.value=""+dn(r)):O!=="submit"&&O!=="reset"||i.removeAttribute("value"),r!=null?Kl(i,O,dn(r)):l!=null?Kl(i,O,dn(l)):d!=null&&i.removeAttribute("value"),y==null&&x!=null&&(i.defaultChecked=!!x),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?i.name=""+dn(G):i.removeAttribute("name")}function Hc(i,r,l,d,y,x,O,G){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),r!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||r!=null)){Fs(i);return}l=l!=null?""+dn(l):"",r=r!=null?""+dn(r):l,G||r===i.value||(i.value=r),i.defaultValue=r}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=G?i.checked:!!d,i.defaultChecked=!!d,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(i.name=O),Fs(i)}function Kl(i,r,l){r==="number"&&pa(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ma(i,r,l,d){if(i=i.options,r){r={};for(var y=0;y<l.length;y++)r["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=r.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&d&&(i[l].defaultSelected=!0)}else{for(l=""+dn(l),r=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,d&&(i[y].defaultSelected=!0);return}r!==null||i[y].disabled||(r=i[y])}r!==null&&(r.selected=!0)}}function Ql(i,r,l){if(r!=null&&(r=""+dn(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+dn(l):""}function Xl(i,r,l,d){if(r==null){if(d!=null){if(l!=null)throw Error(a(92));if(k(d)){if(1<d.length)throw Error(a(93));d=d[0]}l=d}l==null&&(l=""),r=l}l=dn(r),i.defaultValue=l,d=i.textContent,d===l&&d!==""&&d!==null&&(i.value=d),Fs(i)}function br(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var yo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $c(i,r,l){var d=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":d?i.setProperty(r,l):typeof l!="number"||l===0||yo.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function Gc(i,r,l){if(r!=null&&typeof r!="object")throw Error(a(62));if(i=i.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var y in r)d=r[y],r.hasOwnProperty(y)&&l[y]!==d&&$c(i,y,d)}else for(var x in r)r.hasOwnProperty(x)&&$c(i,x,r[x])}function Jl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(i){return Vc.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function wr(){}var ss=null;function bo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Hs=null,Ct=null;function Wc(i){var r=gr(i);if(r&&(i=r.stateNode)){var l=i[Kn]||null;e:switch(i=r.stateNode,r.type){case"input":if(el(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+yi(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var d=l[r];if(d!==i&&d.form===i.form){var y=d[Kn]||null;if(!y)throw Error(a(90));el(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(r=0;r<l.length;r++)d=l[r],d.form===i.form&&Yl(d)}break e;case"textarea":Ql(i,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&ma(i,!!l.multiple,r,!1)}}}var ec=!1;function Yc(i,r,l){if(ec)return i(r,l);ec=!0;try{var d=i(r);return d}finally{if(ec=!1,(Hs!==null||Ct!==null)&&(vf(),Hs&&(r=Hs,i=Ct,Ct=Hs=null,Wc(r),i)))for(r=0;r<i.length;r++)Wc(i[r])}}function za(i,r){var l=i.stateNode;if(l===null)return null;var d=l[Kn]||null;if(d===null)return null;l=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(a(231,r,typeof l));return l}var Wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tc=!1;if(Wi)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){tc=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{tc=!1}var Ba=null,xo=null,Br=null;function Kc(){if(Br)return Br;var i,r=xo,l=r.length,d,y="value"in Ba?Ba.value:Ba.textContent,x=y.length;for(i=0;i<l&&r[i]===y[i];i++);var O=l-i;for(d=1;d<=O&&r[l-d]===y[x-d];d++);return Br=y.slice(i,1<d?1-d:void 0)}function Va(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function tl(){return!0}function nl(){return!1}function Ui(i){function r(l,d,y,x,O){this._reactName=l,this._targetInst=y,this.type=d,this.nativeEvent=x,this.target=O,this.currentTarget=null;for(var G in i)i.hasOwnProperty(G)&&(l=i[G],this[G]=l?l(x):x[G]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?tl:nl,this.isPropagationStopped=nl,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=tl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=tl)},persist:function(){},isPersistent:tl}),r}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=Ui(Ur),os=v({},Ur,{view:0,detail:0}),il=Ui(os),_o,ls,cs,So=v({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==cs&&(cs&&i.type==="mousemove"?(_o=i.screenX-cs.screenX,ls=i.screenY-cs.screenY):ls=_o=0,cs=i),_o)},movementY:function(i){return"movementY"in i?i.movementY:ls}}),nc=Ui(So),us=v({},So,{dataTransfer:0}),ds=Ui(us),Qc=v({},os,{relatedTarget:0}),hs=Ui(Qc),Xc=v({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),S=Ui(Xc),R=v({},Ur,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),re=Ui(R),me=v({},Ur,{data:0}),_e=Ui(me),Me={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},He={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gt(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=rt[i])?!!r[i]:!1}function Mt(){return gt}var qt=v({},os,{key:function(i){if(i.key){var r=Me[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Va(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?He[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mt,charCode:function(i){return i.type==="keypress"?Va(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Va(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),an=Ui(qt),Qn=v({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hi=Ui(Qn),Rn=v({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mt}),Ri=Ui(Rn),bi=v({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yi=Ui(bi),fs=v({},So,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),xr=Ui(fs),ps=v({},Ur,{newState:0,oldState:0}),ic=Ui(ps),al=[9,13,27,32],Ir=Wi&&"CompositionEvent"in window,_r=null;Wi&&"documentMode"in document&&(_r=document.documentMode);var No=Wi&&"TextEvent"in window&&!_r,ms=Wi&&(!Ir||_r&&8<_r&&11>=_r),Ii=" ",$s=!1;function Gs(i,r){switch(i){case"keyup":return al.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var qr=!1;function ga(i,r){switch(i){case"compositionend":return rl(r);case"keypress":return r.which!==32?null:($s=!0,Ii);case"textInput":return i=r.data,i===Ii&&$s?null:i;default:return null}}function gs(i,r){if(qr)return i==="compositionend"||!Ir&&Gs(i,r)?(i=Kc(),Br=xo=Ba=null,qr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ms&&r.locale!=="ko"?null:r.data;default:return null}}var sl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ac(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!sl[i.type]:r==="textarea"}function Ua(i,r,l,d){Hs?Ct?Ct.push(d):Ct=[d]:Hs=d,r=Nf(r,"onChange"),0<r.length&&(l=new Wa("onChange","change",null,l,d),i.push({event:l,listeners:r}))}var Sr=null,vs=null;function rc(i){g2(i,0)}function Nr(i){var r=vo(i);if(Yl(r))return i}function Vs(i,r){if(i==="change")return r}var Aa=!1;if(Wi){var va;if(Wi){var Fr="oninput"in document;if(!Fr){var Hr=document.createElement("div");Hr.setAttribute("oninput","return;"),Fr=typeof Hr.oninput=="function"}va=Fr}else va=!1;Aa=va&&(!document.documentMode||9<document.documentMode)}function ys(){Sr&&(Sr.detachEvent("onpropertychange",ol),vs=Sr=null)}function ol(i){if(i.propertyName==="value"&&Nr(vs)){var r=[];Ua(r,vs,i,bo(i)),Yc(rc,r)}}function ll(i,r,l){i==="focusin"?(ys(),Sr=r,vs=l,Sr.attachEvent("onpropertychange",ol)):i==="focusout"&&ys()}function fi(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Nr(vs)}function Jc(i,r){if(i==="click")return Nr(r)}function $r(i,r){if(i==="input"||i==="change")return Nr(r)}function Gr(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Ki=typeof Object.is=="function"?Object.is:Gr;function bs(i,r){if(Ki(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),d=Object.keys(r);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var y=l[d];if(!Fe.call(r,y)||!Ki(i[y],r[y]))return!1}return!0}function cl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ul(i,r){var l=cl(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=r&&d>=r)return{node:l,offset:r-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=cl(l)}}function ws(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?ws(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function xs(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=pa(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=pa(i.document)}return r}function Vr(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var jo=Wi&&"documentMode"in document&&11>=document.documentMode,Ia=null,_s=null,sa=null,Ya=!1;function hn(i,r,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ya||Ia==null||Ia!==pa(d)||(d=Ia,"selectionStart"in d&&Vr(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),sa&&bs(sa,d)||(sa=d,d=Nf(_s,"onSelect"),0<d.length&&(r=new Wa("onSelect","select",null,r,l),i.push({event:r,listeners:d}),r.target=Ia)))}function rn(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var Dn={animationend:rn("Animation","AnimationEnd"),animationiteration:rn("Animation","AnimationIteration"),animationstart:rn("Animation","AnimationStart"),transitionrun:rn("Transition","TransitionRun"),transitionstart:rn("Transition","TransitionStart"),transitioncancel:rn("Transition","TransitionCancel"),transitionend:rn("Transition","TransitionEnd")},pi={},Wr={};Wi&&(Wr=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function jr(i){if(pi[i])return pi[i];if(!Dn[i])return i;var r=Dn[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in Wr)return pi[i]=r[l];return i}var Ao=jr("animationend"),sc=jr("animationiteration"),vd=jr("animationstart"),Vh=jr("transitionrun"),Wh=jr("transitionstart"),Yh=jr("transitioncancel"),yd=jr("transitionend"),bd=new Map,Eo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eo.push("scrollEnd");function Ka(i,r){bd.set(i,r),vr(r,[i])}var oc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},qa=[],Co=0,Zc=0;function lc(){for(var i=Co,r=Zc=Co=0;r<i;){var l=qa[r];qa[r++]=null;var d=qa[r];qa[r++]=null;var y=qa[r];qa[r++]=null;var x=qa[r];if(qa[r++]=null,d!==null&&y!==null){var O=d.pending;O===null?y.next=y:(y.next=O.next,O.next=y),d.pending=y}x!==0&&uc(l,y,x)}}function cc(i,r,l,d){qa[Co++]=i,qa[Co++]=r,qa[Co++]=l,qa[Co++]=d,Zc|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function eu(i,r,l,d){return cc(i,r,l,d),oa(i)}function Ss(i,r){return cc(i,null,null,r),oa(i)}function uc(i,r,l){i.lanes|=l;var d=i.alternate;d!==null&&(d.lanes|=l);for(var y=!1,x=i.return;x!==null;)x.childLanes|=l,d=x.alternate,d!==null&&(d.childLanes|=l),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(y=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,y&&r!==null&&(y=31-Yt(l),i=x.hiddenUpdates,d=i[y],d===null?i[y]=[r]:d.push(r),r.lane=l|536870912),x):null}function oa(i){if(50<qd)throw qd=0,qm=null,Error(a(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Qi={};function tu(i,r,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function la(i,r,l,d){return new tu(i,r,l,d)}function nu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Qa(i,r){var l=i.alternate;return l===null?(l=la(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function dc(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function dl(i,r,l,d,y,x){var O=0;if(d=i,typeof i=="function")nu(i)&&(O=1);else if(typeof i=="string")O=z3(i,l,$.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case X:return i=la(31,l,r,y),i.elementType=X,i.lanes=x,i;case E:return Ws(l.children,y,x,r);case T:O=8,y|=24;break;case A:return i=la(12,l,r,y|2),i.elementType=A,i.lanes=x,i;case se:return i=la(13,l,r,y),i.elementType=se,i.lanes=x,i;case he:return i=la(19,l,r,y),i.elementType=he,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:O=10;break e;case z:O=9;break e;case P:O=11;break e;case oe:O=14;break e;case ee:O=16,d=null;break e}O=29,l=Error(a(130,i===null?"null":typeof i,"")),d=null}return r=la(O,l,r,y),r.elementType=i,r.type=d,r.lanes=x,r}function Ws(i,r,l,d){return i=la(7,i,d,r),i.lanes=l,i}function hc(i,r,l){return i=la(6,i,null,r),i.lanes=l,i}function iu(i){var r=la(18,null,null,0);return r.stateNode=i,r}function hl(i,r,l){return r=la(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var au=new WeakMap;function Xa(i,r){if(typeof i=="object"&&i!==null){var l=au.get(i);return l!==void 0?l:(r={value:i,source:r,stack:ut(r)},au.set(i,r),r)}return{value:i,source:r,stack:ut(r)}}var fl=[],ko=0,ru=null,fc=0,Ja=[],Za=0,Ys=null,er=1,tr="";function Fa(i,r){fl[ko++]=fc,fl[ko++]=ru,ru=i,fc=r}function Kh(i,r,l){Ja[Za++]=er,Ja[Za++]=tr,Ja[Za++]=Ys,Ys=i;var d=er;i=tr;var y=32-Yt(d)-1;d&=~(1<<y),l+=1;var x=32-Yt(r)+y;if(30<x){var O=y-y%5;x=(d&(1<<O)-1).toString(32),d>>=O,y-=O,er=1<<32-Yt(r)+y|l<<y|d,tr=x+i}else er=1<<x|l<<y|d,tr=i}function wd(i){i.return!==null&&(Fa(i,1),Kh(i,1,0))}function su(i){for(;i===ru;)ru=fl[--ko],fl[ko]=null,fc=fl[--ko],fl[ko]=null;for(;i===Ys;)Ys=Ja[--Za],Ja[Za]=null,tr=Ja[--Za],Ja[Za]=null,er=Ja[--Za],Ja[Za]=null}function Qh(i,r){Ja[Za++]=er,Ja[Za++]=tr,Ja[Za++]=Ys,er=r.id,tr=r.overflow,Ys=i}var Xi=null,Un=null,Jt=!1,ya=null,ni=!1,Ar=Error(a(519));function Ks(i){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(Xa(r,i)),Ar}function xd(i){var r=i.stateNode,l=i.type,d=i.memoizedProps;switch(r[An]=i,r[Kn]=d,l){case"dialog":en("cancel",r),en("close",r);break;case"iframe":case"object":case"embed":en("load",r);break;case"video":case"audio":for(l=0;l<Hd.length;l++)en(Hd[l],r);break;case"source":en("error",r);break;case"img":case"image":case"link":en("error",r),en("load",r);break;case"details":en("toggle",r);break;case"input":en("invalid",r),Hc(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":en("invalid",r);break;case"textarea":en("invalid",r),Xl(r,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||d.suppressHydrationWarning===!0||w2(r.textContent,l)?(d.popover!=null&&(en("beforetoggle",r),en("toggle",r)),d.onScroll!=null&&en("scroll",r),d.onScrollEnd!=null&&en("scrollend",r),d.onClick!=null&&(r.onclick=wr),r=!0):r=!1,r||Ks(i,!0)}function Ns(i){for(Xi=i.return;Xi;)switch(Xi.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:Xi=Xi.return}}function Ji(i){if(i!==Xi)return!1;if(!Jt)return Ns(i),Jt=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||ng(i.type,i.memoizedProps)),l=!l),l&&Un&&Ks(i),Ns(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));Un=k2(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));Un=k2(i)}else r===27?(r=Un,Cl(i.type)?(i=og,og=null,Un=i):Un=r):Un=Xi?Xr(i.stateNode.nextSibling):null;return!0}function Lo(){Un=Xi=null,Jt=!1}function _d(){var i=ya;return i!==null&&(or===null?or=i:or.push.apply(or,i),ya=null),i}function pl(i){ya===null?ya=[i]:ya.push(i)}var ou=F(null),Qs=null,Yr=null;function Xs(i,r,l){B(ou,r._currentValue),r._currentValue=l}function nr(i){i._currentValue=ou.current,L(ou)}function ml(i,r,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),i===l)break;i=i.return}}function To(i,r,l,d){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var x=y.dependencies;if(x!==null){var O=y.child;x=x.firstContext;e:for(;x!==null;){var G=x;x=y;for(var de=0;de<r.length;de++)if(G.context===r[de]){x.lanes|=l,G=x.alternate,G!==null&&(G.lanes|=l),ml(x.return,l,i),d||(O=null);break e}x=G.next}}else if(y.tag===18){if(O=y.return,O===null)throw Error(a(341));O.lanes|=l,x=O.alternate,x!==null&&(x.lanes|=l),ml(O,l,i),O=null}else O=y.child;if(O!==null)O.return=y;else for(O=y;O!==null;){if(O===i){O=null;break}if(y=O.sibling,y!==null){y.return=O.return,O=y;break}O=O.return}y=O}}function Js(i,r,l,d){i=null;for(var y=r,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var O=y.alternate;if(O===null)throw Error(a(387));if(O=O.memoizedProps,O!==null){var G=y.type;Ki(y.pendingProps.value,O.value)||(i!==null?i.push(G):i=[G])}}else if(y===Q.current){if(O=y.alternate,O===null)throw Error(a(387));O.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Yd):i=[Yd])}y=y.return}i!==null&&To(r,i,l,d),r.flags|=262144}function lu(i){for(i=i.firstContext;i!==null;){if(!Ki(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Zs(i){Qs=i,Yr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Zi(i){return Xh(Qs,i)}function cu(i,r){return Qs===null&&Zs(i),Xh(i,r)}function Xh(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Yr===null){if(i===null)throw Error(a(308));Yr=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Yr=Yr.next=r;return l}var sm=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,d){i.push(d)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},om=t.unstable_scheduleCallback,lm=t.unstable_NormalPriority,mi={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gl(){return{controller:new sm,data:new Map,refCount:0}}function pc(i){i.refCount--,i.refCount===0&&om(lm,function(){i.controller.abort()})}var mc=null,uu=0,m=0,w=null;function N(i,r){if(mc===null){var l=mc=[];uu=0,m=Wm(),w={status:"pending",value:void 0,then:function(d){l.push(d)}}}return uu++,r.then(C,C),r}function C(){if(--uu===0&&mc!==null){w!==null&&(w.status="fulfilled");var i=mc;mc=null,m=0,w=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function M(i,r){var l=[],d={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){d.status="fulfilled",d.value=r;for(var y=0;y<l.length;y++)(0,l[y])(r)},function(y){for(d.status="rejected",d.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),d}var q=I.S;I.S=function(i,r){$v=zt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&N(i,r),q!==null&&q(i,r)};var H=F(null);function W(){var i=H.current;return i!==null?i:qn.pooledCache}function K(i,r){r===null?B(H,H.current):B(H,r.pool)}function ae(){var i=W();return i===null?null:{parent:mi._currentValue,pool:i}}var ge=Error(a(460)),Ee=Error(a(474)),ne=Error(a(542)),we={then:function(){}};function Ne(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Re(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(wr,wr),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,$e(i),i;default:if(typeof r.status=="string")r.then(wr,wr);else{if(i=qn,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=r,i.status="pending",i.then(function(d){if(r.status==="pending"){var y=r;y.status="fulfilled",y.value=d}},function(d){if(r.status==="pending"){var y=r;y.status="rejected",y.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,$e(i),i}throw Oe=r,ge}}function Ae(i){try{var r=i._init;return r(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Oe=l,ge):l}}var Oe=null;function Pe(){if(Oe===null)throw Error(a(459));var i=Oe;return Oe=null,i}function $e(i){if(i===ge||i===ne)throw Error(a(483))}var qe=null,ot=0;function et(i){var r=ot;return ot+=1,qe===null&&(qe=[]),Re(qe,i,r)}function Ut(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function it(i,r){throw r.$$typeof===_?Error(a(525)):(i=Object.prototype.toString.call(r),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Xt(i){function r(Se,ye){if(i){var Ce=Se.deletions;Ce===null?(Se.deletions=[ye],Se.flags|=16):Ce.push(ye)}}function l(Se,ye){if(!i)return null;for(;ye!==null;)r(Se,ye),ye=ye.sibling;return null}function d(Se){for(var ye=new Map;Se!==null;)Se.key!==null?ye.set(Se.key,Se):ye.set(Se.index,Se),Se=Se.sibling;return ye}function y(Se,ye){return Se=Qa(Se,ye),Se.index=0,Se.sibling=null,Se}function x(Se,ye,Ce){return Se.index=Ce,i?(Ce=Se.alternate,Ce!==null?(Ce=Ce.index,Ce<ye?(Se.flags|=67108866,ye):Ce):(Se.flags|=67108866,ye)):(Se.flags|=1048576,ye)}function O(Se){return i&&Se.alternate===null&&(Se.flags|=67108866),Se}function G(Se,ye,Ce,Be){return ye===null||ye.tag!==6?(ye=hc(Ce,Se.mode,Be),ye.return=Se,ye):(ye=y(ye,Ce),ye.return=Se,ye)}function de(Se,ye,Ce,Be){var jt=Ce.type;return jt===E?De(Se,ye,Ce.props.children,Be,Ce.key):ye!==null&&(ye.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===ee&&Ae(jt)===ye.type)?(ye=y(ye,Ce.props),Ut(ye,Ce),ye.return=Se,ye):(ye=dl(Ce.type,Ce.key,Ce.props,null,Se.mode,Be),Ut(ye,Ce),ye.return=Se,ye)}function ke(Se,ye,Ce,Be){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Ce.containerInfo||ye.stateNode.implementation!==Ce.implementation?(ye=hl(Ce,Se.mode,Be),ye.return=Se,ye):(ye=y(ye,Ce.children||[]),ye.return=Se,ye)}function De(Se,ye,Ce,Be,jt){return ye===null||ye.tag!==7?(ye=Ws(Ce,Se.mode,Be,jt),ye.return=Se,ye):(ye=y(ye,Ce),ye.return=Se,ye)}function Ue(Se,ye,Ce){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=hc(""+ye,Se.mode,Ce),ye.return=Se,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case b:return Ce=dl(ye.type,ye.key,ye.props,null,Se.mode,Ce),Ut(Ce,ye),Ce.return=Se,Ce;case j:return ye=hl(ye,Se.mode,Ce),ye.return=Se,ye;case ee:return ye=Ae(ye),Ue(Se,ye,Ce)}if(k(ye)||Y(ye))return ye=Ws(ye,Se.mode,Ce,null),ye.return=Se,ye;if(typeof ye.then=="function")return Ue(Se,et(ye),Ce);if(ye.$$typeof===D)return Ue(Se,cu(Se,ye),Ce);it(Se,ye)}return null}function Le(Se,ye,Ce,Be){var jt=ye!==null?ye.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return jt!==null?null:G(Se,ye,""+Ce,Be);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case b:return Ce.key===jt?de(Se,ye,Ce,Be):null;case j:return Ce.key===jt?ke(Se,ye,Ce,Be):null;case ee:return Ce=Ae(Ce),Le(Se,ye,Ce,Be)}if(k(Ce)||Y(Ce))return jt!==null?null:De(Se,ye,Ce,Be,null);if(typeof Ce.then=="function")return Le(Se,ye,et(Ce),Be);if(Ce.$$typeof===D)return Le(Se,ye,cu(Se,Ce),Be);it(Se,Ce)}return null}function Te(Se,ye,Ce,Be,jt){if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return Se=Se.get(Ce)||null,G(ye,Se,""+Be,jt);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case b:return Se=Se.get(Be.key===null?Ce:Be.key)||null,de(ye,Se,Be,jt);case j:return Se=Se.get(Be.key===null?Ce:Be.key)||null,ke(ye,Se,Be,jt);case ee:return Be=Ae(Be),Te(Se,ye,Ce,Be,jt)}if(k(Be)||Y(Be))return Se=Se.get(Ce)||null,De(ye,Se,Be,jt,null);if(typeof Be.then=="function")return Te(Se,ye,Ce,et(Be),jt);if(Be.$$typeof===D)return Te(Se,ye,Ce,cu(ye,Be),jt);it(ye,Be)}return null}function st(Se,ye,Ce,Be){for(var jt=null,gn=null,vt=ye,Kt=ye=0,nn=null;vt!==null&&Kt<Ce.length;Kt++){vt.index>Kt?(nn=vt,vt=null):nn=vt.sibling;var vn=Le(Se,vt,Ce[Kt],Be);if(vn===null){vt===null&&(vt=nn);break}i&&vt&&vn.alternate===null&&r(Se,vt),ye=x(vn,ye,Kt),gn===null?jt=vn:gn.sibling=vn,gn=vn,vt=nn}if(Kt===Ce.length)return l(Se,vt),Jt&&Fa(Se,Kt),jt;if(vt===null){for(;Kt<Ce.length;Kt++)vt=Ue(Se,Ce[Kt],Be),vt!==null&&(ye=x(vt,ye,Kt),gn===null?jt=vt:gn.sibling=vt,gn=vt);return Jt&&Fa(Se,Kt),jt}for(vt=d(vt);Kt<Ce.length;Kt++)nn=Te(vt,Se,Kt,Ce[Kt],Be),nn!==null&&(i&&nn.alternate!==null&&vt.delete(nn.key===null?Kt:nn.key),ye=x(nn,ye,Kt),gn===null?jt=nn:gn.sibling=nn,gn=nn);return i&&vt.forEach(function(Rl){return r(Se,Rl)}),Jt&&Fa(Se,Kt),jt}function Lt(Se,ye,Ce,Be){if(Ce==null)throw Error(a(151));for(var jt=null,gn=null,vt=ye,Kt=ye=0,nn=null,vn=Ce.next();vt!==null&&!vn.done;Kt++,vn=Ce.next()){vt.index>Kt?(nn=vt,vt=null):nn=vt.sibling;var Rl=Le(Se,vt,vn.value,Be);if(Rl===null){vt===null&&(vt=nn);break}i&&vt&&Rl.alternate===null&&r(Se,vt),ye=x(Rl,ye,Kt),gn===null?jt=Rl:gn.sibling=Rl,gn=Rl,vt=nn}if(vn.done)return l(Se,vt),Jt&&Fa(Se,Kt),jt;if(vt===null){for(;!vn.done;Kt++,vn=Ce.next())vn=Ue(Se,vn.value,Be),vn!==null&&(ye=x(vn,ye,Kt),gn===null?jt=vn:gn.sibling=vn,gn=vn);return Jt&&Fa(Se,Kt),jt}for(vt=d(vt);!vn.done;Kt++,vn=Ce.next())vn=Te(vt,Se,Kt,vn.value,Be),vn!==null&&(i&&vn.alternate!==null&&vt.delete(vn.key===null?Kt:vn.key),ye=x(vn,ye,Kt),gn===null?jt=vn:gn.sibling=vn,gn=vn);return i&&vt.forEach(function(Y3){return r(Se,Y3)}),Jt&&Fa(Se,Kt),jt}function Bn(Se,ye,Ce,Be){if(typeof Ce=="object"&&Ce!==null&&Ce.type===E&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case b:e:{for(var jt=Ce.key;ye!==null;){if(ye.key===jt){if(jt=Ce.type,jt===E){if(ye.tag===7){l(Se,ye.sibling),Be=y(ye,Ce.props.children),Be.return=Se,Se=Be;break e}}else if(ye.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===ee&&Ae(jt)===ye.type){l(Se,ye.sibling),Be=y(ye,Ce.props),Ut(Be,Ce),Be.return=Se,Se=Be;break e}l(Se,ye);break}else r(Se,ye);ye=ye.sibling}Ce.type===E?(Be=Ws(Ce.props.children,Se.mode,Be,Ce.key),Be.return=Se,Se=Be):(Be=dl(Ce.type,Ce.key,Ce.props,null,Se.mode,Be),Ut(Be,Ce),Be.return=Se,Se=Be)}return O(Se);case j:e:{for(jt=Ce.key;ye!==null;){if(ye.key===jt)if(ye.tag===4&&ye.stateNode.containerInfo===Ce.containerInfo&&ye.stateNode.implementation===Ce.implementation){l(Se,ye.sibling),Be=y(ye,Ce.children||[]),Be.return=Se,Se=Be;break e}else{l(Se,ye);break}else r(Se,ye);ye=ye.sibling}Be=hl(Ce,Se.mode,Be),Be.return=Se,Se=Be}return O(Se);case ee:return Ce=Ae(Ce),Bn(Se,ye,Ce,Be)}if(k(Ce))return st(Se,ye,Ce,Be);if(Y(Ce)){if(jt=Y(Ce),typeof jt!="function")throw Error(a(150));return Ce=jt.call(Ce),Lt(Se,ye,Ce,Be)}if(typeof Ce.then=="function")return Bn(Se,ye,et(Ce),Be);if(Ce.$$typeof===D)return Bn(Se,ye,cu(Se,Ce),Be);it(Se,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint"?(Ce=""+Ce,ye!==null&&ye.tag===6?(l(Se,ye.sibling),Be=y(ye,Ce),Be.return=Se,Se=Be):(l(Se,ye),Be=hc(Ce,Se.mode,Be),Be.return=Se,Se=Be),O(Se)):l(Se,ye)}return function(Se,ye,Ce,Be){try{ot=0;var jt=Bn(Se,ye,Ce,Be);return qe=null,jt}catch(vt){if(vt===ge||vt===ne)throw vt;var gn=la(29,vt,null,Se.mode);return gn.lanes=Be,gn.return=Se,gn}}}var In=Xt(!0),Ft=Xt(!1),tt=!1;function Ke(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xn(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function kt(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Gt(i,r,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Sn&2)!==0){var y=d.pending;return y===null?r.next=r:(r.next=y.next,y.next=r),d.pending=r,r=oa(i),uc(i,null,l),r}return cc(i,d,r,l),oa(i)}function xn(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var d=r.lanes;d&=i.pendingLanes,l|=d,r.lanes=l,$n(i,l)}}function Di(i,r){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var y=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var O={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?y=x=O:x=x.next=O,l=l.next}while(l!==null);x===null?y=x=r:x=x.next=r}else y=x=r;l={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var ea=!1;function Mn(){if(ea){var i=w;if(i!==null)throw i}}function wi(i,r,l,d){ea=!1;var y=i.updateQueue;tt=!1;var x=y.firstBaseUpdate,O=y.lastBaseUpdate,G=y.shared.pending;if(G!==null){y.shared.pending=null;var de=G,ke=de.next;de.next=null,O===null?x=ke:O.next=ke,O=de;var De=i.alternate;De!==null&&(De=De.updateQueue,G=De.lastBaseUpdate,G!==O&&(G===null?De.firstBaseUpdate=ke:G.next=ke,De.lastBaseUpdate=de))}if(x!==null){var Ue=y.baseState;O=0,De=ke=de=null,G=x;do{var Le=G.lane&-536870913,Te=Le!==G.lane;if(Te?(tn&Le)===Le:(d&Le)===Le){Le!==0&&Le===m&&(ea=!0),De!==null&&(De=De.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var st=i,Lt=G;Le=r;var Bn=l;switch(Lt.tag){case 1:if(st=Lt.payload,typeof st=="function"){Ue=st.call(Bn,Ue,Le);break e}Ue=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=Lt.payload,Le=typeof st=="function"?st.call(Bn,Ue,Le):st,Le==null)break e;Ue=v({},Ue,Le);break e;case 2:tt=!0}}Le=G.callback,Le!==null&&(i.flags|=64,Te&&(i.flags|=8192),Te=y.callbacks,Te===null?y.callbacks=[Le]:Te.push(Le))}else Te={lane:Le,tag:G.tag,payload:G.payload,callback:G.callback,next:null},De===null?(ke=De=Te,de=Ue):De=De.next=Te,O|=Le;if(G=G.next,G===null){if(G=y.shared.pending,G===null)break;Te=G,G=Te.next,Te.next=null,y.lastBaseUpdate=Te,y.shared.pending=null}}while(!0);De===null&&(de=Ue),y.baseState=de,y.firstBaseUpdate=ke,y.lastBaseUpdate=De,x===null&&(y.shared.lanes=0),Sl|=O,i.lanes=O,i.memoizedState=Ue}}function ca(i,r){if(typeof i!="function")throw Error(a(191,i));i.call(r)}function xi(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)ca(l[i],r)}var Qt=F(null),ln=F(0);function Jn(i,r){i=qo,B(ln,i),B(Qt,r),qo=i|r.baseLanes}function fn(){B(ln,qo),B(Qt,Qt.current)}function Mi(){qo=ln.current,L(Qt),L(ln)}var Zn=F(null),cn=null;function gi(i){var r=i.alternate;B(sn,sn.current&1),B(Zn,i),cn===null&&(r===null||Qt.current!==null||r.memoizedState!==null)&&(cn=i)}function _n(i){B(sn,sn.current),B(Zn,i),cn===null&&(cn=i)}function _i(i){i.tag===22?(B(sn,sn.current),B(Zn,i),cn===null&&(cn=i)):Si()}function Si(){B(sn,sn.current),B(Zn,Zn.current)}function En(i){L(Zn),cn===i&&(cn=null),L(sn)}var sn=F(0);function ua(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||rg(l)||sg(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ii=0,_t=null,Nt=null,un=null,Ea=!1,ir=!1,ba=!1,Ni=0,eo=0,to=null,du=0;function Pn(){throw Error(a(321))}function Sd(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!Ki(i[l],r[l]))return!1;return!0}function Nd(i,r,l,d,y,x){return ii=x,_t=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,I.H=i===null||i.memoizedState===null?tv:gm,ba=!1,x=l(d,y),ba=!1,ir&&(x=js(r,l,d,y)),hu(i),x}function hu(i){I.H=Od;var r=Nt!==null&&Nt.next!==null;if(ii=0,un=Nt=_t=null,Ea=!1,eo=0,to=null,r)throw Error(a(300));i===null||Fi||(i=i.dependencies,i!==null&&lu(i)&&(Fi=!0))}function js(i,r,l,d){_t=i;var y=0;do{if(ir&&(to=null),eo=0,ir=!1,25<=y)throw Error(a(301));if(y+=1,un=Nt=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}I.H=nv,x=r(l,d)}while(ir);return x}function cm(){var i=I.H,r=i.useState()[0];return r=typeof r.then=="function"?no(r):r,i=i.useState()[0],(Nt!==null?Nt.memoizedState:null)!==i&&(_t.flags|=1024),r}function jd(){var i=Ni!==0;return Ni=0,i}function Ad(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function fu(i){if(Ea){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ea=!1}ii=0,un=Nt=_t=null,ir=!1,eo=Ni=0,to=null}function qi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?_t.memoizedState=un=i:un=un.next=i,un}function ai(){if(Nt===null){var i=_t.alternate;i=i!==null?i.memoizedState:null}else i=Nt.next;var r=un===null?_t.memoizedState:un.next;if(r!==null)un=r,Nt=i;else{if(i===null)throw _t.alternate===null?Error(a(467)):Error(a(310));Nt=i,i={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},un===null?_t.memoizedState=un=i:un=un.next=i}return un}function gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function no(i){var r=eo;return eo+=1,to===null&&(to=[]),i=Re(to,i,r),r=_t,(un===null?r.memoizedState:un.next)===null&&(r=r.alternate,I.H=r===null||r.memoizedState===null?tv:gm),i}function vl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return no(i);if(i.$$typeof===D)return Zi(i)}throw Error(a(438,String(i)))}function Oo(i){var r=null,l=_t.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var d=_t.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(y){return y.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=gc(),_t.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),d=0;d<i;d++)l[d]=pe;return r.index++,l}function Kr(i,r){return typeof r=="function"?r(i):r}function pu(i){var r=ai();return yl(r,Nt,i)}function yl(i,r,l){var d=i.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=l;var y=i.baseQueue,x=d.pending;if(x!==null){if(y!==null){var O=y.next;y.next=x.next,x.next=O}r.baseQueue=y=x,d.pending=null}if(x=i.baseState,y===null)i.memoizedState=x;else{r=y.next;var G=O=null,de=null,ke=r,De=!1;do{var Ue=ke.lane&-536870913;if(Ue!==ke.lane?(tn&Ue)===Ue:(ii&Ue)===Ue){var Le=ke.revertLane;if(Le===0)de!==null&&(de=de.next={lane:0,revertLane:0,gesture:null,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),Ue===m&&(De=!0);else if((ii&Le)===Le){ke=ke.next,Le===m&&(De=!0);continue}else Ue={lane:0,revertLane:ke.revertLane,gesture:null,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},de===null?(G=de=Ue,O=x):de=de.next=Ue,_t.lanes|=Le,Sl|=Le;Ue=ke.action,ba&&l(x,Ue),x=ke.hasEagerState?ke.eagerState:l(x,Ue)}else Le={lane:Ue,revertLane:ke.revertLane,gesture:ke.gesture,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},de===null?(G=de=Le,O=x):de=de.next=Le,_t.lanes|=Ue,Sl|=Ue;ke=ke.next}while(ke!==null&&ke!==r);if(de===null?O=x:de.next=G,!Ki(x,i.memoizedState)&&(Fi=!0,De&&(l=w,l!==null)))throw l;i.memoizedState=x,i.baseState=O,i.baseQueue=de,d.lastRenderedState=x}return y===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function mu(i){var r=ai(),l=r.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=i;var d=l.dispatch,y=l.pending,x=r.memoizedState;if(y!==null){l.pending=null;var O=y=y.next;do x=i(x,O.action),O=O.next;while(O!==y);Ki(x,r.memoizedState)||(Fi=!0),r.memoizedState=x,r.baseQueue===null&&(r.baseState=x),l.lastRenderedState=x}return[x,d]}function gu(i,r,l){var d=_t,y=ai(),x=Jt;if(x){if(l===void 0)throw Error(a(407));l=l()}else l=r();var O=!Ki((Nt||y).memoizedState,l);if(O&&(y.memoizedState=l,Fi=!0),y=y.queue,um(Cd.bind(null,d,y,i),[i]),y.getSnapshot!==r||O||un!==null&&un.memoizedState.tag&1){if(d.flags|=2048,Do(9,{destroy:void 0},Ed.bind(null,d,y,l,r),null),qn===null)throw Error(a(349));x||(ii&127)!==0||As(d,r,l)}return l}function As(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=_t.updateQueue,r===null?(r=gc(),_t.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function Ed(i,r,l,d){r.value=l,r.getSnapshot=d,Jh(r)&&kd(i)}function Cd(i,r,l){return l(function(){Jh(r)&&kd(i)})}function Jh(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!Ki(i,l)}catch{return!0}}function kd(i){var r=Ss(i,2);r!==null&&lr(r,i,2)}function io(i){var r=qi();if(typeof i=="function"){var l=i;if(i=l(),ba){Et(!0);try{l()}finally{Et(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:i},r}function Zh(i,r,l,d){return i.baseState=l,yl(i,Nt,typeof d=="function"?d:Kr)}function ef(i,r,l,d,y){if(rf(i))throw Error(a(485));if(i=r.action,i!==null){var x={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){x.listeners.push(O)}};I.T!==null?l(!0):x.isTransition=!1,d(x),l=r.pending,l===null?(x.next=r.pending=x,tf(r,x)):(x.next=l.next,r.pending=l.next=x)}}function tf(i,r){var l=r.action,d=r.payload,y=i.state;if(r.isTransition){var x=I.T,O={};I.T=O;try{var G=l(y,d),de=I.S;de!==null&&de(O,G),Ld(i,r,G)}catch(ke){Ro(i,r,ke)}finally{x!==null&&O.types!==null&&(x.types=O.types),I.T=x}}else try{x=l(y,d),Ld(i,r,x)}catch(ke){Ro(i,r,ke)}}function Ld(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){nf(i,r,d)},function(d){return Ro(i,r,d)}):nf(i,r,l)}function nf(i,r,l){r.status="fulfilled",r.value=l,vu(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,tf(i,l)))}function Ro(i,r,l){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=l,vu(r),r=r.next;while(r!==d)}i.action=null}function vu(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function vc(i,r){return r}function Qr(i,r){if(Jt){var l=qn.formState;if(l!==null){e:{var d=_t;if(Jt){if(Un){t:{for(var y=Un,x=ni;y.nodeType!==8;){if(!x){y=null;break t}if(y=Xr(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){Un=Xr(y.nextSibling),d=y.data==="F!";break e}}Ks(d)}d=!1}d&&(r=l[0])}}return l=qi(),l.memoizedState=l.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vc,lastRenderedState:r},l.queue=d,l=J1.bind(null,_t,d),d.dispatch=l,d=io(!1),x=mm.bind(null,_t,!1,d.queue),d=qi(),y={state:r,dispatch:null,action:i,pending:null},d.queue=y,l=ef.bind(null,_t,y,x,l),y.dispatch=l,d.memoizedState=i,[r,l,!1]}function Es(i){var r=ai();return Cs(r,Nt,i)}function Cs(i,r,l){if(r=yl(i,r,vc)[0],i=pu(Kr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=no(r)}catch(O){throw O===ge?ne:O}else d=r;r=ai();var y=r.queue,x=y.dispatch;return l!==r.memoizedState&&(_t.flags|=2048,Do(9,{destroy:void 0},yu.bind(null,y,l),null)),[d,x,i]}function yu(i,r){i.action=r}function bu(i){var r=ai(),l=Nt;if(l!==null)return Cs(r,l,i);ai(),r=r.memoizedState,l=ai();var d=l.queue.dispatch;return l.memoizedState=i,[r,d,!1]}function Do(i,r,l,d){return i={tag:i,create:l,deps:d,inst:r,next:null},r=_t.updateQueue,r===null&&(r=gc(),_t.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,r.lastEffect=i),i}function af(){return ai().memoizedState}function bl(i,r,l,d){var y=qi();_t.flags|=i,y.memoizedState=Do(1|r,{destroy:void 0},l,d===void 0?null:d)}function wl(i,r,l,d){var y=ai();d=d===void 0?null:d;var x=y.memoizedState.inst;Nt!==null&&d!==null&&Sd(d,Nt.memoizedState.deps)?y.memoizedState=Do(r,x,l,d):(_t.flags|=i,y.memoizedState=Do(1|r,x,l,d))}function B1(i,r){bl(8390656,8,i,r)}function um(i,r){wl(2048,8,i,r)}function F_(i){_t.flags|=4;var r=_t.updateQueue;if(r===null)r=gc(),_t.updateQueue=r,r.events=[i];else{var l=r.events;l===null?r.events=[i]:l.push(i)}}function U1(i){var r=ai().memoizedState;return F_({ref:r,nextImpl:i}),function(){if((Sn&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function I1(i,r){return wl(4,2,i,r)}function q1(i,r){return wl(4,4,i,r)}function F1(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function H1(i,r,l){l=l!=null?l.concat([i]):null,wl(4,4,F1.bind(null,r,i),l)}function dm(){}function $1(i,r){var l=ai();r=r===void 0?null:r;var d=l.memoizedState;return r!==null&&Sd(r,d[1])?d[0]:(l.memoizedState=[i,r],i)}function G1(i,r){var l=ai();r=r===void 0?null:r;var d=l.memoizedState;if(r!==null&&Sd(r,d[1]))return d[0];if(d=i(),ba){Et(!0);try{i()}finally{Et(!1)}}return l.memoizedState=[d,r],d}function hm(i,r,l){return l===void 0||(ii&1073741824)!==0&&(tn&261930)===0?i.memoizedState=r:(i.memoizedState=l,i=Vv(),_t.lanes|=i,Sl|=i,l)}function V1(i,r,l,d){return Ki(l,r)?l:Qt.current!==null?(i=hm(i,l,d),Ki(i,r)||(Fi=!0),i):(ii&42)===0||(ii&1073741824)!==0&&(tn&261930)===0?(Fi=!0,i.memoizedState=l):(i=Vv(),_t.lanes|=i,Sl|=i,r)}function W1(i,r,l,d,y){var x=te.p;te.p=x!==0&&8>x?x:8;var O=I.T,G={};I.T=G,mm(i,!1,r,l);try{var de=y(),ke=I.S;if(ke!==null&&ke(G,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var De=M(de,d);Td(i,r,De,kr(i))}else Td(i,r,d,kr(i))}catch(Ue){Td(i,r,{then:function(){},status:"rejected",reason:Ue},kr())}finally{te.p=x,O!==null&&G.types!==null&&(O.types=G.types),I.T=O}}function H_(){}function fm(i,r,l,d){if(i.tag!==5)throw Error(a(476));var y=Y1(i).queue;W1(i,y,r,J,l===null?H_:function(){return K1(i),l(d)})}function Y1(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:J},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function K1(i){var r=Y1(i);r.next===null&&(r=i.alternate.memoizedState),Td(i,r.next.queue,{},kr())}function pm(){return Zi(Yd)}function Q1(){return ai().memoizedState}function X1(){return ai().memoizedState}function $_(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=kr();i=kt(l);var d=Gt(r,i,l);d!==null&&(lr(d,r,l),xn(d,r,l)),r={cache:gl()},i.payload=r;return}r=r.return}}function G_(i,r,l){var d=kr();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},rf(i)?Z1(r,l):(l=eu(i,r,l,d),l!==null&&(lr(l,i,d),ev(l,r,d)))}function J1(i,r,l){var d=kr();Td(i,r,l,d)}function Td(i,r,l,d){var y={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(rf(i))Z1(r,y);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=r.lastRenderedReducer,x!==null))try{var O=r.lastRenderedState,G=x(O,l);if(y.hasEagerState=!0,y.eagerState=G,Ki(G,O))return cc(i,r,y,0),qn===null&&lc(),!1}catch{}if(l=eu(i,r,y,d),l!==null)return lr(l,i,d),ev(l,r,d),!0}return!1}function mm(i,r,l,d){if(d={lane:2,revertLane:Wm(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},rf(i)){if(r)throw Error(a(479))}else r=eu(i,l,d,2),r!==null&&lr(r,i,2)}function rf(i){var r=i.alternate;return i===_t||r!==null&&r===_t}function Z1(i,r){ir=Ea=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function ev(i,r,l){if((l&4194048)!==0){var d=r.lanes;d&=i.pendingLanes,l|=d,r.lanes=l,$n(i,l)}}var Od={readContext:Zi,use:vl,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn};Od.useEffectEvent=Pn;var tv={readContext:Zi,use:vl,useCallback:function(i,r){return qi().memoizedState=[i,r===void 0?null:r],i},useContext:Zi,useEffect:B1,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,bl(4194308,4,F1.bind(null,r,i),l)},useLayoutEffect:function(i,r){return bl(4194308,4,i,r)},useInsertionEffect:function(i,r){bl(4,2,i,r)},useMemo:function(i,r){var l=qi();r=r===void 0?null:r;var d=i();if(ba){Et(!0);try{i()}finally{Et(!1)}}return l.memoizedState=[d,r],d},useReducer:function(i,r,l){var d=qi();if(l!==void 0){var y=l(r);if(ba){Et(!0);try{l(r)}finally{Et(!1)}}}else y=r;return d.memoizedState=d.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},d.queue=i,i=i.dispatch=G_.bind(null,_t,i),[d.memoizedState,i]},useRef:function(i){var r=qi();return i={current:i},r.memoizedState=i},useState:function(i){i=io(i);var r=i.queue,l=J1.bind(null,_t,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:dm,useDeferredValue:function(i,r){var l=qi();return hm(l,i,r)},useTransition:function(){var i=io(!1);return i=W1.bind(null,_t,i.queue,!0,!1),qi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var d=_t,y=qi();if(Jt){if(l===void 0)throw Error(a(407));l=l()}else{if(l=r(),qn===null)throw Error(a(349));(tn&127)!==0||As(d,r,l)}y.memoizedState=l;var x={value:l,getSnapshot:r};return y.queue=x,B1(Cd.bind(null,d,x,i),[i]),d.flags|=2048,Do(9,{destroy:void 0},Ed.bind(null,d,x,l,r),null),l},useId:function(){var i=qi(),r=qn.identifierPrefix;if(Jt){var l=tr,d=er;l=(d&~(1<<32-Yt(d)-1)).toString(32)+l,r="_"+r+"R_"+l,l=Ni++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=du++,r="_"+r+"r_"+l.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:pm,useFormState:Qr,useActionState:Qr,useOptimistic:function(i){var r=qi();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=mm.bind(null,_t,!0,l),l.dispatch=r,[i,r]},useMemoCache:Oo,useCacheRefresh:function(){return qi().memoizedState=$_.bind(null,_t)},useEffectEvent:function(i){var r=qi(),l={impl:i};return r.memoizedState=l,function(){if((Sn&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},gm={readContext:Zi,use:vl,useCallback:$1,useContext:Zi,useEffect:um,useImperativeHandle:H1,useInsertionEffect:I1,useLayoutEffect:q1,useMemo:G1,useReducer:pu,useRef:af,useState:function(){return pu(Kr)},useDebugValue:dm,useDeferredValue:function(i,r){var l=ai();return V1(l,Nt.memoizedState,i,r)},useTransition:function(){var i=pu(Kr)[0],r=ai().memoizedState;return[typeof i=="boolean"?i:no(i),r]},useSyncExternalStore:gu,useId:Q1,useHostTransitionStatus:pm,useFormState:Es,useActionState:Es,useOptimistic:function(i,r){var l=ai();return Zh(l,Nt,i,r)},useMemoCache:Oo,useCacheRefresh:X1};gm.useEffectEvent=U1;var nv={readContext:Zi,use:vl,useCallback:$1,useContext:Zi,useEffect:um,useImperativeHandle:H1,useInsertionEffect:I1,useLayoutEffect:q1,useMemo:G1,useReducer:mu,useRef:af,useState:function(){return mu(Kr)},useDebugValue:dm,useDeferredValue:function(i,r){var l=ai();return Nt===null?hm(l,i,r):V1(l,Nt.memoizedState,i,r)},useTransition:function(){var i=mu(Kr)[0],r=ai().memoizedState;return[typeof i=="boolean"?i:no(i),r]},useSyncExternalStore:gu,useId:Q1,useHostTransitionStatus:pm,useFormState:bu,useActionState:bu,useOptimistic:function(i,r){var l=ai();return Nt!==null?Zh(l,Nt,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Oo,useCacheRefresh:X1};nv.useEffectEvent=U1;function vm(i,r,l,d){r=i.memoizedState,l=l(d,r),l=l==null?r:v({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var ym={enqueueSetState:function(i,r,l){i=i._reactInternals;var d=kr(),y=kt(d);y.payload=r,l!=null&&(y.callback=l),r=Gt(i,y,d),r!==null&&(lr(r,i,d),xn(r,i,d))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var d=kr(),y=kt(d);y.tag=1,y.payload=r,l!=null&&(y.callback=l),r=Gt(i,y,d),r!==null&&(lr(r,i,d),xn(r,i,d))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=kr(),d=kt(l);d.tag=2,r!=null&&(d.callback=r),r=Gt(i,d,l),r!==null&&(lr(r,i,l),xn(r,i,l))}};function iv(i,r,l,d,y,x,O){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,x,O):r.prototype&&r.prototype.isPureReactComponent?!bs(l,d)||!bs(y,x):!0}function av(i,r,l,d){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,d),r.state!==i&&ym.enqueueReplaceState(r,r.state,null)}function yc(i,r){var l=r;if("ref"in r){l={};for(var d in r)d!=="ref"&&(l[d]=r[d])}if(i=i.defaultProps){l===r&&(l=v({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function rv(i){oc(i)}function sv(i){console.error(i)}function ov(i){oc(i)}function sf(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function lv(i,r,l){try{var d=i.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function bm(i,r,l){return l=kt(l),l.tag=3,l.payload={element:null},l.callback=function(){sf(i,r)},l}function cv(i){return i=kt(i),i.tag=3,i}function uv(i,r,l,d){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var x=d.value;i.payload=function(){return y(x)},i.callback=function(){lv(r,l,d)}}var O=l.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(i.callback=function(){lv(r,l,d),typeof y!="function"&&(Nl===null?Nl=new Set([this]):Nl.add(this));var G=d.stack;this.componentDidCatch(d.value,{componentStack:G!==null?G:""})})}function V_(i,r,l,d,y){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=l.alternate,r!==null&&Js(r,l,y,!0),l=Zn.current,l!==null){switch(l.tag){case 31:case 13:return cn===null?yf():l.alternate===null&&ji===0&&(ji=3),l.flags&=-257,l.flags|=65536,l.lanes=y,d===we?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([d]):r.add(d),$m(i,d,y)),!1;case 22:return l.flags|=65536,d===we?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([d]):l.add(d)),$m(i,d,y)),!1}throw Error(a(435,l.tag))}return $m(i,d,y),yf(),!1}if(Jt)return r=Zn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=y,d!==Ar&&(i=Error(a(422),{cause:d}),pl(Xa(i,l)))):(d!==Ar&&(r=Error(a(423),{cause:d}),pl(Xa(r,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,d=Xa(d,l),y=bm(i.stateNode,d,y),Di(i,y),ji!==4&&(ji=2)),!1;var x=Error(a(520),{cause:d});if(x=Xa(x,l),Id===null?Id=[x]:Id.push(x),ji!==4&&(ji=2),r===null)return!0;d=Xa(d,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=bm(l.stateNode,d,i),Di(l,i),!1;case 1:if(r=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Nl===null||!Nl.has(x))))return l.flags|=65536,y&=-y,l.lanes|=y,y=cv(y),uv(y,i,l,d),Di(l,y),!1}l=l.return}while(l!==null);return!1}var wm=Error(a(461)),Fi=!1;function wa(i,r,l,d){r.child=i===null?Ft(r,null,l,d):In(r,i.child,l,d)}function dv(i,r,l,d,y){l=l.render;var x=r.ref;if("ref"in d){var O={};for(var G in d)G!=="ref"&&(O[G]=d[G])}else O=d;return Zs(r),d=Nd(i,r,l,O,x,y),G=jd(),i!==null&&!Fi?(Ad(i,r,y),Mo(i,r,y)):(Jt&&G&&wd(r),r.flags|=1,wa(i,r,d,y),r.child)}function hv(i,r,l,d,y){if(i===null){var x=l.type;return typeof x=="function"&&!nu(x)&&x.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=x,fv(i,r,x,d,y)):(i=dl(l.type,null,d,r,r.mode,y),i.ref=r.ref,i.return=r,r.child=i)}if(x=i.child,!Cm(i,y)){var O=x.memoizedProps;if(l=l.compare,l=l!==null?l:bs,l(O,d)&&i.ref===r.ref)return Mo(i,r,y)}return r.flags|=1,i=Qa(x,d),i.ref=r.ref,i.return=r,r.child=i}function fv(i,r,l,d,y){if(i!==null){var x=i.memoizedProps;if(bs(x,d)&&i.ref===r.ref)if(Fi=!1,r.pendingProps=d=x,Cm(i,y))(i.flags&131072)!==0&&(Fi=!0);else return r.lanes=i.lanes,Mo(i,r,y)}return xm(i,r,l,d,y)}function pv(i,r,l,d){var y=d.children,x=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((r.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,i!==null){for(d=r.child=i.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~x}else d=0,r.child=null;return mv(i,r,x,l,d)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&K(r,x!==null?x.cachePool:null),x!==null?Jn(r,x):fn(),_i(r);else return d=r.lanes=536870912,mv(i,r,x!==null?x.baseLanes|l:l,l,d)}else x!==null?(K(r,x.cachePool),Jn(r,x),Si(),r.memoizedState=null):(i!==null&&K(r,null),fn(),Si());return wa(i,r,y,l),r.child}function Rd(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function mv(i,r,l,d,y){var x=W();return x=x===null?null:{parent:mi._currentValue,pool:x},r.memoizedState={baseLanes:l,cachePool:x},i!==null&&K(r,null),fn(),_i(r),i!==null&&Js(i,r,d,!0),r.childLanes=y,null}function of(i,r){return r=cf({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function gv(i,r,l){return In(r,i.child,null,l),i=of(r,r.pendingProps),i.flags|=2,En(r),r.memoizedState=null,i}function W_(i,r,l){var d=r.pendingProps,y=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Jt){if(d.mode==="hidden")return i=of(r,d),r.lanes=536870912,Rd(null,i);if(_n(r),(i=Un)?(i=C2(i,ni),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ys!==null?{id:er,overflow:tr}:null,retryLane:536870912,hydrationErrors:null},l=iu(i),l.return=r,r.child=l,Xi=r,Un=null)):i=null,i===null)throw Ks(r);return r.lanes=536870912,null}return of(r,d)}var x=i.memoizedState;if(x!==null){var O=x.dehydrated;if(_n(r),y)if(r.flags&256)r.flags&=-257,r=gv(i,r,l);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(a(558));else if(Fi||Js(i,r,l,!1),y=(l&i.childLanes)!==0,Fi||y){if(d=qn,d!==null&&(O=Yn(d,l),O!==0&&O!==x.retryLane))throw x.retryLane=O,Ss(i,O),lr(d,i,O),wm;yf(),r=gv(i,r,l)}else i=x.treeContext,Un=Xr(O.nextSibling),Xi=r,Jt=!0,ya=null,ni=!1,i!==null&&Qh(r,i),r=of(r,d),r.flags|=4096;return r}return i=Qa(i.child,{mode:d.mode,children:d.children}),i.ref=r.ref,r.child=i,i.return=r,i}function lf(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function xm(i,r,l,d,y){return Zs(r),l=Nd(i,r,l,d,void 0,y),d=jd(),i!==null&&!Fi?(Ad(i,r,y),Mo(i,r,y)):(Jt&&d&&wd(r),r.flags|=1,wa(i,r,l,y),r.child)}function vv(i,r,l,d,y,x){return Zs(r),r.updateQueue=null,l=js(r,d,l,y),hu(i),d=jd(),i!==null&&!Fi?(Ad(i,r,x),Mo(i,r,x)):(Jt&&d&&wd(r),r.flags|=1,wa(i,r,l,x),r.child)}function yv(i,r,l,d,y){if(Zs(r),r.stateNode===null){var x=Qi,O=l.contextType;typeof O=="object"&&O!==null&&(x=Zi(O)),x=new l(d,x),r.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=ym,r.stateNode=x,x._reactInternals=r,x=r.stateNode,x.props=d,x.state=r.memoizedState,x.refs={},Ke(r),O=l.contextType,x.context=typeof O=="object"&&O!==null?Zi(O):Qi,x.state=r.memoizedState,O=l.getDerivedStateFromProps,typeof O=="function"&&(vm(r,l,O,d),x.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(O=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),O!==x.state&&ym.enqueueReplaceState(x,x.state,null),wi(r,d,x,y),Mn(),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(i===null){x=r.stateNode;var G=r.memoizedProps,de=yc(l,G);x.props=de;var ke=x.context,De=l.contextType;O=Qi,typeof De=="object"&&De!==null&&(O=Zi(De));var Ue=l.getDerivedStateFromProps;De=typeof Ue=="function"||typeof x.getSnapshotBeforeUpdate=="function",G=r.pendingProps!==G,De||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(G||ke!==O)&&av(r,x,d,O),tt=!1;var Le=r.memoizedState;x.state=Le,wi(r,d,x,y),Mn(),ke=r.memoizedState,G||Le!==ke||tt?(typeof Ue=="function"&&(vm(r,l,Ue,d),ke=r.memoizedState),(de=tt||iv(r,l,de,d,Le,ke,O))?(De||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=ke),x.props=d,x.state=ke,x.context=O,d=de):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{x=r.stateNode,Xn(i,r),O=r.memoizedProps,De=yc(l,O),x.props=De,Ue=r.pendingProps,Le=x.context,ke=l.contextType,de=Qi,typeof ke=="object"&&ke!==null&&(de=Zi(ke)),G=l.getDerivedStateFromProps,(ke=typeof G=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O!==Ue||Le!==de)&&av(r,x,d,de),tt=!1,Le=r.memoizedState,x.state=Le,wi(r,d,x,y),Mn();var Te=r.memoizedState;O!==Ue||Le!==Te||tt||i!==null&&i.dependencies!==null&&lu(i.dependencies)?(typeof G=="function"&&(vm(r,l,G,d),Te=r.memoizedState),(De=tt||iv(r,l,De,d,Le,Te,de)||i!==null&&i.dependencies!==null&&lu(i.dependencies))?(ke||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,Te,de),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,Te,de)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||O===i.memoizedProps&&Le===i.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&Le===i.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=Te),x.props=d,x.state=Te,x.context=de,d=De):(typeof x.componentDidUpdate!="function"||O===i.memoizedProps&&Le===i.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&Le===i.memoizedState||(r.flags|=1024),d=!1)}return x=d,lf(i,r),d=(r.flags&128)!==0,x||d?(x=r.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:x.render(),r.flags|=1,i!==null&&d?(r.child=In(r,i.child,null,y),r.child=In(r,null,l,y)):wa(i,r,l,y),r.memoizedState=x.state,i=r.child):i=Mo(i,r,y),i}function bv(i,r,l,d){return Lo(),r.flags|=256,wa(i,r,l,d),r.child}var _m={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sm(i){return{baseLanes:i,cachePool:ae()}}function Nm(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=Cr),i}function wv(i,r,l){var d=r.pendingProps,y=!1,x=(r.flags&128)!==0,O;if((O=x)||(O=i!==null&&i.memoizedState===null?!1:(sn.current&2)!==0),O&&(y=!0,r.flags&=-129),O=(r.flags&32)!==0,r.flags&=-33,i===null){if(Jt){if(y?gi(r):Si(),(i=Un)?(i=C2(i,ni),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ys!==null?{id:er,overflow:tr}:null,retryLane:536870912,hydrationErrors:null},l=iu(i),l.return=r,r.child=l,Xi=r,Un=null)):i=null,i===null)throw Ks(r);return sg(i)?r.lanes=32:r.lanes=536870912,null}var G=d.children;return d=d.fallback,y?(Si(),y=r.mode,G=cf({mode:"hidden",children:G},y),d=Ws(d,y,l,null),G.return=r,d.return=r,G.sibling=d,r.child=G,d=r.child,d.memoizedState=Sm(l),d.childLanes=Nm(i,O,l),r.memoizedState=_m,Rd(null,d)):(gi(r),jm(r,G))}var de=i.memoizedState;if(de!==null&&(G=de.dehydrated,G!==null)){if(x)r.flags&256?(gi(r),r.flags&=-257,r=Am(i,r,l)):r.memoizedState!==null?(Si(),r.child=i.child,r.flags|=128,r=null):(Si(),G=d.fallback,y=r.mode,d=cf({mode:"visible",children:d.children},y),G=Ws(G,y,l,null),G.flags|=2,d.return=r,G.return=r,d.sibling=G,r.child=d,In(r,i.child,null,l),d=r.child,d.memoizedState=Sm(l),d.childLanes=Nm(i,O,l),r.memoizedState=_m,r=Rd(null,d));else if(gi(r),sg(G)){if(O=G.nextSibling&&G.nextSibling.dataset,O)var ke=O.dgst;O=ke,d=Error(a(419)),d.stack="",d.digest=O,pl({value:d,source:null,stack:null}),r=Am(i,r,l)}else if(Fi||Js(i,r,l,!1),O=(l&i.childLanes)!==0,Fi||O){if(O=qn,O!==null&&(d=Yn(O,l),d!==0&&d!==de.retryLane))throw de.retryLane=d,Ss(i,d),lr(O,i,d),wm;rg(G)||yf(),r=Am(i,r,l)}else rg(G)?(r.flags|=192,r.child=i.child,r=null):(i=de.treeContext,Un=Xr(G.nextSibling),Xi=r,Jt=!0,ya=null,ni=!1,i!==null&&Qh(r,i),r=jm(r,d.children),r.flags|=4096);return r}return y?(Si(),G=d.fallback,y=r.mode,de=i.child,ke=de.sibling,d=Qa(de,{mode:"hidden",children:d.children}),d.subtreeFlags=de.subtreeFlags&65011712,ke!==null?G=Qa(ke,G):(G=Ws(G,y,l,null),G.flags|=2),G.return=r,d.return=r,d.sibling=G,r.child=d,Rd(null,d),d=r.child,G=i.child.memoizedState,G===null?G=Sm(l):(y=G.cachePool,y!==null?(de=mi._currentValue,y=y.parent!==de?{parent:de,pool:de}:y):y=ae(),G={baseLanes:G.baseLanes|l,cachePool:y}),d.memoizedState=G,d.childLanes=Nm(i,O,l),r.memoizedState=_m,Rd(i.child,d)):(gi(r),l=i.child,i=l.sibling,l=Qa(l,{mode:"visible",children:d.children}),l.return=r,l.sibling=null,i!==null&&(O=r.deletions,O===null?(r.deletions=[i],r.flags|=16):O.push(i)),r.child=l,r.memoizedState=null,l)}function jm(i,r){return r=cf({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function cf(i,r){return i=la(22,i,null,r),i.lanes=0,i}function Am(i,r,l){return In(r,i.child,null,l),i=jm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function xv(i,r,l){i.lanes|=r;var d=i.alternate;d!==null&&(d.lanes|=r),ml(i.return,r,l)}function Em(i,r,l,d,y,x){var O=i.memoizedState;O===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:y,treeForkCount:x}:(O.isBackwards=r,O.rendering=null,O.renderingStartTime=0,O.last=d,O.tail=l,O.tailMode=y,O.treeForkCount=x)}function _v(i,r,l){var d=r.pendingProps,y=d.revealOrder,x=d.tail;d=d.children;var O=sn.current,G=(O&2)!==0;if(G?(O=O&1|2,r.flags|=128):O&=1,B(sn,O),wa(i,r,d,l),d=Jt?fc:0,!G&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&xv(i,l,r);else if(i.tag===19)xv(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=r.child,y=null;l!==null;)i=l.alternate,i!==null&&ua(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=r.child,r.child=null):(y=l.sibling,l.sibling=null),Em(r,!1,y,l,x,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=r.child,r.child=null;y!==null;){if(i=y.alternate,i!==null&&ua(i)===null){r.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}Em(r,!0,l,null,x,d);break;case"together":Em(r,!1,null,null,void 0,d);break;default:r.memoizedState=null}return r.child}function Mo(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),Sl|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(Js(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(a(153));if(r.child!==null){for(i=r.child,l=Qa(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=Qa(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function Cm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&lu(i)))}function Y_(i,r,l){switch(r.tag){case 3:be(r,r.stateNode.containerInfo),Xs(r,mi,i.memoizedState.cache),Lo();break;case 27:case 5:je(r);break;case 4:be(r,r.stateNode.containerInfo);break;case 10:Xs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,_n(r),null;break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(gi(r),r.flags|=128,null):(l&r.child.childLanes)!==0?wv(i,r,l):(gi(r),i=Mo(i,r,l),i!==null?i.sibling:null);gi(r);break;case 19:var y=(i.flags&128)!==0;if(d=(l&r.childLanes)!==0,d||(Js(i,r,l,!1),d=(l&r.childLanes)!==0),y){if(d)return _v(i,r,l);r.flags|=128}if(y=r.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),B(sn,sn.current),d)break;return null;case 22:return r.lanes=0,pv(i,r,l,r.pendingProps);case 24:Xs(r,mi,i.memoizedState.cache)}return Mo(i,r,l)}function Sv(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)Fi=!0;else{if(!Cm(i,l)&&(r.flags&128)===0)return Fi=!1,Y_(i,r,l);Fi=(i.flags&131072)!==0}else Fi=!1,Jt&&(r.flags&1048576)!==0&&Kh(r,fc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var d=r.pendingProps;if(i=Ae(r.elementType),r.type=i,typeof i=="function")nu(i)?(d=yc(i,d),r.tag=1,r=yv(null,r,i,d,l)):(r.tag=0,r=xm(null,r,i,d,l));else{if(i!=null){var y=i.$$typeof;if(y===P){r.tag=11,r=dv(null,r,i,d,l);break e}else if(y===oe){r.tag=14,r=hv(null,r,i,d,l);break e}}throw r=ue(i)||i,Error(a(306,r,""))}}return r;case 0:return xm(i,r,r.type,r.pendingProps,l);case 1:return d=r.type,y=yc(d,r.pendingProps),yv(i,r,d,y,l);case 3:e:{if(be(r,r.stateNode.containerInfo),i===null)throw Error(a(387));d=r.pendingProps;var x=r.memoizedState;y=x.element,Xn(i,r),wi(r,d,null,l);var O=r.memoizedState;if(d=O.cache,Xs(r,mi,d),d!==x.cache&&To(r,[mi],l,!0),Mn(),d=O.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:O.cache},r.updateQueue.baseState=x,r.memoizedState=x,r.flags&256){r=bv(i,r,d,l);break e}else if(d!==y){y=Xa(Error(a(424)),r),pl(y),r=bv(i,r,d,l);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Un=Xr(i.firstChild),Xi=r,Jt=!0,ya=null,ni=!0,l=Ft(r,null,d,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Lo(),d===y){r=Mo(i,r,l);break e}wa(i,r,d,l)}r=r.child}return r;case 26:return lf(i,r),i===null?(l=D2(r.type,null,r.pendingProps,null))?r.memoizedState=l:Jt||(l=r.type,i=r.pendingProps,d=jf(ce.current).createElement(l),d[An]=r,d[Kn]=i,xa(d,l,i),di(d),r.stateNode=d):r.memoizedState=D2(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return je(r),i===null&&Jt&&(d=r.stateNode=T2(r.type,r.pendingProps,ce.current),Xi=r,ni=!0,y=Un,Cl(r.type)?(og=y,Un=Xr(d.firstChild)):Un=y),wa(i,r,r.pendingProps.children,l),lf(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Jt&&((y=d=Un)&&(d=N3(d,r.type,r.pendingProps,ni),d!==null?(r.stateNode=d,Xi=r,Un=Xr(d.firstChild),ni=!1,y=!0):y=!1),y||Ks(r)),je(r),y=r.type,x=r.pendingProps,O=i!==null?i.memoizedProps:null,d=x.children,ng(y,x)?d=null:O!==null&&ng(y,O)&&(r.flags|=32),r.memoizedState!==null&&(y=Nd(i,r,cm,null,null,l),Yd._currentValue=y),lf(i,r),wa(i,r,d,l),r.child;case 6:return i===null&&Jt&&((i=l=Un)&&(l=j3(l,r.pendingProps,ni),l!==null?(r.stateNode=l,Xi=r,Un=null,i=!0):i=!1),i||Ks(r)),null;case 13:return wv(i,r,l);case 4:return be(r,r.stateNode.containerInfo),d=r.pendingProps,i===null?r.child=In(r,null,d,l):wa(i,r,d,l),r.child;case 11:return dv(i,r,r.type,r.pendingProps,l);case 7:return wa(i,r,r.pendingProps,l),r.child;case 8:return wa(i,r,r.pendingProps.children,l),r.child;case 12:return wa(i,r,r.pendingProps.children,l),r.child;case 10:return d=r.pendingProps,Xs(r,r.type,d.value),wa(i,r,d.children,l),r.child;case 9:return y=r.type._context,d=r.pendingProps.children,Zs(r),y=Zi(y),d=d(y),r.flags|=1,wa(i,r,d,l),r.child;case 14:return hv(i,r,r.type,r.pendingProps,l);case 15:return fv(i,r,r.type,r.pendingProps,l);case 19:return _v(i,r,l);case 31:return W_(i,r,l);case 22:return pv(i,r,l,r.pendingProps);case 24:return Zs(r),d=Zi(mi),i===null?(y=W(),y===null&&(y=qn,x=gl(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=l),y=x),r.memoizedState={parent:d,cache:y},Ke(r),Xs(r,mi,y)):((i.lanes&l)!==0&&(Xn(i,r),wi(r,null,null,l),Mn()),y=i.memoizedState,x=r.memoizedState,y.parent!==d?(y={parent:d,cache:d},r.memoizedState=y,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=y),Xs(r,mi,d)):(d=x.cache,Xs(r,mi,d),d!==y.cache&&To(r,[mi],l,!0))),wa(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function Po(i){i.flags|=4}function km(i,r,l,d,y){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(Qv())i.flags|=8192;else throw Oe=we,Ee}else i.flags&=-16777217}function Nv(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!U2(r))if(Qv())i.flags|=8192;else throw Oe=we,Ee}function uf(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Hn():536870912,i.lanes|=r,Su|=r)}function Dd(i,r){if(!Jt)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function ei(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(r)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=d,i.childLanes=l,r}function K_(i,r,l){var d=r.pendingProps;switch(su(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ei(r),null;case 1:return ei(r),null;case 3:return l=r.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),nr(mi),xe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Ji(r)?Po(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,_d())),ei(r),null;case 26:var y=r.type,x=r.memoizedState;return i===null?(Po(r),x!==null?(ei(r),Nv(r,x)):(ei(r),km(r,y,null,d,l))):x?x!==i.memoizedState?(Po(r),ei(r),Nv(r,x)):(ei(r),r.flags&=-16777217):(i=i.memoizedProps,i!==d&&Po(r),ei(r),km(r,y,i,d,l)),null;case 27:if(Ie(r),l=ce.current,y=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==d&&Po(r);else{if(!d){if(r.stateNode===null)throw Error(a(166));return ei(r),null}i=$.current,Ji(r)?xd(r):(i=T2(y,d,l),r.stateNode=i,Po(r))}return ei(r),null;case 5:if(Ie(r),y=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==d&&Po(r);else{if(!d){if(r.stateNode===null)throw Error(a(166));return ei(r),null}if(x=$.current,Ji(r))xd(r);else{var O=jf(ce.current);switch(x){case 1:x=O.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:x=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":x=O.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":x=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":x=O.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof d.is=="string"?O.createElement("select",{is:d.is}):O.createElement("select"),d.multiple?x.multiple=!0:d.size&&(x.size=d.size);break;default:x=typeof d.is=="string"?O.createElement(y,{is:d.is}):O.createElement(y)}}x[An]=r,x[Kn]=d;e:for(O=r.child;O!==null;){if(O.tag===5||O.tag===6)x.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===r)break e;for(;O.sibling===null;){if(O.return===null||O.return===r)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}r.stateNode=x;e:switch(xa(x,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Po(r)}}return ei(r),km(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,l),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==d&&Po(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(a(166));if(i=ce.current,Ji(r)){if(i=r.stateNode,l=r.memoizedProps,d=null,y=Xi,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}i[An]=r,i=!!(i.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||w2(i.nodeValue,l)),i||Ks(r,!0)}else i=jf(i).createTextNode(d),i[An]=r,r.stateNode=i}return ei(r),null;case 31:if(l=r.memoizedState,i===null||i.memoizedState!==null){if(d=Ji(r),l!==null){if(i===null){if(!d)throw Error(a(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(557));i[An]=r}else Lo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ei(r),i=!1}else l=_d(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return r.flags&256?(En(r),r):(En(r),null);if((r.flags&128)!==0)throw Error(a(558))}return ei(r),null;case 13:if(d=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Ji(r),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(a(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[An]=r}else Lo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ei(r),y=!1}else y=_d(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return r.flags&256?(En(r),r):(En(r),null)}return En(r),(r.flags&128)!==0?(r.lanes=l,r):(l=d!==null,i=i!==null&&i.memoizedState!==null,l&&(d=r.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),x=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==y&&(d.flags|=2048)),l!==i&&l&&(r.child.flags|=8192),uf(r,r.updateQueue),ei(r),null);case 4:return xe(),i===null&&Xm(r.stateNode.containerInfo),ei(r),null;case 10:return nr(r.type),ei(r),null;case 19:if(L(sn),d=r.memoizedState,d===null)return ei(r),null;if(y=(r.flags&128)!==0,x=d.rendering,x===null)if(y)Dd(d,!1);else{if(ji!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(x=ua(i),x!==null){for(r.flags|=128,Dd(d,!1),i=x.updateQueue,r.updateQueue=i,uf(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)dc(l,i),l=l.sibling;return B(sn,sn.current&1|2),Jt&&Fa(r,d.treeForkCount),r.child}i=i.sibling}d.tail!==null&&zt()>mf&&(r.flags|=128,y=!0,Dd(d,!1),r.lanes=4194304)}else{if(!y)if(i=ua(x),i!==null){if(r.flags|=128,y=!0,i=i.updateQueue,r.updateQueue=i,uf(r,i),Dd(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!Jt)return ei(r),null}else 2*zt()-d.renderingStartTime>mf&&l!==536870912&&(r.flags|=128,y=!0,Dd(d,!1),r.lanes=4194304);d.isBackwards?(x.sibling=r.child,r.child=x):(i=d.last,i!==null?i.sibling=x:r.child=x,d.last=x)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=zt(),i.sibling=null,l=sn.current,B(sn,y?l&1|2:l&1),Jt&&Fa(r,d.treeForkCount),i):(ei(r),null);case 22:case 23:return En(r),Mi(),d=r.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(l&536870912)!==0&&(r.flags&128)===0&&(ei(r),r.subtreeFlags&6&&(r.flags|=8192)):ei(r),l=r.updateQueue,l!==null&&uf(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==l&&(r.flags|=2048),i!==null&&L(H),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),nr(mi),ei(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function Q_(i,r){switch(su(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return nr(mi),xe(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ie(r),null;case 31:if(r.memoizedState!==null){if(En(r),r.alternate===null)throw Error(a(340));Lo()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(En(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Lo()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return L(sn),null;case 4:return xe(),null;case 10:return nr(r.type),null;case 22:case 23:return En(r),Mi(),i!==null&&L(H),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return nr(mi),null;case 25:return null;default:return null}}function jv(i,r){switch(su(r),r.tag){case 3:nr(mi),xe();break;case 26:case 27:case 5:Ie(r);break;case 4:xe();break;case 31:r.memoizedState!==null&&En(r);break;case 13:En(r);break;case 19:L(sn);break;case 10:nr(r.type);break;case 22:case 23:En(r),Mi(),i!==null&&L(H);break;case 24:nr(mi)}}function Md(i,r){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var y=d.next;l=y;do{if((l.tag&i)===i){d=void 0;var x=l.create,O=l.inst;d=x(),O.destroy=d}l=l.next}while(l!==y)}}catch(G){kn(r,r.return,G)}}function xl(i,r,l){try{var d=r.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var x=y.next;d=x;do{if((d.tag&i)===i){var O=d.inst,G=O.destroy;if(G!==void 0){O.destroy=void 0,y=r;var de=l,ke=G;try{ke()}catch(De){kn(y,de,De)}}}d=d.next}while(d!==x)}}catch(De){kn(r,r.return,De)}}function Av(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{xi(r,l)}catch(d){kn(i,i.return,d)}}}function Ev(i,r,l){l.props=yc(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(d){kn(i,r,d)}}function Pd(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof l=="function"?i.refCleanup=l(d):l.current=d}}catch(y){kn(i,r,y)}}function ao(i,r){var l=i.ref,d=i.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(y){kn(i,r,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){kn(i,r,y)}else l.current=null}function Cv(i){var r=i.type,l=i.memoizedProps,d=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(y){kn(i,i.return,y)}}function Lm(i,r,l){try{var d=i.stateNode;y3(d,i.type,l,r),d[Kn]=r}catch(y){kn(i,i.return,y)}}function kv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Cl(i.type)||i.tag===4}function Tm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||kv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Cl(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Om(i,r,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=wr));else if(d!==4&&(d===27&&Cl(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(Om(i,r,l),i=i.sibling;i!==null;)Om(i,r,l),i=i.sibling}function df(i,r,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(d!==4&&(d===27&&Cl(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(df(i,r,l),i=i.sibling;i!==null;)df(i,r,l),i=i.sibling}function Lv(i){var r=i.stateNode,l=i.memoizedProps;try{for(var d=i.type,y=r.attributes;y.length;)r.removeAttributeNode(y[0]);xa(r,d,l),r[An]=i,r[Kn]=l}catch(x){kn(i,i.return,x)}}var zo=!1,Hi=!1,Rm=!1,Tv=typeof WeakSet=="function"?WeakSet:Set,da=null;function X_(i,r){if(i=i.containerInfo,eg=Of,i=xs(i),Vr(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var y=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var O=0,G=-1,de=-1,ke=0,De=0,Ue=i,Le=null;t:for(;;){for(var Te;Ue!==l||y!==0&&Ue.nodeType!==3||(G=O+y),Ue!==x||d!==0&&Ue.nodeType!==3||(de=O+d),Ue.nodeType===3&&(O+=Ue.nodeValue.length),(Te=Ue.firstChild)!==null;)Le=Ue,Ue=Te;for(;;){if(Ue===i)break t;if(Le===l&&++ke===y&&(G=O),Le===x&&++De===d&&(de=O),(Te=Ue.nextSibling)!==null)break;Ue=Le,Le=Ue.parentNode}Ue=Te}l=G===-1||de===-1?null:{start:G,end:de}}else l=null}l=l||{start:0,end:0}}else l=null;for(tg={focusedElem:i,selectionRange:l},Of=!1,da=r;da!==null;)if(r=da,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,da=i;else for(;da!==null;){switch(r=da,x=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,l=r,y=x.memoizedProps,x=x.memoizedState,d=l.stateNode;try{var st=yc(l.type,y);i=d.getSnapshotBeforeUpdate(st,x),d.__reactInternalSnapshotBeforeUpdate=i}catch(Lt){kn(l,l.return,Lt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)ag(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ag(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=r.sibling,i!==null){i.return=r.return,da=i;break}da=r.return}}function Ov(i,r,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Uo(i,l),d&4&&Md(5,l);break;case 1:if(Uo(i,l),d&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(O){kn(l,l.return,O)}else{var y=yc(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(y,r,i.__reactInternalSnapshotBeforeUpdate)}catch(O){kn(l,l.return,O)}}d&64&&Av(l),d&512&&Pd(l,l.return);break;case 3:if(Uo(i,l),d&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{xi(i,r)}catch(O){kn(l,l.return,O)}}break;case 27:r===null&&d&4&&Lv(l);case 26:case 5:Uo(i,l),r===null&&d&4&&Cv(l),d&512&&Pd(l,l.return);break;case 12:Uo(i,l);break;case 31:Uo(i,l),d&4&&Mv(i,l);break;case 13:Uo(i,l),d&4&&Pv(i,l),d&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=s3.bind(null,l),A3(i,l))));break;case 22:if(d=l.memoizedState!==null||zo,!d){r=r!==null&&r.memoizedState!==null||Hi,y=zo;var x=Hi;zo=d,(Hi=r)&&!x?Io(i,l,(l.subtreeFlags&8772)!==0):Uo(i,l),zo=y,Hi=x}break;case 30:break;default:Uo(i,l)}}function Rv(i){var r=i.alternate;r!==null&&(i.alternate=null,Rv(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&qs(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ri=null,ar=!1;function Bo(i,r,l){for(l=l.child;l!==null;)Dv(i,r,l),l=l.sibling}function Dv(i,r,l){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(Wt,l)}catch{}switch(l.tag){case 26:Hi||ao(l,r),Bo(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Hi||ao(l,r);var d=ri,y=ar;Cl(l.type)&&(ri=l.stateNode,ar=!1),Bo(i,r,l),Gd(l.stateNode),ri=d,ar=y;break;case 5:Hi||ao(l,r);case 6:if(d=ri,y=ar,ri=null,Bo(i,r,l),ri=d,ar=y,ri!==null)if(ar)try{(ri.nodeType===9?ri.body:ri.nodeName==="HTML"?ri.ownerDocument.body:ri).removeChild(l.stateNode)}catch(x){kn(l,r,x)}else try{ri.removeChild(l.stateNode)}catch(x){kn(l,r,x)}break;case 18:ri!==null&&(ar?(i=ri,A2(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Tu(i)):A2(ri,l.stateNode));break;case 4:d=ri,y=ar,ri=l.stateNode.containerInfo,ar=!0,Bo(i,r,l),ri=d,ar=y;break;case 0:case 11:case 14:case 15:xl(2,l,r),Hi||xl(4,l,r),Bo(i,r,l);break;case 1:Hi||(ao(l,r),d=l.stateNode,typeof d.componentWillUnmount=="function"&&Ev(l,r,d)),Bo(i,r,l);break;case 21:Bo(i,r,l);break;case 22:Hi=(d=Hi)||l.memoizedState!==null,Bo(i,r,l),Hi=d;break;default:Bo(i,r,l)}}function Mv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Tu(i)}catch(l){kn(r,r.return,l)}}}function Pv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Tu(i)}catch(l){kn(r,r.return,l)}}function J_(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Tv),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Tv),r;default:throw Error(a(435,i.tag))}}function hf(i,r){var l=J_(i);r.forEach(function(d){if(!l.has(d)){l.add(d);var y=o3.bind(null,i,d);d.then(y,y)}})}function rr(i,r){var l=r.deletions;if(l!==null)for(var d=0;d<l.length;d++){var y=l[d],x=i,O=r,G=O;e:for(;G!==null;){switch(G.tag){case 27:if(Cl(G.type)){ri=G.stateNode,ar=!1;break e}break;case 5:ri=G.stateNode,ar=!1;break e;case 3:case 4:ri=G.stateNode.containerInfo,ar=!0;break e}G=G.return}if(ri===null)throw Error(a(160));Dv(x,O,y),ri=null,ar=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)zv(r,i),r=r.sibling}var ks=null;function zv(i,r){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:rr(r,i),sr(i),d&4&&(xl(3,i,i.return),Md(3,i),xl(5,i,i.return));break;case 1:rr(r,i),sr(i),d&512&&(Hi||l===null||ao(l,l.return)),d&64&&zo&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var y=ks;if(rr(r,i),sr(i),d&512&&(Hi||l===null||ao(l,l.return)),d&4){var x=l!==null?l.memoizedState:null;if(d=i.memoizedState,l===null)if(d===null)if(i.stateNode===null){e:{d=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":x=y.getElementsByTagName("title")[0],(!x||x[pr]||x[An]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(d),y.head.insertBefore(x,y.querySelector("head > title"))),xa(x,d,l),x[An]=i,di(x),d=x;break e;case"link":var O=z2("link","href",y).get(d+(l.href||""));if(O){for(var G=0;G<O.length;G++)if(x=O[G],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){O.splice(G,1);break t}}x=y.createElement(d),xa(x,d,l),y.head.appendChild(x);break;case"meta":if(O=z2("meta","content",y).get(d+(l.content||""))){for(G=0;G<O.length;G++)if(x=O[G],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){O.splice(G,1);break t}}x=y.createElement(d),xa(x,d,l),y.head.appendChild(x);break;default:throw Error(a(468,d))}x[An]=i,di(x),d=x}i.stateNode=d}else B2(y,i.type,i.stateNode);else i.stateNode=P2(y,d,i.memoizedProps);else x!==d?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,d===null?B2(y,i.type,i.stateNode):P2(y,d,i.memoizedProps)):d===null&&i.stateNode!==null&&Lm(i,i.memoizedProps,l.memoizedProps)}break;case 27:rr(r,i),sr(i),d&512&&(Hi||l===null||ao(l,l.return)),l!==null&&d&4&&Lm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(rr(r,i),sr(i),d&512&&(Hi||l===null||ao(l,l.return)),i.flags&32){y=i.stateNode;try{br(y,"")}catch(st){kn(i,i.return,st)}}d&4&&i.stateNode!=null&&(y=i.memoizedProps,Lm(i,y,l!==null?l.memoizedProps:y)),d&1024&&(Rm=!0);break;case 6:if(rr(r,i),sr(i),d&4){if(i.stateNode===null)throw Error(a(162));d=i.memoizedProps,l=i.stateNode;try{l.nodeValue=d}catch(st){kn(i,i.return,st)}}break;case 3:if(Cf=null,y=ks,ks=Af(r.containerInfo),rr(r,i),ks=y,sr(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Tu(r.containerInfo)}catch(st){kn(i,i.return,st)}Rm&&(Rm=!1,Bv(i));break;case 4:d=ks,ks=Af(i.stateNode.containerInfo),rr(r,i),sr(i),ks=d;break;case 12:rr(r,i),sr(i);break;case 31:rr(r,i),sr(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,hf(i,d)));break;case 13:rr(r,i),sr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(pf=zt()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,hf(i,d)));break;case 22:y=i.memoizedState!==null;var de=l!==null&&l.memoizedState!==null,ke=zo,De=Hi;if(zo=ke||y,Hi=De||de,rr(r,i),Hi=De,zo=ke,sr(i),d&8192)e:for(r=i.stateNode,r._visibility=y?r._visibility&-2:r._visibility|1,y&&(l===null||de||zo||Hi||bc(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){de=l=r;try{if(x=de.stateNode,y)O=x.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{G=de.stateNode;var Ue=de.memoizedProps.style,Le=Ue!=null&&Ue.hasOwnProperty("display")?Ue.display:null;G.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(st){kn(de,de.return,st)}}}else if(r.tag===6){if(l===null){de=r;try{de.stateNode.nodeValue=y?"":de.memoizedProps}catch(st){kn(de,de.return,st)}}}else if(r.tag===18){if(l===null){de=r;try{var Te=de.stateNode;y?E2(Te,!0):E2(de.stateNode,!1)}catch(st){kn(de,de.return,st)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=i.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,hf(i,l))));break;case 19:rr(r,i),sr(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,hf(i,d)));break;case 30:break;case 21:break;default:rr(r,i),sr(i)}}function sr(i){var r=i.flags;if(r&2){try{for(var l,d=i.return;d!==null;){if(kv(d)){l=d;break}d=d.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var y=l.stateNode,x=Tm(i);df(i,x,y);break;case 5:var O=l.stateNode;l.flags&32&&(br(O,""),l.flags&=-33);var G=Tm(i);df(i,G,O);break;case 3:case 4:var de=l.stateNode.containerInfo,ke=Tm(i);Om(i,ke,de);break;default:throw Error(a(161))}}catch(De){kn(i,i.return,De)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Bv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Bv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Uo(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ov(i,r.alternate,r),r=r.sibling}function bc(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:xl(4,r,r.return),bc(r);break;case 1:ao(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Ev(r,r.return,l),bc(r);break;case 27:Gd(r.stateNode);case 26:case 5:ao(r,r.return),bc(r);break;case 22:r.memoizedState===null&&bc(r);break;case 30:bc(r);break;default:bc(r)}i=i.sibling}}function Io(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,y=i,x=r,O=x.flags;switch(x.tag){case 0:case 11:case 15:Io(y,x,l),Md(4,x);break;case 1:if(Io(y,x,l),d=x,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ke){kn(d,d.return,ke)}if(d=x,y=d.updateQueue,y!==null){var G=d.stateNode;try{var de=y.shared.hiddenCallbacks;if(de!==null)for(y.shared.hiddenCallbacks=null,y=0;y<de.length;y++)ca(de[y],G)}catch(ke){kn(d,d.return,ke)}}l&&O&64&&Av(x),Pd(x,x.return);break;case 27:Lv(x);case 26:case 5:Io(y,x,l),l&&d===null&&O&4&&Cv(x),Pd(x,x.return);break;case 12:Io(y,x,l);break;case 31:Io(y,x,l),l&&O&4&&Mv(y,x);break;case 13:Io(y,x,l),l&&O&4&&Pv(y,x);break;case 22:x.memoizedState===null&&Io(y,x,l),Pd(x,x.return);break;case 30:break;default:Io(y,x,l)}r=r.sibling}}function Dm(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&pc(l))}function Mm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&pc(i))}function Ls(i,r,l,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Uv(i,r,l,d),r=r.sibling}function Uv(i,r,l,d){var y=r.flags;switch(r.tag){case 0:case 11:case 15:Ls(i,r,l,d),y&2048&&Md(9,r);break;case 1:Ls(i,r,l,d);break;case 3:Ls(i,r,l,d),y&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&pc(i)));break;case 12:if(y&2048){Ls(i,r,l,d),i=r.stateNode;try{var x=r.memoizedProps,O=x.id,G=x.onPostCommit;typeof G=="function"&&G(O,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(de){kn(r,r.return,de)}}else Ls(i,r,l,d);break;case 31:Ls(i,r,l,d);break;case 13:Ls(i,r,l,d);break;case 23:break;case 22:x=r.stateNode,O=r.alternate,r.memoizedState!==null?x._visibility&2?Ls(i,r,l,d):zd(i,r):x._visibility&2?Ls(i,r,l,d):(x._visibility|=2,wu(i,r,l,d,(r.subtreeFlags&10256)!==0||!1)),y&2048&&Dm(O,r);break;case 24:Ls(i,r,l,d),y&2048&&Mm(r.alternate,r);break;default:Ls(i,r,l,d)}}function wu(i,r,l,d,y){for(y=y&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var x=i,O=r,G=l,de=d,ke=O.flags;switch(O.tag){case 0:case 11:case 15:wu(x,O,G,de,y),Md(8,O);break;case 23:break;case 22:var De=O.stateNode;O.memoizedState!==null?De._visibility&2?wu(x,O,G,de,y):zd(x,O):(De._visibility|=2,wu(x,O,G,de,y)),y&&ke&2048&&Dm(O.alternate,O);break;case 24:wu(x,O,G,de,y),y&&ke&2048&&Mm(O.alternate,O);break;default:wu(x,O,G,de,y)}r=r.sibling}}function zd(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,d=r,y=d.flags;switch(d.tag){case 22:zd(l,d),y&2048&&Dm(d.alternate,d);break;case 24:zd(l,d),y&2048&&Mm(d.alternate,d);break;default:zd(l,d)}r=r.sibling}}var Bd=8192;function xu(i,r,l){if(i.subtreeFlags&Bd)for(i=i.child;i!==null;)Iv(i,r,l),i=i.sibling}function Iv(i,r,l){switch(i.tag){case 26:xu(i,r,l),i.flags&Bd&&i.memoizedState!==null&&B3(l,ks,i.memoizedState,i.memoizedProps);break;case 5:xu(i,r,l);break;case 3:case 4:var d=ks;ks=Af(i.stateNode.containerInfo),xu(i,r,l),ks=d;break;case 22:i.memoizedState===null&&(d=i.alternate,d!==null&&d.memoizedState!==null?(d=Bd,Bd=16777216,xu(i,r,l),Bd=d):xu(i,r,l));break;default:xu(i,r,l)}}function qv(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Ud(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];da=d,Hv(d,i)}qv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Fv(i),i=i.sibling}function Fv(i){switch(i.tag){case 0:case 11:case 15:Ud(i),i.flags&2048&&xl(9,i,i.return);break;case 3:Ud(i);break;case 12:Ud(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,ff(i)):Ud(i);break;default:Ud(i)}}function ff(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];da=d,Hv(d,i)}qv(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:xl(8,r,r.return),ff(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,ff(r));break;default:ff(r)}i=i.sibling}}function Hv(i,r){for(;da!==null;){var l=da;switch(l.tag){case 0:case 11:case 15:xl(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:pc(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,da=d;else e:for(l=i;da!==null;){d=da;var y=d.sibling,x=d.return;if(Rv(d),d===l){da=null;break e}if(y!==null){y.return=x,da=y;break e}da=x}}}var Z_={getCacheForType:function(i){var r=Zi(mi),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l},cacheSignal:function(){return Zi(mi).controller.signal}},e3=typeof WeakMap=="function"?WeakMap:Map,Sn=0,qn=null,Zt=null,tn=0,Cn=0,Er=null,_l=!1,_u=!1,Pm=!1,qo=0,ji=0,Sl=0,wc=0,zm=0,Cr=0,Su=0,Id=null,or=null,Bm=!1,pf=0,$v=0,mf=1/0,gf=null,Nl=null,ta=0,jl=null,Nu=null,Fo=0,Um=0,Im=null,Gv=null,qd=0,qm=null;function kr(){return(Sn&2)!==0&&tn!==0?tn&-tn:I.T!==null?Wm():jn()}function Vv(){if(Cr===0)if((tn&536870912)===0||Jt){var i=bn;bn<<=1,(bn&3932160)===0&&(bn=262144),Cr=i}else Cr=536870912;return i=Zn.current,i!==null&&(i.flags|=32),Cr}function lr(i,r,l){(i===qn&&(Cn===2||Cn===9)||i.cancelPendingCommit!==null)&&(ju(i,0),Al(i,tn,Cr,!1)),ct(i,l),((Sn&2)===0||i!==qn)&&(i===qn&&((Sn&2)===0&&(wc|=l),ji===4&&Al(i,tn,Cr,!1)),ro(i))}function Wv(i,r,l){if((Sn&6)!==0)throw Error(a(327));var d=!l&&(r&127)===0&&(r&i.expiredLanes)===0||vi(i,r),y=d?i3(i,r):Hm(i,r,!0),x=d;do{if(y===0){_u&&!d&&Al(i,r,0,!1);break}else{if(l=i.current.alternate,x&&!t3(l)){y=Hm(i,r,!1),x=!1;continue}if(y===2){if(x=r,i.errorRecoveryDisabledLanes&x)var O=0;else O=i.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){r=O;e:{var G=i;y=Id;var de=G.current.memoizedState.isDehydrated;if(de&&(ju(G,O).flags|=256),O=Hm(G,O,!1),O!==2){if(Pm&&!de){G.errorRecoveryDisabledLanes|=x,wc|=x,y=4;break e}x=or,or=y,x!==null&&(or===null?or=x:or.push.apply(or,x))}y=O}if(x=!1,y!==2)continue}}if(y===1){ju(i,0),Al(i,r,0,!0);break}e:{switch(d=i,x=y,x){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Al(d,r,Cr,!_l);break e;case 2:or=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(y=pf+300-zt(),10<y)){if(Al(d,r,Cr,!_l),Bt(d,0,!0)!==0)break e;Fo=r,d.timeoutHandle=N2(Yv.bind(null,d,l,or,gf,Bm,r,Cr,wc,Su,_l,x,"Throttled",-0,0),y);break e}Yv(d,l,or,gf,Bm,r,Cr,wc,Su,_l,x,null,-0,0)}}break}while(!0);ro(i)}function Yv(i,r,l,d,y,x,O,G,de,ke,De,Ue,Le,Te){if(i.timeoutHandle=-1,Ue=r.subtreeFlags,Ue&8192||(Ue&16785408)===16785408){Ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wr},Iv(r,x,Ue);var st=(x&62914560)===x?pf-zt():(x&4194048)===x?$v-zt():0;if(st=U3(Ue,st),st!==null){Fo=x,i.cancelPendingCommit=st(n2.bind(null,i,r,x,l,d,y,O,G,de,De,Ue,null,Le,Te)),Al(i,x,O,!ke);return}}n2(i,r,x,l,d,y,O,G,de)}function t3(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var y=l[d],x=y.getSnapshot;y=y.value;try{if(!Ki(x(),y))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Al(i,r,l,d){r&=~zm,r&=~wc,i.suspendedLanes|=r,i.pingedLanes&=~r,d&&(i.warmLanes|=r),d=i.expirationTimes;for(var y=r;0<y;){var x=31-Yt(y),O=1<<x;d[x]=-1,y&=~O}l!==0&&Li(i,l,r)}function vf(){return(Sn&6)===0?(Fd(0),!1):!0}function Fm(){if(Zt!==null){if(Cn===0)var i=Zt.return;else i=Zt,Yr=Qs=null,fu(i),qe=null,ot=0,i=Zt;for(;i!==null;)jv(i.alternate,i),i=i.return;Zt=null}}function ju(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,x3(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Fo=0,Fm(),qn=i,Zt=l=Qa(i.current,null),tn=r,Cn=0,Er=null,_l=!1,_u=vi(i,r),Pm=!1,Su=Cr=zm=wc=Sl=ji=0,or=Id=null,Bm=!1,(r&8)!==0&&(r|=r&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=r;0<d;){var y=31-Yt(d),x=1<<y;r|=i[y],d&=~x}return qo=r,lc(),l}function Kv(i,r){_t=null,I.H=Od,r===ge||r===ne?(r=Pe(),Cn=3):r===Ee?(r=Pe(),Cn=4):Cn=r===wm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Er=r,Zt===null&&(ji=1,sf(i,Xa(r,i.current)))}function Qv(){var i=Zn.current;return i===null?!0:(tn&4194048)===tn?cn===null:(tn&62914560)===tn||(tn&536870912)!==0?i===cn:!1}function Xv(){var i=I.H;return I.H=Od,i===null?Od:i}function Jv(){var i=I.A;return I.A=Z_,i}function yf(){ji=4,_l||(tn&4194048)!==tn&&Zn.current!==null||(_u=!0),(Sl&134217727)===0&&(wc&134217727)===0||qn===null||Al(qn,tn,Cr,!1)}function Hm(i,r,l){var d=Sn;Sn|=2;var y=Xv(),x=Jv();(qn!==i||tn!==r)&&(gf=null,ju(i,r)),r=!1;var O=ji;e:do try{if(Cn!==0&&Zt!==null){var G=Zt,de=Er;switch(Cn){case 8:Fm(),O=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(r=!0);var ke=Cn;if(Cn=0,Er=null,Au(i,G,de,ke),l&&_u){O=0;break e}break;default:ke=Cn,Cn=0,Er=null,Au(i,G,de,ke)}}n3(),O=ji;break}catch(De){Kv(i,De)}while(!0);return r&&i.shellSuspendCounter++,Yr=Qs=null,Sn=d,I.H=y,I.A=x,Zt===null&&(qn=null,tn=0,lc()),O}function n3(){for(;Zt!==null;)Zv(Zt)}function i3(i,r){var l=Sn;Sn|=2;var d=Xv(),y=Jv();qn!==i||tn!==r?(gf=null,mf=zt()+500,ju(i,r)):_u=vi(i,r);e:do try{if(Cn!==0&&Zt!==null){r=Zt;var x=Er;t:switch(Cn){case 1:Cn=0,Er=null,Au(i,r,x,1);break;case 2:case 9:if(Ne(x)){Cn=0,Er=null,e2(r);break}r=function(){Cn!==2&&Cn!==9||qn!==i||(Cn=7),ro(i)},x.then(r,r);break e;case 3:Cn=7;break e;case 4:Cn=5;break e;case 7:Ne(x)?(Cn=0,Er=null,e2(r)):(Cn=0,Er=null,Au(i,r,x,7));break;case 5:var O=null;switch(Zt.tag){case 26:O=Zt.memoizedState;case 5:case 27:var G=Zt;if(O?U2(O):G.stateNode.complete){Cn=0,Er=null;var de=G.sibling;if(de!==null)Zt=de;else{var ke=G.return;ke!==null?(Zt=ke,bf(ke)):Zt=null}break t}}Cn=0,Er=null,Au(i,r,x,5);break;case 6:Cn=0,Er=null,Au(i,r,x,6);break;case 8:Fm(),ji=6;break e;default:throw Error(a(462))}}a3();break}catch(De){Kv(i,De)}while(!0);return Yr=Qs=null,I.H=d,I.A=y,Sn=l,Zt!==null?0:(qn=null,tn=0,lc(),ji)}function a3(){for(;Zt!==null&&!ht();)Zv(Zt)}function Zv(i){var r=Sv(i.alternate,i,qo);i.memoizedProps=i.pendingProps,r===null?bf(i):Zt=r}function e2(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=vv(l,r,r.pendingProps,r.type,void 0,tn);break;case 11:r=vv(l,r,r.pendingProps,r.type.render,r.ref,tn);break;case 5:fu(r);default:jv(l,r),r=Zt=dc(r,qo),r=Sv(l,r,qo)}i.memoizedProps=i.pendingProps,r===null?bf(i):Zt=r}function Au(i,r,l,d){Yr=Qs=null,fu(r),qe=null,ot=0;var y=r.return;try{if(V_(i,y,r,l,tn)){ji=1,sf(i,Xa(l,i.current)),Zt=null;return}}catch(x){if(y!==null)throw Zt=y,x;ji=1,sf(i,Xa(l,i.current)),Zt=null;return}r.flags&32768?(Jt||d===1?i=!0:_u||(tn&536870912)!==0?i=!1:(_l=i=!0,(d===2||d===9||d===3||d===6)&&(d=Zn.current,d!==null&&d.tag===13&&(d.flags|=16384))),t2(r,i)):bf(r)}function bf(i){var r=i;do{if((r.flags&32768)!==0){t2(r,_l);return}i=r.return;var l=K_(r.alternate,r,qo);if(l!==null){Zt=l;return}if(r=r.sibling,r!==null){Zt=r;return}Zt=r=i}while(r!==null);ji===0&&(ji=5)}function t2(i,r){do{var l=Q_(i.alternate,i);if(l!==null){l.flags&=32767,Zt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){Zt=i;return}Zt=i=l}while(i!==null);ji=6,Zt=null}function n2(i,r,l,d,y,x,O,G,de){i.cancelPendingCommit=null;do wf();while(ta!==0);if((Sn&6)!==0)throw Error(a(327));if(r!==null){if(r===i.current)throw Error(a(177));if(x=r.lanes|r.childLanes,x|=Zc,Nn(i,l,x,O,G,de),i===qn&&(Zt=qn=null,tn=0),Nu=r,jl=i,Fo=l,Um=x,Im=y,Gv=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,l3(mt,function(){return o2(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=I.T,I.T=null,y=te.p,te.p=2,O=Sn,Sn|=4;try{X_(i,r,l)}finally{Sn=O,te.p=y,I.T=d}}ta=1,i2(),a2(),r2()}}function i2(){if(ta===1){ta=0;var i=jl,r=Nu,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=I.T,I.T=null;var d=te.p;te.p=2;var y=Sn;Sn|=4;try{zv(r,i);var x=tg,O=xs(i.containerInfo),G=x.focusedElem,de=x.selectionRange;if(O!==G&&G&&G.ownerDocument&&ws(G.ownerDocument.documentElement,G)){if(de!==null&&Vr(G)){var ke=de.start,De=de.end;if(De===void 0&&(De=ke),"selectionStart"in G)G.selectionStart=ke,G.selectionEnd=Math.min(De,G.value.length);else{var Ue=G.ownerDocument||document,Le=Ue&&Ue.defaultView||window;if(Le.getSelection){var Te=Le.getSelection(),st=G.textContent.length,Lt=Math.min(de.start,st),Bn=de.end===void 0?Lt:Math.min(de.end,st);!Te.extend&&Lt>Bn&&(O=Bn,Bn=Lt,Lt=O);var Se=ul(G,Lt),ye=ul(G,Bn);if(Se&&ye&&(Te.rangeCount!==1||Te.anchorNode!==Se.node||Te.anchorOffset!==Se.offset||Te.focusNode!==ye.node||Te.focusOffset!==ye.offset)){var Ce=Ue.createRange();Ce.setStart(Se.node,Se.offset),Te.removeAllRanges(),Lt>Bn?(Te.addRange(Ce),Te.extend(ye.node,ye.offset)):(Ce.setEnd(ye.node,ye.offset),Te.addRange(Ce))}}}}for(Ue=[],Te=G;Te=Te.parentNode;)Te.nodeType===1&&Ue.push({element:Te,left:Te.scrollLeft,top:Te.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Ue.length;G++){var Be=Ue[G];Be.element.scrollLeft=Be.left,Be.element.scrollTop=Be.top}}Of=!!eg,tg=eg=null}finally{Sn=y,te.p=d,I.T=l}}i.current=r,ta=2}}function a2(){if(ta===2){ta=0;var i=jl,r=Nu,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=I.T,I.T=null;var d=te.p;te.p=2;var y=Sn;Sn|=4;try{Ov(i,r.alternate,r)}finally{Sn=y,te.p=d,I.T=l}}ta=3}}function r2(){if(ta===4||ta===3){ta=0,ft();var i=jl,r=Nu,l=Fo,d=Gv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ta=5:(ta=0,Nu=jl=null,s2(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(Nl=null),On(l),r=r.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(Wt,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=I.T,y=te.p,te.p=2,I.T=null;try{for(var x=i.onRecoverableError,O=0;O<d.length;O++){var G=d[O];x(G.value,{componentStack:G.stack})}}finally{I.T=r,te.p=y}}(Fo&3)!==0&&wf(),ro(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===qm?qd++:(qd=0,qm=i):qd=0,Fd(0)}}function s2(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,pc(r)))}function wf(){return i2(),a2(),r2(),o2()}function o2(){if(ta!==5)return!1;var i=jl,r=Um;Um=0;var l=On(Fo),d=I.T,y=te.p;try{te.p=32>l?32:l,I.T=null,l=Im,Im=null;var x=jl,O=Fo;if(ta=0,Nu=jl=null,Fo=0,(Sn&6)!==0)throw Error(a(331));var G=Sn;if(Sn|=4,Fv(x.current),Uv(x,x.current,O,l),Sn=G,Fd(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(Wt,x)}catch{}return!0}finally{te.p=y,I.T=d,s2(i,r)}}function l2(i,r,l){r=Xa(l,r),r=bm(i.stateNode,r,2),i=Gt(i,r,2),i!==null&&(ct(i,2),ro(i))}function kn(i,r,l){if(i.tag===3)l2(i,i,l);else for(;r!==null;){if(r.tag===3){l2(r,i,l);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Nl===null||!Nl.has(d))){i=Xa(l,i),l=cv(2),d=Gt(r,l,2),d!==null&&(uv(l,d,r,i),ct(d,2),ro(d));break}}r=r.return}}function $m(i,r,l){var d=i.pingCache;if(d===null){d=i.pingCache=new e3;var y=new Set;d.set(r,y)}else y=d.get(r),y===void 0&&(y=new Set,d.set(r,y));y.has(l)||(Pm=!0,y.add(l),i=r3.bind(null,i,r,l),r.then(i,i))}function r3(i,r,l){var d=i.pingCache;d!==null&&d.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,qn===i&&(tn&l)===l&&(ji===4||ji===3&&(tn&62914560)===tn&&300>zt()-pf?(Sn&2)===0&&ju(i,0):zm|=l,Su===tn&&(Su=0)),ro(i)}function c2(i,r){r===0&&(r=Hn()),i=Ss(i,r),i!==null&&(ct(i,r),ro(i))}function s3(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),c2(i,l)}function o3(i,r){var l=0;switch(i.tag){case 31:case 13:var d=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(a(314))}d!==null&&d.delete(r),c2(i,l)}function l3(i,r){return nt(i,r)}var xf=null,Eu=null,Gm=!1,_f=!1,Vm=!1,El=0;function ro(i){i!==Eu&&i.next===null&&(Eu===null?xf=Eu=i:Eu=Eu.next=i),_f=!0,Gm||(Gm=!0,u3())}function Fd(i,r){if(!Vm&&_f){Vm=!0;do for(var l=!1,d=xf;d!==null;){if(i!==0){var y=d.pendingLanes;if(y===0)var x=0;else{var O=d.suspendedLanes,G=d.pingedLanes;x=(1<<31-Yt(42|i)+1)-1,x&=y&~(O&~G),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,f2(d,x))}else x=tn,x=Bt(d,d===qn?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||vi(d,x)||(l=!0,f2(d,x));d=d.next}while(l);Vm=!1}}function c3(){u2()}function u2(){_f=Gm=!1;var i=0;El!==0&&w3()&&(i=El);for(var r=zt(),l=null,d=xf;d!==null;){var y=d.next,x=d2(d,r);x===0?(d.next=null,l===null?xf=y:l.next=y,y===null&&(Eu=l)):(l=d,(i!==0||(x&3)!==0)&&(_f=!0)),d=y}ta!==0&&ta!==5||Fd(i),El!==0&&(El=0)}function d2(i,r){for(var l=i.suspendedLanes,d=i.pingedLanes,y=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var O=31-Yt(x),G=1<<O,de=y[O];de===-1?((G&l)===0||(G&d)!==0)&&(y[O]=wn(G,r)):de<=r&&(i.expiredLanes|=G),x&=~G}if(r=qn,l=tn,l=Bt(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,l===0||i===r&&(Cn===2||Cn===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&Qe(d),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||vi(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(d!==null&&Qe(d),On(l)){case 2:case 8:l=pt;break;case 32:l=mt;break;case 268435456:l=Rt;break;default:l=mt}return d=h2.bind(null,i),l=nt(l,d),i.callbackPriority=r,i.callbackNode=l,r}return d!==null&&d!==null&&Qe(d),i.callbackPriority=2,i.callbackNode=null,2}function h2(i,r){if(ta!==0&&ta!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(wf()&&i.callbackNode!==l)return null;var d=tn;return d=Bt(i,i===qn?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(Wv(i,d,r),d2(i,zt()),i.callbackNode!=null&&i.callbackNode===l?h2.bind(null,i):null)}function f2(i,r){if(wf())return null;Wv(i,r,!0)}function u3(){_3(function(){(Sn&6)!==0?nt(ze,c3):u2()})}function Wm(){if(El===0){var i=m;i===0&&(i=Dt,Dt<<=1,(Dt&261888)===0&&(Dt=256)),El=i}return El}function p2(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ja(""+i)}function m2(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function d3(i,r,l,d,y){if(r==="submit"&&l&&l.stateNode===y){var x=p2((y[Kn]||null).action),O=d.submitter;O&&(r=(r=O[Kn]||null)?p2(r.formAction):O.getAttribute("formAction"),r!==null&&(x=r,O=null));var G=new Wa("action","action",null,d,y);i.push({event:G,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(El!==0){var de=O?m2(y,O):new FormData(y);fm(l,{pending:!0,data:de,method:y.method,action:x},null,de)}}else typeof x=="function"&&(G.preventDefault(),de=O?m2(y,O):new FormData(y),fm(l,{pending:!0,data:de,method:y.method,action:x},x,de))},currentTarget:y}]})}}for(var Ym=0;Ym<Eo.length;Ym++){var Km=Eo[Ym],h3=Km.toLowerCase(),f3=Km[0].toUpperCase()+Km.slice(1);Ka(h3,"on"+f3)}Ka(Ao,"onAnimationEnd"),Ka(sc,"onAnimationIteration"),Ka(vd,"onAnimationStart"),Ka("dblclick","onDoubleClick"),Ka("focusin","onFocus"),Ka("focusout","onBlur"),Ka(Vh,"onTransitionRun"),Ka(Wh,"onTransitionStart"),Ka(Yh,"onTransitionCancel"),Ka(yd,"onTransitionEnd"),as("onMouseEnter",["mouseout","mouseover"]),as("onMouseLeave",["mouseout","mouseover"]),as("onPointerEnter",["pointerout","pointerover"]),as("onPointerLeave",["pointerout","pointerover"]),vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vr("onBeforeInput",["compositionend","keypress","textInput","paste"]),vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hd));function g2(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],y=d.event;d=d.listeners;e:{var x=void 0;if(r)for(var O=d.length-1;0<=O;O--){var G=d[O],de=G.instance,ke=G.currentTarget;if(G=G.listener,de!==x&&y.isPropagationStopped())break e;x=G,y.currentTarget=ke;try{x(y)}catch(De){oc(De)}y.currentTarget=null,x=de}else for(O=0;O<d.length;O++){if(G=d[O],de=G.instance,ke=G.currentTarget,G=G.listener,de!==x&&y.isPropagationStopped())break e;x=G,y.currentTarget=ke;try{x(y)}catch(De){oc(De)}y.currentTarget=null,x=de}}}}function en(i,r){var l=r[Da];l===void 0&&(l=r[Da]=new Set);var d=i+"__bubble";l.has(d)||(v2(r,i,2,!1),l.add(d))}function Qm(i,r,l){var d=0;r&&(d|=4),v2(l,i,d,r)}var Sf="_reactListening"+Math.random().toString(36).slice(2);function Xm(i){if(!i[Sf]){i[Sf]=!0,Hl.forEach(function(l){l!=="selectionchange"&&(p3.has(l)||Qm(l,!1,i),Qm(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Sf]||(r[Sf]=!0,Qm("selectionchange",!1,r))}}function v2(i,r,l,d){switch(V2(r)){case 2:var y=F3;break;case 8:y=H3;break;default:y=hg}l=y.bind(null,r,l,i),y=void 0,!tc||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(y=!0),d?y!==void 0?i.addEventListener(r,l,{capture:!0,passive:y}):i.addEventListener(r,l,!0):y!==void 0?i.addEventListener(r,l,{passive:y}):i.addEventListener(r,l,!1)}function Jm(i,r,l,d,y){var x=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var O=d.tag;if(O===3||O===4){var G=d.stateNode.containerInfo;if(G===y)break;if(O===4)for(O=d.return;O!==null;){var de=O.tag;if((de===3||de===4)&&O.stateNode.containerInfo===y)return;O=O.return}for(;G!==null;){if(O=mr(G),O===null)return;if(de=O.tag,de===5||de===6||de===26||de===27){d=x=O;continue e}G=G.parentNode}}d=d.return}Yc(function(){var ke=x,De=bo(l),Ue=[];e:{var Le=bd.get(i);if(Le!==void 0){var Te=Wa,st=i;switch(i){case"keypress":if(Va(l)===0)break e;case"keydown":case"keyup":Te=an;break;case"focusin":st="focus",Te=hs;break;case"focusout":st="blur",Te=hs;break;case"beforeblur":case"afterblur":Te=hs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=nc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=ds;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=Ri;break;case Ao:case sc:case vd:Te=S;break;case yd:Te=Yi;break;case"scroll":case"scrollend":Te=il;break;case"wheel":Te=xr;break;case"copy":case"cut":case"paste":Te=re;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=hi;break;case"toggle":case"beforetoggle":Te=ic}var Lt=(r&4)!==0,Bn=!Lt&&(i==="scroll"||i==="scrollend"),Se=Lt?Le!==null?Le+"Capture":null:Le;Lt=[];for(var ye=ke,Ce;ye!==null;){var Be=ye;if(Ce=Be.stateNode,Be=Be.tag,Be!==5&&Be!==26&&Be!==27||Ce===null||Se===null||(Be=za(ye,Se),Be!=null&&Lt.push($d(ye,Be,Ce))),Bn)break;ye=ye.return}0<Lt.length&&(Le=new Te(Le,st,null,l,De),Ue.push({event:Le,listeners:Lt}))}}if((r&7)===0){e:{if(Le=i==="mouseover"||i==="pointerover",Te=i==="mouseout"||i==="pointerout",Le&&l!==ss&&(st=l.relatedTarget||l.fromElement)&&(mr(st)||st[ra]))break e;if((Te||Le)&&(Le=De.window===De?De:(Le=De.ownerDocument)?Le.defaultView||Le.parentWindow:window,Te?(st=l.relatedTarget||l.toElement,Te=ke,st=st?mr(st):null,st!==null&&(Bn=o(st),Lt=st.tag,st!==Bn||Lt!==5&&Lt!==27&&Lt!==6)&&(st=null)):(Te=null,st=ke),Te!==st)){if(Lt=nc,Be="onMouseLeave",Se="onMouseEnter",ye="mouse",(i==="pointerout"||i==="pointerover")&&(Lt=hi,Be="onPointerLeave",Se="onPointerEnter",ye="pointer"),Bn=Te==null?Le:vo(Te),Ce=st==null?Le:vo(st),Le=new Lt(Be,ye+"leave",Te,l,De),Le.target=Bn,Le.relatedTarget=Ce,Be=null,mr(De)===ke&&(Lt=new Lt(Se,ye+"enter",st,l,De),Lt.target=Ce,Lt.relatedTarget=Bn,Be=Lt),Bn=Be,Te&&st)t:{for(Lt=m3,Se=Te,ye=st,Ce=0,Be=Se;Be;Be=Lt(Be))Ce++;Be=0;for(var jt=ye;jt;jt=Lt(jt))Be++;for(;0<Ce-Be;)Se=Lt(Se),Ce--;for(;0<Be-Ce;)ye=Lt(ye),Be--;for(;Ce--;){if(Se===ye||ye!==null&&Se===ye.alternate){Lt=Se;break t}Se=Lt(Se),ye=Lt(ye)}Lt=null}else Lt=null;Te!==null&&y2(Ue,Le,Te,Lt,!1),st!==null&&Bn!==null&&y2(Ue,Bn,st,Lt,!0)}}e:{if(Le=ke?vo(ke):window,Te=Le.nodeName&&Le.nodeName.toLowerCase(),Te==="select"||Te==="input"&&Le.type==="file")var gn=Vs;else if(ac(Le))if(Aa)gn=$r;else{gn=fi;var vt=ll}else Te=Le.nodeName,!Te||Te.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?ke&&Jl(ke.elementType)&&(gn=Vs):gn=Jc;if(gn&&(gn=gn(i,ke))){Ua(Ue,gn,l,De);break e}vt&&vt(i,Le,ke),i==="focusout"&&ke&&Le.type==="number"&&ke.memoizedProps.value!=null&&Kl(Le,"number",Le.value)}switch(vt=ke?vo(ke):window,i){case"focusin":(ac(vt)||vt.contentEditable==="true")&&(Ia=vt,_s=ke,sa=null);break;case"focusout":sa=_s=Ia=null;break;case"mousedown":Ya=!0;break;case"contextmenu":case"mouseup":case"dragend":Ya=!1,hn(Ue,l,De);break;case"selectionchange":if(jo)break;case"keydown":case"keyup":hn(Ue,l,De)}var Kt;if(Ir)e:{switch(i){case"compositionstart":var nn="onCompositionStart";break e;case"compositionend":nn="onCompositionEnd";break e;case"compositionupdate":nn="onCompositionUpdate";break e}nn=void 0}else qr?Gs(i,l)&&(nn="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(nn="onCompositionStart");nn&&(ms&&l.locale!=="ko"&&(qr||nn!=="onCompositionStart"?nn==="onCompositionEnd"&&qr&&(Kt=Kc()):(Ba=De,xo="value"in Ba?Ba.value:Ba.textContent,qr=!0)),vt=Nf(ke,nn),0<vt.length&&(nn=new _e(nn,i,null,l,De),Ue.push({event:nn,listeners:vt}),Kt?nn.data=Kt:(Kt=rl(l),Kt!==null&&(nn.data=Kt)))),(Kt=No?ga(i,l):gs(i,l))&&(nn=Nf(ke,"onBeforeInput"),0<nn.length&&(vt=new _e("onBeforeInput","beforeinput",null,l,De),Ue.push({event:vt,listeners:nn}),vt.data=Kt)),d3(Ue,i,ke,l,De)}g2(Ue,r)})}function $d(i,r,l){return{instance:i,listener:r,currentTarget:l}}function Nf(i,r){for(var l=r+"Capture",d=[];i!==null;){var y=i,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=za(i,l),y!=null&&d.unshift($d(i,y,x)),y=za(i,r),y!=null&&d.push($d(i,y,x))),i.tag===3)return d;i=i.return}return[]}function m3(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function y2(i,r,l,d,y){for(var x=r._reactName,O=[];l!==null&&l!==d;){var G=l,de=G.alternate,ke=G.stateNode;if(G=G.tag,de!==null&&de===d)break;G!==5&&G!==26&&G!==27||ke===null||(de=ke,y?(ke=za(l,x),ke!=null&&O.unshift($d(l,ke,de))):y||(ke=za(l,x),ke!=null&&O.push($d(l,ke,de)))),l=l.return}O.length!==0&&i.push({event:r,listeners:O})}var g3=/\r\n?/g,v3=/\u0000|\uFFFD/g;function b2(i){return(typeof i=="string"?i:""+i).replace(g3,`
`).replace(v3,"")}function w2(i,r){return r=b2(r),b2(i)===r}function zn(i,r,l,d,y,x){switch(l){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||br(i,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&br(i,""+d);break;case"className":rs(i,"class",d);break;case"tabIndex":rs(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":rs(i,l,d);break;case"style":Gc(i,d,x);break;case"data":if(r!=="object"){rs(i,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=ja(""+d),i.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(r!=="input"&&zn(i,r,"name",y.name,y,null),zn(i,r,"formEncType",y.formEncType,y,null),zn(i,r,"formMethod",y.formMethod,y,null),zn(i,r,"formTarget",y.formTarget,y,null)):(zn(i,r,"encType",y.encType,y,null),zn(i,r,"method",y.method,y,null),zn(i,r,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=ja(""+d),i.setAttribute(l,d);break;case"onClick":d!=null&&(i.onclick=wr);break;case"onScroll":d!=null&&en("scroll",i);break;case"onScrollEnd":d!=null&&en("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(l=d.__html,l!=null){if(y.children!=null)throw Error(a(60));i.innerHTML=l}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}l=ja(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""+d):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":d===!0?i.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,d):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(l,d):i.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(l):i.setAttribute(l,d);break;case"popover":en("beforetoggle",i),en("toggle",i),Pa(i,"popover",d);break;case"xlinkActuate":yr(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":yr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":yr(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":yr(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":yr(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":yr(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":yr(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":yr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":yr(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Pa(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Zl.get(l)||l,Pa(i,l,d))}}function Zm(i,r,l,d,y,x){switch(l){case"style":Gc(i,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(l=d.__html,l!=null){if(y.children!=null)throw Error(a(60));i.innerHTML=l}}break;case"children":typeof d=="string"?br(i,d):(typeof d=="number"||typeof d=="bigint")&&br(i,""+d);break;case"onScroll":d!=null&&en("scroll",i);break;case"onScrollEnd":d!=null&&en("scrollend",i);break;case"onClick":d!=null&&(i.onclick=wr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ma.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),r=l.slice(2,y?l.length-7:void 0),x=i[Kn]||null,x=x!=null?x[l]:null,typeof x=="function"&&i.removeEventListener(r,x,y),typeof d=="function")){typeof x!="function"&&x!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,d,y);break e}l in i?i[l]=d:d===!0?i.setAttribute(l,""):Pa(i,l,d)}}}function xa(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":en("error",i),en("load",i);var d=!1,y=!1,x;for(x in l)if(l.hasOwnProperty(x)){var O=l[x];if(O!=null)switch(x){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:zn(i,r,x,O,l,null)}}y&&zn(i,r,"srcSet",l.srcSet,l,null),d&&zn(i,r,"src",l.src,l,null);return;case"input":en("invalid",i);var G=x=O=y=null,de=null,ke=null;for(d in l)if(l.hasOwnProperty(d)){var De=l[d];if(De!=null)switch(d){case"name":y=De;break;case"type":O=De;break;case"checked":de=De;break;case"defaultChecked":ke=De;break;case"value":x=De;break;case"defaultValue":G=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(a(137,r));break;default:zn(i,r,d,De,l,null)}}Hc(i,x,G,de,ke,O,y,!1);return;case"select":en("invalid",i),d=O=x=null;for(y in l)if(l.hasOwnProperty(y)&&(G=l[y],G!=null))switch(y){case"value":x=G;break;case"defaultValue":O=G;break;case"multiple":d=G;default:zn(i,r,y,G,l,null)}r=x,l=O,i.multiple=!!d,r!=null?ma(i,!!d,r,!1):l!=null&&ma(i,!!d,l,!0);return;case"textarea":en("invalid",i),x=y=d=null;for(O in l)if(l.hasOwnProperty(O)&&(G=l[O],G!=null))switch(O){case"value":d=G;break;case"defaultValue":y=G;break;case"children":x=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(91));break;default:zn(i,r,O,G,l,null)}Xl(i,d,y,x);return;case"option":for(de in l)l.hasOwnProperty(de)&&(d=l[de],d!=null)&&(de==="selected"?i.selected=d&&typeof d!="function"&&typeof d!="symbol":zn(i,r,de,d,l,null));return;case"dialog":en("beforetoggle",i),en("toggle",i),en("cancel",i),en("close",i);break;case"iframe":case"object":en("load",i);break;case"video":case"audio":for(d=0;d<Hd.length;d++)en(Hd[d],i);break;case"image":en("error",i),en("load",i);break;case"details":en("toggle",i);break;case"embed":case"source":case"link":en("error",i),en("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ke in l)if(l.hasOwnProperty(ke)&&(d=l[ke],d!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:zn(i,r,ke,d,l,null)}return;default:if(Jl(r)){for(De in l)l.hasOwnProperty(De)&&(d=l[De],d!==void 0&&Zm(i,r,De,d,l,void 0));return}}for(G in l)l.hasOwnProperty(G)&&(d=l[G],d!=null&&zn(i,r,G,d,l,null))}function y3(i,r,l,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,O=null,G=null,de=null,ke=null,De=null;for(Te in l){var Ue=l[Te];if(l.hasOwnProperty(Te)&&Ue!=null)switch(Te){case"checked":break;case"value":break;case"defaultValue":de=Ue;default:d.hasOwnProperty(Te)||zn(i,r,Te,null,d,Ue)}}for(var Le in d){var Te=d[Le];if(Ue=l[Le],d.hasOwnProperty(Le)&&(Te!=null||Ue!=null))switch(Le){case"type":x=Te;break;case"name":y=Te;break;case"checked":ke=Te;break;case"defaultChecked":De=Te;break;case"value":O=Te;break;case"defaultValue":G=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(a(137,r));break;default:Te!==Ue&&zn(i,r,Le,Te,d,Ue)}}el(i,O,G,de,ke,De,x,y);return;case"select":Te=O=G=Le=null;for(x in l)if(de=l[x],l.hasOwnProperty(x)&&de!=null)switch(x){case"value":break;case"multiple":Te=de;default:d.hasOwnProperty(x)||zn(i,r,x,null,d,de)}for(y in d)if(x=d[y],de=l[y],d.hasOwnProperty(y)&&(x!=null||de!=null))switch(y){case"value":Le=x;break;case"defaultValue":G=x;break;case"multiple":O=x;default:x!==de&&zn(i,r,y,x,d,de)}r=G,l=O,d=Te,Le!=null?ma(i,!!l,Le,!1):!!d!=!!l&&(r!=null?ma(i,!!l,r,!0):ma(i,!!l,l?[]:"",!1));return;case"textarea":Te=Le=null;for(G in l)if(y=l[G],l.hasOwnProperty(G)&&y!=null&&!d.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:zn(i,r,G,null,d,y)}for(O in d)if(y=d[O],x=l[O],d.hasOwnProperty(O)&&(y!=null||x!=null))switch(O){case"value":Le=y;break;case"defaultValue":Te=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==x&&zn(i,r,O,y,d,x)}Ql(i,Le,Te);return;case"option":for(var st in l)Le=l[st],l.hasOwnProperty(st)&&Le!=null&&!d.hasOwnProperty(st)&&(st==="selected"?i.selected=!1:zn(i,r,st,null,d,Le));for(de in d)Le=d[de],Te=l[de],d.hasOwnProperty(de)&&Le!==Te&&(Le!=null||Te!=null)&&(de==="selected"?i.selected=Le&&typeof Le!="function"&&typeof Le!="symbol":zn(i,r,de,Le,d,Te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Lt in l)Le=l[Lt],l.hasOwnProperty(Lt)&&Le!=null&&!d.hasOwnProperty(Lt)&&zn(i,r,Lt,null,d,Le);for(ke in d)if(Le=d[ke],Te=l[ke],d.hasOwnProperty(ke)&&Le!==Te&&(Le!=null||Te!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(a(137,r));break;default:zn(i,r,ke,Le,d,Te)}return;default:if(Jl(r)){for(var Bn in l)Le=l[Bn],l.hasOwnProperty(Bn)&&Le!==void 0&&!d.hasOwnProperty(Bn)&&Zm(i,r,Bn,void 0,d,Le);for(De in d)Le=d[De],Te=l[De],!d.hasOwnProperty(De)||Le===Te||Le===void 0&&Te===void 0||Zm(i,r,De,Le,d,Te);return}}for(var Se in l)Le=l[Se],l.hasOwnProperty(Se)&&Le!=null&&!d.hasOwnProperty(Se)&&zn(i,r,Se,null,d,Le);for(Ue in d)Le=d[Ue],Te=l[Ue],!d.hasOwnProperty(Ue)||Le===Te||Le==null&&Te==null||zn(i,r,Ue,Le,d,Te)}function x2(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function b3(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var y=l[d],x=y.transferSize,O=y.initiatorType,G=y.duration;if(x&&G&&x2(O)){for(O=0,G=y.responseEnd,d+=1;d<l.length;d++){var de=l[d],ke=de.startTime;if(ke>G)break;var De=de.transferSize,Ue=de.initiatorType;De&&x2(Ue)&&(de=de.responseEnd,O+=De*(de<G?1:(G-ke)/(de-ke)))}if(--d,r+=8*(x+O)/(y.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var eg=null,tg=null;function jf(i){return i.nodeType===9?i:i.ownerDocument}function _2(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S2(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function ng(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ig=null;function w3(){var i=window.event;return i&&i.type==="popstate"?i===ig?!1:(ig=i,!0):(ig=null,!1)}var N2=typeof setTimeout=="function"?setTimeout:void 0,x3=typeof clearTimeout=="function"?clearTimeout:void 0,j2=typeof Promise=="function"?Promise:void 0,_3=typeof queueMicrotask=="function"?queueMicrotask:typeof j2<"u"?function(i){return j2.resolve(null).then(i).catch(S3)}:N2;function S3(i){setTimeout(function(){throw i})}function Cl(i){return i==="head"}function A2(i,r){var l=r,d=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(d===0){i.removeChild(y),Tu(r);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")Gd(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Gd(l);for(var x=l.firstChild;x;){var O=x.nextSibling,G=x.nodeName;x[pr]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=O}}else l==="body"&&Gd(i.ownerDocument.body);l=y}while(l);Tu(r)}function E2(i,r){var l=i;i=0;do{var d=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=d}while(l)}function ag(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ag(l),qs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function N3(i,r,l,d){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[pr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=Xr(i.nextSibling),i===null)break}return null}function j3(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Xr(i.nextSibling),i===null))return null;return i}function C2(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Xr(i.nextSibling),i===null))return null;return i}function rg(i){return i.data==="$?"||i.data==="$~"}function sg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function A3(i,r){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||l.readyState!=="loading")r();else{var d=function(){r(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function Xr(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var og=null;function k2(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(r===0)return Xr(i.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}i=i.nextSibling}return null}function L2(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return i;r--}else l!=="/$"&&l!=="/&"||r++}i=i.previousSibling}return null}function T2(i,r,l){switch(r=jf(l),i){case"html":if(i=r.documentElement,!i)throw Error(a(452));return i;case"head":if(i=r.head,!i)throw Error(a(453));return i;case"body":if(i=r.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function Gd(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);qs(i)}var Jr=new Map,O2=new Set;function Af(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ho=te.d;te.d={f:E3,r:C3,D:k3,C:L3,L:T3,m:O3,X:D3,S:R3,M:M3};function E3(){var i=Ho.f(),r=vf();return i||r}function C3(i){var r=gr(i);r!==null&&r.tag===5&&r.type==="form"?K1(r):Ho.r(i)}var Cu=typeof document>"u"?null:document;function R2(i,r,l){var d=Cu;if(d&&typeof r=="string"&&r){var y=yi(r);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),O2.has(y)||(O2.add(y),i={rel:i,crossOrigin:l,href:r},d.querySelector(y)===null&&(r=d.createElement("link"),xa(r,"link",i),di(r),d.head.appendChild(r)))}}function k3(i){Ho.D(i),R2("dns-prefetch",i,null)}function L3(i,r){Ho.C(i,r),R2("preconnect",i,r)}function T3(i,r,l){Ho.L(i,r,l);var d=Cu;if(d&&i&&r){var y='link[rel="preload"][as="'+yi(r)+'"]';r==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+yi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+yi(l.imageSizes)+'"]')):y+='[href="'+yi(i)+'"]';var x=y;switch(r){case"style":x=ku(i);break;case"script":x=Lu(i)}Jr.has(x)||(i=v({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),Jr.set(x,i),d.querySelector(y)!==null||r==="style"&&d.querySelector(Vd(x))||r==="script"&&d.querySelector(Wd(x))||(r=d.createElement("link"),xa(r,"link",i),di(r),d.head.appendChild(r)))}}function O3(i,r){Ho.m(i,r);var l=Cu;if(l&&i){var d=r&&typeof r.as=="string"?r.as:"script",y='link[rel="modulepreload"][as="'+yi(d)+'"][href="'+yi(i)+'"]',x=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Lu(i)}if(!Jr.has(x)&&(i=v({rel:"modulepreload",href:i},r),Jr.set(x,i),l.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Wd(x)))return}d=l.createElement("link"),xa(d,"link",i),di(d),l.head.appendChild(d)}}}function R3(i,r,l){Ho.S(i,r,l);var d=Cu;if(d&&i){var y=Pr(d).hoistableStyles,x=ku(i);r=r||"default";var O=y.get(x);if(!O){var G={loading:0,preload:null};if(O=d.querySelector(Vd(x)))G.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},l),(l=Jr.get(x))&&lg(i,l);var de=O=d.createElement("link");di(de),xa(de,"link",i),de._p=new Promise(function(ke,De){de.onload=ke,de.onerror=De}),de.addEventListener("load",function(){G.loading|=1}),de.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Ef(O,r,d)}O={type:"stylesheet",instance:O,count:1,state:G},y.set(x,O)}}}function D3(i,r){Ho.X(i,r);var l=Cu;if(l&&i){var d=Pr(l).hoistableScripts,y=Lu(i),x=d.get(y);x||(x=l.querySelector(Wd(y)),x||(i=v({src:i,async:!0},r),(r=Jr.get(y))&&cg(i,r),x=l.createElement("script"),di(x),xa(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(y,x))}}function M3(i,r){Ho.M(i,r);var l=Cu;if(l&&i){var d=Pr(l).hoistableScripts,y=Lu(i),x=d.get(y);x||(x=l.querySelector(Wd(y)),x||(i=v({src:i,async:!0,type:"module"},r),(r=Jr.get(y))&&cg(i,r),x=l.createElement("script"),di(x),xa(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(y,x))}}function D2(i,r,l,d){var y=(y=ce.current)?Af(y):null;if(!y)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=ku(l.href),l=Pr(y).hoistableStyles,d=l.get(r),d||(d={type:"style",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=ku(l.href);var x=Pr(y).hoistableStyles,O=x.get(i);if(O||(y=y.ownerDocument||y,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,O),(x=y.querySelector(Vd(i)))&&!x._p&&(O.instance=x,O.state.loading=5),Jr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Jr.set(i,l),x||P3(y,i,l,O.state))),r&&d===null)throw Error(a(528,""));return O}if(r&&d!==null)throw Error(a(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Lu(l),l=Pr(y).hoistableScripts,d=l.get(r),d||(d={type:"script",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function ku(i){return'href="'+yi(i)+'"'}function Vd(i){return'link[rel="stylesheet"]['+i+"]"}function M2(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function P3(i,r,l,d){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=i.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),xa(r,"link",l),di(r),i.head.appendChild(r))}function Lu(i){return'[src="'+yi(i)+'"]'}function Wd(i){return"script[async]"+i}function P2(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var d=i.querySelector('style[data-href~="'+yi(l.href)+'"]');if(d)return r.instance=d,di(d),d;var y=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),di(d),xa(d,"style",y),Ef(d,l.precedence,i),r.instance=d;case"stylesheet":y=ku(l.href);var x=i.querySelector(Vd(y));if(x)return r.state.loading|=4,r.instance=x,di(x),x;d=M2(l),(y=Jr.get(y))&&lg(d,y),x=(i.ownerDocument||i).createElement("link"),di(x);var O=x;return O._p=new Promise(function(G,de){O.onload=G,O.onerror=de}),xa(x,"link",d),r.state.loading|=4,Ef(x,l.precedence,i),r.instance=x;case"script":return x=Lu(l.src),(y=i.querySelector(Wd(x)))?(r.instance=y,di(y),y):(d=l,(y=Jr.get(x))&&(d=v({},l),cg(d,y)),i=i.ownerDocument||i,y=i.createElement("script"),di(y),xa(y,"link",d),i.head.appendChild(y),r.instance=y);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,Ef(d,l.precedence,i));return r.instance}function Ef(i,r,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,x=y,O=0;O<d.length;O++){var G=d[O];if(G.dataset.precedence===r)x=G;else if(x!==y)break}x?x.parentNode.insertBefore(i,x.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function lg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function cg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Cf=null;function z2(i,r,l){if(Cf===null){var d=new Map,y=Cf=new Map;y.set(l,d)}else y=Cf,d=y.get(l),d||(d=new Map,y.set(l,d));if(d.has(i))return d;for(d.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var x=l[y];if(!(x[pr]||x[An]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var O=x.getAttribute(r)||"";O=i+O;var G=d.get(O);G?G.push(x):d.set(O,[x])}}return d}function B2(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function z3(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function U2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function B3(i,r,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=ku(d.href),x=r.querySelector(Vd(y));if(x){r=x._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=kf.bind(i),r.then(i,i)),l.state.loading|=4,l.instance=x,di(x);return}x=r.ownerDocument||r,d=M2(d),(y=Jr.get(y))&&lg(d,y),x=x.createElement("link"),di(x);var O=x;O._p=new Promise(function(G,de){O.onload=G,O.onerror=de}),xa(x,"link",d),l.instance=x}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=kf.bind(i),r.addEventListener("load",l),r.addEventListener("error",l))}}var ug=0;function U3(i,r){return i.stylesheets&&i.count===0&&Tf(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var d=setTimeout(function(){if(i.stylesheets&&Tf(i,i.stylesheets),i.unsuspend){var x=i.unsuspend;i.unsuspend=null,x()}},6e4+r);0<i.imgBytes&&ug===0&&(ug=62500*b3());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Tf(i,i.stylesheets),i.unsuspend)){var x=i.unsuspend;i.unsuspend=null,x()}},(i.imgBytes>ug?50:800)+r);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function kf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Lf=null;function Tf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Lf=new Map,r.forEach(I3,i),Lf=null,kf.call(i))}function I3(i,r){if(!(r.state.loading&4)){var l=Lf.get(i);if(l)var d=l.get(null);else{l=new Map,Lf.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var O=y[x];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(l.set(O.dataset.precedence,O),d=O)}d&&l.set(null,d)}y=r.instance,O=y.getAttribute("data-precedence"),x=l.get(O)||d,x===d&&l.set(null,y),l.set(O,y),this.count++,d=kf.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),x?x.parentNode.insertBefore(y,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),r.state.loading|=4}}var Yd={$$typeof:D,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function q3(i,r,l,d,y,x,O,G,de){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=de,this.incompleteTransitions=new Map}function I2(i,r,l,d,y,x,O,G,de,ke,De,Ue){return i=new q3(i,r,l,O,de,ke,De,Ue,G),r=1,x===!0&&(r|=24),x=la(3,null,null,r),i.current=x,x.stateNode=i,r=gl(),r.refCount++,i.pooledCache=r,r.refCount++,x.memoizedState={element:d,isDehydrated:l,cache:r},Ke(x),i}function q2(i){return i?(i=Qi,i):Qi}function F2(i,r,l,d,y,x){y=q2(y),d.context===null?d.context=y:d.pendingContext=y,d=kt(r),d.payload={element:l},x=x===void 0?null:x,x!==null&&(d.callback=x),l=Gt(i,d,r),l!==null&&(lr(l,i,r),xn(l,i,r))}function H2(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function dg(i,r){H2(i,r),(i=i.alternate)&&H2(i,r)}function $2(i){if(i.tag===13||i.tag===31){var r=Ss(i,67108864);r!==null&&lr(r,i,67108864),dg(i,67108864)}}function G2(i){if(i.tag===13||i.tag===31){var r=kr();r=mn(r);var l=Ss(i,r);l!==null&&lr(l,i,r),dg(i,r)}}var Of=!0;function F3(i,r,l,d){var y=I.T;I.T=null;var x=te.p;try{te.p=2,hg(i,r,l,d)}finally{te.p=x,I.T=y}}function H3(i,r,l,d){var y=I.T;I.T=null;var x=te.p;try{te.p=8,hg(i,r,l,d)}finally{te.p=x,I.T=y}}function hg(i,r,l,d){if(Of){var y=fg(d);if(y===null)Jm(i,r,d,Rf,l),W2(i,d);else if(G3(y,i,r,l,d))d.stopPropagation();else if(W2(i,d),r&4&&-1<$3.indexOf(i)){for(;y!==null;){var x=gr(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var O=Xe(x.pendingLanes);if(O!==0){var G=x;for(G.pendingLanes|=2,G.entangledLanes|=2;O;){var de=1<<31-Yt(O);G.entanglements[1]|=de,O&=~de}ro(x),(Sn&6)===0&&(mf=zt()+500,Fd(0))}}break;case 31:case 13:G=Ss(x,2),G!==null&&lr(G,x,2),vf(),dg(x,2)}if(x=fg(d),x===null&&Jm(i,r,d,Rf,l),x===y)break;y=x}y!==null&&d.stopPropagation()}else Jm(i,r,d,null,l)}}function fg(i){return i=bo(i),pg(i)}var Rf=null;function pg(i){if(Rf=null,i=mr(i),i!==null){var r=o(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=u(r),i!==null)return i;i=null}else if(l===31){if(i=c(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Rf=i,null}function V2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vt()){case ze:return 2;case pt:return 8;case mt:case Je:return 32;case Rt:return 268435456;default:return 32}default:return 32}}var mg=!1,kl=null,Ll=null,Tl=null,Kd=new Map,Qd=new Map,Ol=[],$3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W2(i,r){switch(i){case"focusin":case"focusout":kl=null;break;case"dragenter":case"dragleave":Ll=null;break;case"mouseover":case"mouseout":Tl=null;break;case"pointerover":case"pointerout":Kd.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qd.delete(r.pointerId)}}function Xd(i,r,l,d,y,x){return i===null||i.nativeEvent!==x?(i={blockedOn:r,domEventName:l,eventSystemFlags:d,nativeEvent:x,targetContainers:[y]},r!==null&&(r=gr(r),r!==null&&$2(r)),i):(i.eventSystemFlags|=d,r=i.targetContainers,y!==null&&r.indexOf(y)===-1&&r.push(y),i)}function G3(i,r,l,d,y){switch(r){case"focusin":return kl=Xd(kl,i,r,l,d,y),!0;case"dragenter":return Ll=Xd(Ll,i,r,l,d,y),!0;case"mouseover":return Tl=Xd(Tl,i,r,l,d,y),!0;case"pointerover":var x=y.pointerId;return Kd.set(x,Xd(Kd.get(x)||null,i,r,l,d,y)),!0;case"gotpointercapture":return x=y.pointerId,Qd.set(x,Xd(Qd.get(x)||null,i,r,l,d,y)),!0}return!1}function Y2(i){var r=mr(i.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=u(l),r!==null){i.blockedOn=r,Na(i.priority,function(){G2(l)});return}}else if(r===31){if(r=c(l),r!==null){i.blockedOn=r,Na(i.priority,function(){G2(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Df(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=fg(i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);ss=d,l.target.dispatchEvent(d),ss=null}else return r=gr(l),r!==null&&$2(r),i.blockedOn=l,!1;r.shift()}return!0}function K2(i,r,l){Df(i)&&l.delete(r)}function V3(){mg=!1,kl!==null&&Df(kl)&&(kl=null),Ll!==null&&Df(Ll)&&(Ll=null),Tl!==null&&Df(Tl)&&(Tl=null),Kd.forEach(K2),Qd.forEach(K2)}function Mf(i,r){i.blockedOn===r&&(i.blockedOn=null,mg||(mg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,V3)))}var Pf=null;function Q2(i){Pf!==i&&(Pf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Pf===i&&(Pf=null);for(var r=0;r<i.length;r+=3){var l=i[r],d=i[r+1],y=i[r+2];if(typeof d!="function"){if(pg(d||l)===null)continue;break}var x=gr(l);x!==null&&(i.splice(r,3),r-=3,fm(x,{pending:!0,data:y,method:l.method,action:d},d,y))}}))}function Tu(i){function r(de){return Mf(de,i)}kl!==null&&Mf(kl,i),Ll!==null&&Mf(Ll,i),Tl!==null&&Mf(Tl,i),Kd.forEach(r),Qd.forEach(r);for(var l=0;l<Ol.length;l++){var d=Ol[l];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Ol.length&&(l=Ol[0],l.blockedOn===null);)Y2(l),l.blockedOn===null&&Ol.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var y=l[d],x=l[d+1],O=y[Kn]||null;if(typeof x=="function")O||Q2(l);else if(O){var G=null;if(x&&x.hasAttribute("formAction")){if(y=x,O=x[Kn]||null)G=O.formAction;else if(pg(y)!==null)continue}else G=O.action;typeof G=="function"?l[d+1]=G:(l.splice(d,3),d-=3),Q2(l)}}}function X2(){function i(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(O){return y=O})},focusReset:"manual",scroll:"manual"})}function r(){y!==null&&(y(),y=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),y!==null&&(y(),y=null)}}}function gg(i){this._internalRoot=i}zf.prototype.render=gg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(a(409));var l=r.current,d=kr();F2(l,d,i,r,null,null)},zf.prototype.unmount=gg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;F2(i.current,2,null,i,null,null),vf(),r[ra]=null}};function zf(i){this._internalRoot=i}zf.prototype.unstable_scheduleHydration=function(i){if(i){var r=jn();i={blockedOn:null,target:i,priority:r};for(var l=0;l<Ol.length&&r!==0&&r<Ol[l].priority;l++);Ol.splice(l,0,i),l===0&&Y2(i)}};var J2=e.version;if(J2!=="19.2.4")throw Error(a(527,J2,"19.2.4"));te.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=p(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var W3={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bf.isDisabled&&Bf.supportsFiber)try{Wt=Bf.inject(W3),St=Bf}catch{}}return Zd.createRoot=function(i,r){if(!s(i))throw Error(a(299));var l=!1,d="",y=rv,x=sv,O=ov;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(O=r.onRecoverableError)),r=I2(i,1,!1,null,null,l,d,null,y,x,O,X2),i[ra]=r.current,Xm(i),new gg(r)},Zd.hydrateRoot=function(i,r,l){if(!s(i))throw Error(a(299));var d=!1,y="",x=rv,O=sv,G=ov,de=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(O=l.onCaughtError),l.onRecoverableError!==void 0&&(G=l.onRecoverableError),l.formState!==void 0&&(de=l.formState)),r=I2(i,1,!0,r,l??null,d,y,de,x,O,G,X2),r.context=q2(null),l=r.current,d=kr(),d=mn(d),y=kt(d),y.callback=null,Gt(l,y,d),l=d,r.current.lanes=l,ct(r,l),ro(r),i[ra]=r.current,Xm(i),new zf(r)},Zd.version="19.2.4",Zd}var ly;function i4(){if(ly)return bg.exports;ly=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bg.exports=n4(),bg.exports}var a4=i4(),od=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},r4={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},s4=class{#e=r4;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Lc=new s4;function o4(t){setTimeout(t,0)}var Dc=typeof window>"u"||"Deno"in globalThis;function Ha(){}function l4(t,e){return typeof t=="function"?t(e):t}function m0(t){return typeof t=="number"&&t>=0&&t!==1/0}function K5(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ql(t,e){return typeof t=="function"?t(e):t}function Zr(t,e){return typeof t=="function"?t(e):t}function cy(t,e){const{type:n="all",exact:a,fetchStatus:s,predicate:o,queryKey:u,stale:c}=t;if(u){if(a){if(e.queryHash!==o1(u,e.options))return!1}else if(!vh(e.queryKey,u))return!1}if(n!=="all"){const f=e.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||o&&!o(e))}function uy(t,e){const{exact:n,status:a,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Mc(e.options.mutationKey)!==Mc(o))return!1}else if(!vh(e.options.mutationKey,o))return!1}return!(a&&e.state.status!==a||s&&!s(e))}function o1(t,e){return(e?.queryKeyHashFn||Mc)(t)}function Mc(t){return JSON.stringify(t,(e,n)=>g0(n)?Object.keys(n).sort().reduce((a,s)=>(a[s]=n[s],a),{}):n)}function vh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>vh(t[n],e[n])):!1}var c4=Object.prototype.hasOwnProperty;function Q5(t,e,n=0){if(t===e)return t;if(n>500)return e;const a=dy(t)&&dy(e);if(!a&&!(g0(t)&&g0(e)))return e;const o=(a?t:Object.keys(t)).length,u=a?e:Object.keys(e),c=u.length,f=a?new Array(c):{};let p=0;for(let g=0;g<c;g++){const v=a?g:u[g],_=t[v],b=e[v];if(_===b){f[v]=_,(a?g<o:c4.call(t,v))&&p++;continue}if(_===null||b===null||typeof _!="object"||typeof b!="object"){f[v]=b;continue}const j=Q5(_,b,n+1);f[v]=j,j===_&&p++}return o===c&&p===o?t:f}function wp(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function dy(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function g0(t){if(!hy(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!hy(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function hy(t){return Object.prototype.toString.call(t)==="[object Object]"}function u4(t){return new Promise(e=>{Lc.setTimeout(e,t)})}function v0(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Q5(t,e):e}function d4(t,e,n=0){const a=[...t,e];return n&&a.length>n?a.slice(1):a}function h4(t,e,n=0){const a=[e,...t];return n&&a.length>n?a.slice(0,-1):a}var l1=Symbol();function X5(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===l1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function c1(t,e){return typeof t=="function"?t(...e):!!t}function f4(t,e,n){let a=!1,s;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(s??=e(),a||(a=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),t}var p4=class extends od{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Dc&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},u1=new p4;function y0(){let t,e;const n=new Promise((s,o)=>{t=s,e=o});n.status="pending",n.catch(()=>{});function a(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{a({status:"fulfilled",value:s}),t(s)},n.reject=s=>{a({status:"rejected",reason:s}),e(s)},n}var m4=o4;function g4(){let t=[],e=0,n=c=>{c()},a=c=>{c()},s=m4;const o=c=>{e?t.push(c):s(()=>{n(c)})},u=()=>{const c=t;t=[],c.length&&s(()=>{a(()=>{c.forEach(f=>{n(f)})})})};return{batch:c=>{let f;e++;try{f=c()}finally{e--,e||u()}return f},batchCalls:c=>(...f)=>{o(()=>{c(...f)})},schedule:o,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{a=c},setScheduler:c=>{s=c}}}var aa=g4(),v4=class extends od{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Dc&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},xp=new v4;function y4(t){return Math.min(1e3*2**t,3e4)}function J5(t){return(t??"online")==="online"?xp.isOnline():!0}var b0=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Z5(t){let e=!1,n=0,a;const s=y0(),o=()=>s.status!=="pending",u=E=>{if(!o()){const T=new b0(E);_(T),t.onCancel?.(T)}},c=()=>{e=!0},f=()=>{e=!1},p=()=>u1.isFocused()&&(t.networkMode==="always"||xp.isOnline())&&t.canRun(),g=()=>J5(t.networkMode)&&t.canRun(),v=E=>{o()||(a?.(),s.resolve(E))},_=E=>{o()||(a?.(),s.reject(E))},b=()=>new Promise(E=>{a=T=>{(o()||p())&&E(T)},t.onPause?.()}).then(()=>{a=void 0,o()||t.onContinue?.()}),j=()=>{if(o())return;let E;const T=n===0?t.initialPromise:void 0;try{E=T??t.fn()}catch(A){E=Promise.reject(A)}Promise.resolve(E).then(v).catch(A=>{if(o())return;const z=t.retry??(Dc?0:3),D=t.retryDelay??y4,P=typeof D=="function"?D(n,A):D,se=z===!0||typeof z=="number"&&n<z||typeof z=="function"&&z(n,A);if(e||!se){_(A);return}n++,t.onFail?.(n,A),u4(P).then(()=>p()?void 0:b()).then(()=>{e?_(A):j()})})};return{promise:s,status:()=>s.status,cancel:u,continue:()=>(a?.(),s),cancelRetry:c,continueRetry:f,canStart:g,start:()=>(g()?j():b().then(j),s)}}var ew=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),m0(this.gcTime)&&(this.#e=Lc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Dc?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Lc.clearTimeout(this.#e),this.#e=void 0)}},b4=class extends ew{#e;#t;#n;#a;#i;#s;#o;constructor(t){super(),this.#o=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#a=t.client,this.#n=this.#a.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=py(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=py(this.options);e.data!==void 0&&(this.setState(fy(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=v0(this.state.data,t,this.options);return this.#r({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#r({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(Ha).catch(Ha):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Zr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===l1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ql(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!K5(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(f=>f.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,a=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},s=()=>{const c=X5(this.options,e),p=(()=>{const g={client:this.#a,queryKey:this.queryKey,meta:this.meta};return a(g),g})();return this.#o=!1,this.options.persister?this.options.persister(c,p,this):c(p)},u=(()=>{const c={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:s};return a(c),c})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#r({type:"fetch",meta:u.fetchOptions?.meta}),this.#i=Z5({initialPromise:e?.initialPromise,fn:u.fetchFn,onCancel:c=>{c instanceof b0&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(c,f)=>{this.#r({type:"failed",failureCount:c,error:f})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const c=await this.#i.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof b0){if(c.silent)return this.#i.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#r({type:"error",error:c}),this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...tw(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...fy(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?a:void 0,a;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),aa.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function tw(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:J5(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function fy(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function py(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,a=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var w4=class extends od{constructor(t,e){super(),this.options=e,this.#e=t,this.#r=null,this.#o=y0(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#a=void 0;#i;#s;#o;#r;#m;#h;#f;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),my(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return w0(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return w0(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Zr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),e._defaulted&&!wp(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const a=this.hasListeners();a&&gy(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),a&&(this.#t!==n||Zr(this.options.enabled,this.#t)!==Zr(e.enabled,this.#t)||ql(this.options.staleTime,this.#t)!==ql(e.staleTime,this.#t))&&this.#g();const s=this.#v();a&&(this.#t!==n||Zr(this.options.enabled,this.#t)!==Zr(e.enabled,this.#t)||s!==this.#l)&&this.#y(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return _4(this,n)&&(this.#a=n,this.#s=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#a}trackResult(t,e){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),e?.(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(t){this.#_();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Ha)),e}#g(){this.#w();const t=ql(this.options.staleTime,this.#t);if(Dc||this.#a.isStale||!m0(t))return;const n=K5(this.#a.dataUpdatedAt,t)+1;this.#c=Lc.setTimeout(()=>{this.#a.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#x(),this.#l=t,!(Dc||Zr(this.options.enabled,this.#t)===!1||!m0(this.#l)||this.#l===0)&&(this.#u=Lc.setInterval(()=>{(this.options.refetchIntervalInBackground||u1.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#v())}#w(){this.#c&&(Lc.clearTimeout(this.#c),this.#c=void 0)}#x(){this.#u&&(Lc.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,a=this.options,s=this.#a,o=this.#i,u=this.#s,f=t!==n?t.state:this.#n,{state:p}=t;let g={...p},v=!1,_;if(e._optimisticResults){const ee=this.hasListeners(),X=!ee&&my(t,e),pe=ee&&gy(t,n,e,a);(X||pe)&&(g={...g,...tw(p.data,t.options)}),e._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:b,errorUpdatedAt:j,status:E}=g;_=g.data;let T=!1;if(e.placeholderData!==void 0&&_===void 0&&E==="pending"){let ee;s?.isPlaceholderData&&e.placeholderData===u?.placeholderData?(ee=s.data,T=!0):ee=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,ee!==void 0&&(E="success",_=v0(s?.data,ee,e),v=!0)}if(e.select&&_!==void 0&&!T)if(s&&_===o?.data&&e.select===this.#m)_=this.#h;else try{this.#m=e.select,_=e.select(_),_=v0(s?.data,_,e),this.#h=_,this.#r=null}catch(ee){this.#r=ee}this.#r&&(b=this.#r,_=this.#h,j=Date.now(),E="error");const A=g.fetchStatus==="fetching",z=E==="pending",D=E==="error",P=z&&A,se=_!==void 0,oe={status:E,fetchStatus:g.fetchStatus,isPending:z,isSuccess:E==="success",isError:D,isInitialLoading:P,isLoading:P,data:_,dataUpdatedAt:g.dataUpdatedAt,error:b,errorUpdatedAt:j,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>f.dataUpdateCount||g.errorUpdateCount>f.errorUpdateCount,isFetching:A,isRefetching:A&&!z,isLoadingError:D&&!se,isPaused:g.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:D&&se,isStale:d1(t,e),refetch:this.refetch,promise:this.#o,isEnabled:Zr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const ee=oe.data!==void 0,X=oe.status==="error"&&!ee,pe=le=>{X?le.reject(oe.error):ee&&le.resolve(oe.data)},U=()=>{const le=this.#o=oe.promise=y0();pe(le)},Y=this.#o;switch(Y.status){case"pending":t.queryHash===n.queryHash&&pe(Y);break;case"fulfilled":(X||oe.data!==Y.value)&&U();break;case"rejected":(!X||oe.error!==Y.reason)&&U();break}}return oe}updateResult(){const t=this.#a,e=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#f=this.#t),wp(e,t))return;this.#a=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!this.#p.size)return!0;const o=new Set(s??this.#p);return this.options.throwOnError&&o.add("error"),Object.keys(this.#a).some(u=>{const c=u;return this.#a[c]!==t[c]&&o.has(c)})};this.#S({listeners:n()})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(t){aa.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function x4(t,e){return Zr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function my(t,e){return x4(t,e)||t.state.data!==void 0&&w0(t,e,e.refetchOnMount)}function w0(t,e,n){if(Zr(e.enabled,t)!==!1&&ql(e.staleTime,t)!=="static"){const a=typeof n=="function"?n(t):n;return a==="always"||a!==!1&&d1(t,e)}return!1}function gy(t,e,n,a){return(t!==e||Zr(a.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&d1(t,n)}function d1(t,e){return Zr(e.enabled,t)!==!1&&t.isStaleByTime(ql(e.staleTime,t))}function _4(t,e){return!wp(t.getCurrentResult(),e)}function vy(t){return{onFetch:(e,n)=>{const a=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},f=0;const p=async()=>{let g=!1;const v=j=>{f4(j,()=>e.signal,()=>g=!0)},_=X5(e.options,e.fetchOptions),b=async(j,E,T)=>{if(g)return Promise.reject();if(E==null&&j.pages.length)return Promise.resolve(j);const z=(()=>{const he={client:e.client,queryKey:e.queryKey,pageParam:E,direction:T?"backward":"forward",meta:e.options.meta};return v(he),he})(),D=await _(z),{maxPages:P}=e.options,se=T?h4:d4;return{pages:se(j.pages,D,P),pageParams:se(j.pageParams,E,P)}};if(s&&o.length){const j=s==="backward",E=j?S4:yy,T={pages:o,pageParams:u},A=E(a,T);c=await b(T,A,j)}else{const j=t??o.length;do{const E=f===0?u[0]??a.initialPageParam:yy(a,c);if(f>0&&E==null)break;c=await b(c,E),f++}while(f<j)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=p}}}function yy(t,{pages:e,pageParams:n}){const a=e.length-1;return e.length>0?t.getNextPageParam(e[a],e,n[a],n):void 0}function S4(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var N4=class extends ew{#e;#t;#n;#a;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||nw(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#i({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=Z5({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,u)=>{this.#i({type:"failed",failureCount:o,error:u})},onPause:()=>{this.#i({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",s=!this.#a.canStart();try{if(a)e();else{this.#i({type:"pending",variables:t,isPaused:s}),this.#n.config.onMutate&&await this.#n.config.onMutate(t,this,n);const u=await this.options.onMutate?.(t,n);u!==this.state.context&&this.#i({type:"pending",context:u,variables:t,isPaused:s})}const o=await this.#a.start();return await this.#n.config.onSuccess?.(o,t,this.state.context,this,n),await this.options.onSuccess?.(o,t,this.state.context,n),await this.#n.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,t,this.state.context,n),this.#i({type:"success",data:o}),o}catch(o){try{await this.#n.config.onError?.(o,t,this.state.context,this,n)}catch(u){Promise.reject(u)}try{await this.options.onError?.(o,t,this.state.context,n)}catch(u){Promise.reject(u)}try{await this.#n.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n)}catch(u){Promise.reject(u)}try{await this.options.onSettled?.(void 0,o,t,this.state.context,n)}catch(u){Promise.reject(u)}throw this.#i({type:"error",error:o}),o}finally{this.#n.runNext(this)}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),aa.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function nw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var j4=class extends od{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const a=new N4({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(a),a}add(t){this.#e.add(t);const e=Uf(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Uf(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Uf(t);if(typeof e=="string"){const a=this.#t.get(e)?.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){const e=Uf(t);return typeof e=="string"?this.#t.get(e)?.find(a=>a!==t&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){aa.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>uy(e,n))}findAll(t={}){return this.getAll().filter(e=>uy(t,e))}notify(t){aa.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return aa.batch(()=>Promise.all(t.map(e=>e.continue().catch(Ha))))}};function Uf(t){return t.options.scope?.id}var A4=class extends od{#e;#t=void 0;#n;#a;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),wp(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Mc(n.mutationKey)!==Mc(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#s()}mutate(e,n){return this.#a=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??nw();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){aa.batch(()=>{if(this.#a&&this.hasListeners()){const n=this.#t.variables,a=this.#t.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#a.onSuccess?.(e.data,n,a,s)}catch(o){Promise.reject(o)}try{this.#a.onSettled?.(e.data,null,n,a,s)}catch(o){Promise.reject(o)}}else if(e?.type==="error"){try{this.#a.onError?.(e.error,n,a,s)}catch(o){Promise.reject(o)}try{this.#a.onSettled?.(void 0,e.error,n,a,s)}catch(o){Promise.reject(o)}}}this.listeners.forEach(n=>{n(this.#t)})})}},E4=class extends od{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const a=e.queryKey,s=e.queryHash??o1(a,e);let o=this.get(s);return o||(o=new b4({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){aa.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>cy(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>cy(t,n)):e}notify(t){aa.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){aa.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){aa.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},C4=class{#e;#t;#n;#a;#i;#s;#o;#r;constructor(t={}){this.#e=t.queryCache||new E4,this.#t=t.mutationCache||new j4,this.#n=t.defaultOptions||{},this.#a=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=u1.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=xp.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),a=n.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ql(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(a))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const a=n.data;return[e,a]})}setQueryData(t,e,n){const a=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(a.queryHash)?.state.data,u=l4(e,o);if(u!==void 0)return this.#e.build(this,a).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return aa.batch(()=>this.#e.findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;aa.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return aa.batch(()=>(n.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},a=aa.batch(()=>this.#e.findAll(t).map(s=>s.cancel(n)));return Promise.all(a).then(Ha).catch(Ha)}invalidateQueries(t,e={}){return aa.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},a=aa.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Ha)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(a).then(Ha)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(ql(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ha).catch(Ha)}fetchInfiniteQuery(t){return t.behavior=vy(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ha).catch(Ha)}ensureInfiniteQueryData(t){return t.behavior=vy(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return xp.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#a.set(Mc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#a.values()],n={};return e.forEach(a=>{vh(t,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(Mc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(a=>{vh(t,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=o1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===l1&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},iw=V.createContext(void 0),Vn=t=>{const e=V.useContext(iw);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},k4=({client:t,children:e})=>(V.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(iw.Provider,{value:t,children:e})),aw=V.createContext(!1),L4=()=>V.useContext(aw);aw.Provider;function T4(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var O4=V.createContext(T4()),R4=()=>V.useContext(O4),D4=(t,e,n)=>{const a=n?.state.error&&typeof t.throwOnError=="function"?c1(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||a)&&(e.isReset()||(t.retryOnMount=!1))},M4=t=>{V.useEffect(()=>{t.clearReset()},[t])},P4=({result:t,errorResetBoundary:e,throwOnError:n,query:a,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&a&&(s&&t.data===void 0||c1(n,[t.error,a])),z4=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),a=t.staleTime;t.staleTime=typeof a=="function"?(...s)=>n(a(...s)):n(a),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},B4=(t,e)=>t.isLoading&&t.isFetching&&!e,U4=(t,e)=>t?.suspense&&e.isPending,by=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function I4(t,e,n){const a=L4(),s=R4(),o=Vn(),u=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(u);const c=o.getQueryCache().get(u.queryHash);u._optimisticResults=a?"isRestoring":"optimistic",z4(u),D4(u,s,c),M4(s);const f=!o.getQueryCache().get(u.queryHash),[p]=V.useState(()=>new e(o,u)),g=p.getOptimisticResult(u),v=!a&&t.subscribed!==!1;if(V.useSyncExternalStore(V.useCallback(_=>{const b=v?p.subscribe(aa.batchCalls(_)):Ha;return p.updateResult(),b},[p,v]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),V.useEffect(()=>{p.setOptions(u)},[u,p]),U4(u,g))throw by(u,p,s);if(P4({result:g,errorResetBoundary:s,throwOnError:u.throwOnError,query:c,suspense:u.suspense}))throw g.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(u,g),u.experimental_prefetchInRender&&!Dc&&B4(g,a)&&(f?by(u,p,s):c?.promise)?.catch(Ha).finally(()=>{p.updateResult()}),u.notifyOnChangeProps?g:p.trackResult(g)}function ki(t,e){return I4(t,w4)}function ui(t,e){const n=Vn(),[a]=V.useState(()=>new A4(n,t));V.useEffect(()=>{a.setOptions(t)},[a,t]);const s=V.useSyncExternalStore(V.useCallback(u=>a.subscribe(aa.batchCalls(u)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),o=V.useCallback((u,c)=>{a.mutate(u,c).catch(Ha)},[a]);if(s.error&&c1(a.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}var wy="popstate";function xy(t){return typeof t=="object"&&t!=null&&"pathname"in t&&"search"in t&&"hash"in t&&"state"in t&&"key"in t}function q4(t={}){function e(a,s){let o=s.state?.masked,{pathname:u,search:c,hash:f}=o||a.location;return x0("",{pathname:u,search:c,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default",o?{pathname:a.location.pathname,search:a.location.search,hash:a.location.hash}:void 0)}function n(a,s){return typeof s=="string"?s:yh(s)}return H4(e,n,null,t)}function ci(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ts(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function F4(){return Math.random().toString(36).substring(2,10)}function _y(t,e){return{usr:t.state,key:t.key,idx:e,masked:t.unstable_mask?{pathname:t.pathname,search:t.search,hash:t.hash}:void 0}}function x0(t,e,n=null,a,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ld(e):e,state:n,key:e&&e.key||a||F4(),unstable_mask:s}}function yh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ld(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function H4(t,e,n,a={}){let{window:s=document.defaultView,v5Compat:o=!1}=a,u=s.history,c="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function v(){c="POP";let T=g(),A=T==null?null:T-p;p=T,f&&f({action:c,location:E.location,delta:A})}function _(T,A){c="PUSH";let z=xy(T)?T:x0(E.location,T,A);p=g()+1;let D=_y(z,p),P=E.createHref(z.unstable_mask||z);try{u.pushState(D,"",P)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;s.location.assign(P)}o&&f&&f({action:c,location:E.location,delta:1})}function b(T,A){c="REPLACE";let z=xy(T)?T:x0(E.location,T,A);p=g();let D=_y(z,p),P=E.createHref(z.unstable_mask||z);u.replaceState(D,"",P),o&&f&&f({action:c,location:E.location,delta:0})}function j(T){return $4(T)}let E={get action(){return c},get location(){return t(s,u)},listen(T){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(wy,v),f=T,()=>{s.removeEventListener(wy,v),f=null}},createHref(T){return e(s,T)},createURL:j,encodeLocation(T){let A=j(T);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:_,replace:b,go(T){return u.go(T)}};return E}function $4(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ci(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:yh(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function rw(t,e,n="/"){return G4(t,e,n,!1)}function G4(t,e,n,a){let s=typeof e=="string"?ld(e):e,o=Xo(s.pathname||"/",n);if(o==null)return null;let u=sw(t);V4(u);let c=null;for(let f=0;c==null&&f<u.length;++f){let p=iS(o);c=tS(u[f],p,a)}return c}function sw(t,e=[],n=[],a="",s=!1){let o=(u,c,f=s,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(a)&&f)return;ci(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length)}let v=uo([a,g.relativePath]),_=n.concat(g);u.children&&u.children.length>0&&(ci(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),sw(u.children,e,_,v,f)),!(u.path==null&&!u.index)&&e.push({path:v,score:Z4(v,u.index),routesMeta:_})};return t.forEach((u,c)=>{if(u.path===""||!u.path?.includes("?"))o(u,c);else for(let f of ow(u.path))o(u,c,!0,f)}),e}function ow(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(a.length===0)return s?[o,""]:[o];let u=ow(a.join("/")),c=[];return c.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&c.push(...u),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function V4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eS(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var W4=/^:[\w-]+$/,Y4=3,K4=2,Q4=1,X4=10,J4=-2,Sy=t=>t==="*";function Z4(t,e){let n=t.split("/"),a=n.length;return n.some(Sy)&&(a+=J4),e&&(a+=K4),n.filter(s=>!Sy(s)).reduce((s,o)=>s+(W4.test(o)?Y4:o===""?Q4:X4),a)}function eS(t,e){return t.length===e.length&&t.slice(0,-1).every((a,s)=>a===e[s])?t[t.length-1]-e[e.length-1]:0}function tS(t,e,n=!1){let{routesMeta:a}=t,s={},o="/",u=[];for(let c=0;c<a.length;++c){let f=a[c],p=c===a.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=_p({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),_=f.route;if(!v&&p&&n&&!a[a.length-1].route.index&&(v=_p({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:uo([o,v.pathname]),pathnameBase:oS(uo([o,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(o=uo([o,v.pathnameBase]))}return u}function _p(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=nS(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:a.reduce((p,{paramName:g,isOptional:v},_)=>{if(g==="*"){let j=c[_]||"";u=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const b=c[_];return v&&!b?p[g]=void 0:p[g]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:t}}function nS(t,e=!1,n=!0){ts(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,f,p,g)=>{if(a.push({paramName:c,isOptional:f!=null}),f){let v=g.charAt(p+u.length);return v&&v!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),a]}function iS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ts(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}var aS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function rS(t,e="/"){let{pathname:n,search:a="",hash:s=""}=typeof t=="string"?ld(t):t,o;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?o=Ny(n.substring(1),"/"):o=Ny(n,e)):o=e,{pathname:o,search:lS(a),hash:cS(s)}}function Ny(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Sg(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function h1(t){let e=sS(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Fp(t,e,n,a=!1){let s;typeof t=="string"?s=ld(t):(s={...t},ci(!s.pathname||!s.pathname.includes("?"),Sg("?","pathname","search",s)),ci(!s.pathname||!s.pathname.includes("#"),Sg("#","pathname","hash",s)),ci(!s.search||!s.search.includes("#"),Sg("#","search","hash",s)));let o=t===""||s.pathname==="",u=o?"/":s.pathname,c;if(u==null)c=n;else{let v=e.length-1;if(!a&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),v-=1;s.pathname=_.join("/")}c=v>=0?e[v]:"/"}let f=rS(s,c),p=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var uo=t=>t.join("/").replace(/\/\/+/g,"/"),oS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,uS=class{constructor(t,e,n,a=!1){this.status=t,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function dS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function hS(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var lw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function cw(t,e){let n=t;if(typeof n!="string"||!aS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,s=!1;if(lw)try{let o=new URL(window.location.href),u=n.startsWith("//")?new URL(o.protocol+n):new URL(n),c=Xo(u.pathname,e);u.origin===o.origin&&c!=null?n=c+u.search+u.hash:s=!0}catch{ts(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var uw=["POST","PUT","PATCH","DELETE"];new Set(uw);var fS=["GET",...uw];new Set(fS);var cd=V.createContext(null);cd.displayName="DataRouter";var Hp=V.createContext(null);Hp.displayName="DataRouterState";var pS=V.createContext(!1),dw=V.createContext({isTransitioning:!1});dw.displayName="ViewTransition";var mS=V.createContext(new Map);mS.displayName="Fetchers";var gS=V.createContext(null);gS.displayName="Await";var Mr=V.createContext(null);Mr.displayName="Navigation";var Mh=V.createContext(null);Mh.displayName="Location";var is=V.createContext({outlet:null,matches:[],isDataRoute:!1});is.displayName="Route";var f1=V.createContext(null);f1.displayName="RouteError";var hw="REACT_ROUTER_ERROR",vS="REDIRECT",yS="ROUTE_ERROR_RESPONSE";function bS(t){if(t.startsWith(`${hw}:${vS}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function wS(t){if(t.startsWith(`${hw}:${yS}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new uS(e.status,e.statusText,e.data)}catch{}}function xS(t,{relative:e}={}){ci(ud(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=V.useContext(Mr),{hash:s,pathname:o,search:u}=Ph(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:uo([n,o])),a.createHref({pathname:c,search:u,hash:s})}function ud(){return V.useContext(Mh)!=null}function po(){return ci(ud(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Mh).location}var fw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pw(t){V.useContext(Mr).static||V.useLayoutEffect(t)}function dd(){let{isDataRoute:t}=V.useContext(is);return t?PS():_S()}function _S(){ci(ud(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(cd),{basename:e,navigator:n}=V.useContext(Mr),{matches:a}=V.useContext(is),{pathname:s}=po(),o=JSON.stringify(h1(a)),u=V.useRef(!1);return pw(()=>{u.current=!0}),V.useCallback((f,p={})=>{if(ts(u.current,fw),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=Fp(f,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:uo([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,o,s,t])}var SS=V.createContext(null);function NS(t){let e=V.useContext(is).outlet;return V.useMemo(()=>e&&V.createElement(SS.Provider,{value:t},e),[e,t])}function mw(){let{matches:t}=V.useContext(is),e=t[t.length-1];return e?e.params:{}}function Ph(t,{relative:e}={}){let{matches:n}=V.useContext(is),{pathname:a}=po(),s=JSON.stringify(h1(n));return V.useMemo(()=>Fp(t,JSON.parse(s),a,e==="path"),[t,s,a,e])}function jS(t,e){return gw(t,e)}function gw(t,e,n){ci(ud(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=V.useContext(Mr),{matches:s}=V.useContext(is),o=s[s.length-1],u=o?o.params:{},c=o?o.pathname:"/",f=o?o.pathnameBase:"/",p=o&&o.route;{let T=p&&p.path||"";yw(c,!p||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=po(),v;if(e){let T=typeof e=="string"?ld(e):e;ci(f==="/"||T.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=g;let _=v.pathname||"/",b=_;if(f!=="/"){let T=f.replace(/^\//,"").split("/");b="/"+_.replace(/^\//,"").split("/").slice(T.length).join("/")}let j=rw(t,{pathname:b});ts(p||j!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ts(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=LS(j&&j.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:uo([f,a.encodeLocation?a.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:uo([f,a.encodeLocation?a.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),s,n);return e&&E?V.createElement(Mh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...v},navigationType:"POP"}},E):E}function AS(){let t=MS(),e=dS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:o},"ErrorBoundary")," or"," ",V.createElement("code",{style:o},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:s},n):null,u)}var ES=V.createElement(AS,null),vw=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=wS(t.digest);n&&(t=n)}let e=t!==void 0?V.createElement(is.Provider,{value:this.props.routeContext},V.createElement(f1.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?V.createElement(CS,{error:t},e):e}};vw.contextType=pS;var Ng=new WeakMap;function CS({children:t,error:e}){let{basename:n}=V.useContext(Mr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=bS(e.digest);if(a){let s=Ng.get(e);if(s)throw s;let o=cw(a.location,n);if(lw&&!Ng.get(e))if(o.isExternal||a.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:a.replace}));throw Ng.set(e,u),u}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function kS({routeContext:t,match:e,children:n}){let a=V.useContext(cd);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(is.Provider,{value:t},n)}function LS(t,e=[],n){let a=n?.state;if(t==null){if(!a)return null;if(a.errors)t=a.matches;else if(e.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let s=t,o=a?.errors;if(o!=null){let g=s.findIndex(v=>v.route.id&&o?.[v.route.id]!==void 0);ci(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,g+1))}let u=!1,c=-1;if(n&&a){u=a.renderFallback;for(let g=0;g<s.length;g++){let v=s[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(c=g),v.route.id){let{loaderData:_,errors:b}=a,j=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!b||b[v.route.id]===void 0);if(v.route.lazy||j){n.isStatic&&(u=!0),c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}}let f=n?.onError,p=a&&f?(g,v)=>{f(g,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:hS(a.matches),errorInfo:v})}:void 0;return s.reduceRight((g,v,_)=>{let b,j=!1,E=null,T=null;a&&(b=o&&v.route.id?o[v.route.id]:void 0,E=v.route.errorElement||ES,u&&(c<0&&_===0?(yw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,T=null):c===_&&(j=!0,T=v.route.hydrateFallbackElement||null)));let A=e.concat(s.slice(0,_+1)),z=()=>{let D;return b?D=E:j?D=T:v.route.Component?D=V.createElement(v.route.Component,null):v.route.element?D=v.route.element:D=g,V.createElement(kS,{match:v,routeContext:{outlet:g,matches:A,isDataRoute:a!=null},children:D})};return a&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?V.createElement(vw,{location:a.location,revalidation:a.revalidation,component:E,error:b,children:z(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:p}):z()},null)}function p1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TS(t){let e=V.useContext(cd);return ci(e,p1(t)),e}function OS(t){let e=V.useContext(Hp);return ci(e,p1(t)),e}function RS(t){let e=V.useContext(is);return ci(e,p1(t)),e}function m1(t){let e=RS(t),n=e.matches[e.matches.length-1];return ci(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function DS(){return m1("useRouteId")}function MS(){let t=V.useContext(f1),e=OS("useRouteError"),n=m1("useRouteError");return t!==void 0?t:e.errors?.[n]}function PS(){let{router:t}=TS("useNavigate"),e=m1("useNavigate"),n=V.useRef(!1);return pw(()=>{n.current=!0}),V.useCallback(async(s,o={})=>{ts(n.current,fw),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var jy={};function yw(t,e,n){!e&&!jy[t]&&(jy[t]=!0,ts(!1,n))}V.memo(zS);function zS({routes:t,future:e,state:n,isStatic:a,onError:s}){return gw(t,void 0,{state:n,isStatic:a,onError:s})}function bw({to:t,replace:e,state:n,relative:a}){ci(ud(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=V.useContext(Mr);ts(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=V.useContext(is),{pathname:u}=po(),c=dd(),f=Fp(t,h1(o),u,a==="path"),p=JSON.stringify(f);return V.useEffect(()=>{c(JSON.parse(p),{replace:e,state:n,relative:a})},[c,p,a,e,n]),null}function BS(t){return NS(t.context)}function cr(t){ci(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function US({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:s,static:o=!1,unstable_useTransitions:u}){ci(!ud(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=V.useMemo(()=>({basename:c,navigator:s,static:o,unstable_useTransitions:u,future:{}}),[c,s,o,u]);typeof n=="string"&&(n=ld(n));let{pathname:p="/",search:g="",hash:v="",state:_=null,key:b="default",unstable_mask:j}=n,E=V.useMemo(()=>{let T=Xo(p,c);return T==null?null:{location:{pathname:T,search:g,hash:v,state:_,key:b,unstable_mask:j},navigationType:a}},[c,p,g,v,_,b,a,j]);return ts(E!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:V.createElement(Mr.Provider,{value:f},V.createElement(Mh.Provider,{children:e,value:E}))}function IS({children:t,location:e}){return jS(_0(t),e)}function _0(t,e=[]){let n=[];return V.Children.forEach(t,(a,s)=>{if(!V.isValidElement(a))return;let o=[...e,s];if(a.type===V.Fragment){n.push.apply(n,_0(a.props.children,o));return}ci(a.type===cr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ci(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=_0(a.props.children,o)),n.push(u)}),n}var cp="get",up="application/x-www-form-urlencoded";function $p(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function qS(t){return $p(t)&&t.tagName.toLowerCase()==="button"}function FS(t){return $p(t)&&t.tagName.toLowerCase()==="form"}function HS(t){return $p(t)&&t.tagName.toLowerCase()==="input"}function $S(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GS(t,e){return t.button===0&&(!e||e==="_self")&&!$S(t)}function S0(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let a=t[n];return e.concat(Array.isArray(a)?a.map(s=>[n,s]):[[n,a]])},[]))}function VS(t,e){let n=S0(t);return e&&e.forEach((a,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}var If=null;function WS(){if(If===null)try{new FormData(document.createElement("form"),0),If=!1}catch{If=!0}return If}var YS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jg(t){return t!=null&&!YS.has(t)?(ts(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${up}"`),null):t}function KS(t,e){let n,a,s,o,u;if(FS(t)){let c=t.getAttribute("action");a=c?Xo(c,e):null,n=t.getAttribute("method")||cp,s=jg(t.getAttribute("enctype"))||up,o=new FormData(t)}else if(qS(t)||HS(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||c.getAttribute("action");if(a=f?Xo(f,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||cp,s=jg(t.getAttribute("formenctype"))||jg(c.getAttribute("enctype"))||up,o=new FormData(c,t),!WS()){let{name:p,type:g,value:v}=t;if(g==="image"){let _=p?`${p}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else p&&o.append(p,v)}}else{if($p(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=cp,a=null,s=up,u=t}return o&&s==="text/plain"&&(u=o,o=void 0),{action:a,method:n.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function g1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function QS(t,e,n,a){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${a}`:s.pathname=`${s.pathname}.${a}`:s.pathname==="/"?s.pathname=`_root.${a}`:e&&Xo(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function XS(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ZS(t,e,n){let a=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await XS(o,n);return u.links?u.links():[]}return[]}));return iN(a.flat(1).filter(JS).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Ay(t,e,n,a,s,o){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,c=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,p)=>u(f,p)||c(f,p)):o==="data"?e.filter((f,p)=>{let g=a.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||c(f,p))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function eN(t,e,{includeHydrateFallback:n}={}){return tN(t.map(a=>{let s=e.routes[a.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function tN(t){return[...new Set(t)]}function nN(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function iN(t,e){let n=new Set;return new Set(e),t.reduce((a,s)=>{let o=JSON.stringify(nN(s));return n.has(o)||(n.add(o),a.push({key:o,link:s})),a},[])}function ww(){let t=V.useContext(cd);return g1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function aN(){let t=V.useContext(Hp);return g1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var v1=V.createContext(void 0);v1.displayName="FrameworkContext";function xw(){let t=V.useContext(v1);return g1(t,"You must render this element inside a <HydratedRouter> element"),t}function rN(t,e){let n=V.useContext(v1),[a,s]=V.useState(!1),[o,u]=V.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,_=V.useRef(null);V.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let E=A=>{A.forEach(z=>{u(z.isIntersecting)})},T=new IntersectionObserver(E,{threshold:.5});return _.current&&T.observe(_.current),()=>{T.disconnect()}}},[t]),V.useEffect(()=>{if(a){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[a]);let b=()=>{s(!0)},j=()=>{s(!1),u(!1)};return n?t!=="intent"?[o,_,{}]:[o,_,{onFocus:eh(c,b),onBlur:eh(f,j),onMouseEnter:eh(p,b),onMouseLeave:eh(g,j),onTouchStart:eh(v,b)}]:[!1,_,{}]}function eh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function sN({page:t,...e}){let{router:n}=ww(),a=V.useMemo(()=>rw(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?V.createElement(lN,{page:t,matches:a,...e}):null}function oN(t){let{manifest:e,routeModules:n}=xw(),[a,s]=V.useState([]);return V.useEffect(()=>{let o=!1;return ZS(t,e,n).then(u=>{o||s(u)}),()=>{o=!0}},[t,e,n]),a}function lN({page:t,matches:e,...n}){let a=po(),{future:s,manifest:o,routeModules:u}=xw(),{basename:c}=ww(),{loaderData:f,matches:p}=aN(),g=V.useMemo(()=>Ay(t,e,p,o,a,"data"),[t,e,p,o,a]),v=V.useMemo(()=>Ay(t,e,p,o,a,"assets"),[t,e,p,o,a]),_=V.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let E=new Set,T=!1;if(e.forEach(z=>{let D=o.routes[z.route.id];!D||!D.hasLoader||(!g.some(P=>P.route.id===z.route.id)&&z.route.id in f&&u[z.route.id]?.shouldRevalidate||D.hasClientLoader?T=!0:E.add(z.route.id))}),E.size===0)return[];let A=QS(t,c,s.unstable_trailingSlashAwareDataRequests,"data");return T&&E.size>0&&A.searchParams.set("_routes",e.filter(z=>E.has(z.route.id)).map(z=>z.route.id).join(",")),[A.pathname+A.search]},[c,s.unstable_trailingSlashAwareDataRequests,f,a,o,g,e,t,u]),b=V.useMemo(()=>eN(v,o),[v,o]),j=oN(v);return V.createElement(V.Fragment,null,_.map(E=>V.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),b.map(E=>V.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),j.map(({key:E,link:T})=>V.createElement("link",{key:E,nonce:n.nonce,...T,crossOrigin:T.crossOrigin??n.crossOrigin})))}function cN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var uN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uN&&(window.__reactRouterVersion="7.13.1")}catch{}function dN({basename:t,children:e,unstable_useTransitions:n,window:a}){let s=V.useRef();s.current==null&&(s.current=q4({window:a,v5Compat:!0}));let o=s.current,[u,c]=V.useState({action:o.action,location:o.location}),f=V.useCallback(p=>{n===!1?c(p):V.startTransition(()=>c(p))},[n]);return V.useLayoutEffect(()=>o.listen(f),[o,f]),V.createElement(US,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:n})}var _w=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oi=V.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:s,reloadDocument:o,replace:u,unstable_mask:c,state:f,target:p,to:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:b,...j},E){let{basename:T,navigator:A,unstable_useTransitions:z}=V.useContext(Mr),D=typeof g=="string"&&_w.test(g),P=cw(g,T);g=P.to;let se=xS(g,{relative:s}),he=po(),oe=null;if(c){let k=Fp(c,[],he.unstable_mask?he.unstable_mask.pathname:"/",!0);T!=="/"&&(k.pathname=k.pathname==="/"?T:uo([T,k.pathname])),oe=A.createHref(k)}let[ee,X,pe]=rN(a,j),U=pN(g,{replace:u,unstable_mask:c,state:f,target:p,preventScrollReset:v,relative:s,viewTransition:_,unstable_defaultShouldRevalidate:b,unstable_useTransitions:z});function Y(k){e&&e(k),k.defaultPrevented||U(k)}let le=!(P.isExternal||o),ue=V.createElement("a",{...j,...pe,href:(le?oe:void 0)||P.absoluteURL||se,onClick:le?Y:e,ref:cN(E,X),target:p,"data-discover":!D&&n==="render"?"true":void 0});return ee&&!D?V.createElement(V.Fragment,null,ue,V.createElement(sN,{page:se})):ue});oi.displayName="Link";var Sw=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:s=!1,style:o,to:u,viewTransition:c,children:f,...p},g){let v=Ph(u,{relative:p.relative}),_=po(),b=V.useContext(Hp),{navigator:j,basename:E}=V.useContext(Mr),T=b!=null&&wN(v)&&c===!0,A=j.encodeLocation?j.encodeLocation(v).pathname:v.pathname,z=_.pathname,D=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(z=z.toLowerCase(),D=D?D.toLowerCase():null,A=A.toLowerCase()),D&&E&&(D=Xo(D,E)||D);const P=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let se=z===A||!s&&z.startsWith(A)&&z.charAt(P)==="/",he=D!=null&&(D===A||!s&&D.startsWith(A)&&D.charAt(A.length)==="/"),oe={isActive:se,isPending:he,isTransitioning:T},ee=se?e:void 0,X;typeof a=="function"?X=a(oe):X=[a,se?"active":null,he?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let pe=typeof o=="function"?o(oe):o;return V.createElement(oi,{...p,"aria-current":ee,className:X,ref:g,style:pe,to:u,viewTransition:c},typeof f=="function"?f(oe):f)});Sw.displayName="NavLink";var hN=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:s,state:o,method:u=cp,action:c,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:_,...b},j)=>{let{unstable_useTransitions:E}=V.useContext(Mr),T=yN(),A=bN(c,{relative:p}),z=u.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&_w.test(c),P=se=>{if(f&&f(se),se.defaultPrevented)return;se.preventDefault();let he=se.nativeEvent.submitter,oe=he?.getAttribute("formmethod")||u,ee=()=>T(he||se.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:s,state:o,relative:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:_});E&&n!==!1?V.startTransition(()=>ee()):ee()};return V.createElement("form",{ref:j,method:z,action:A,onSubmit:a?f:P,...b,"data-discover":!D&&t==="render"?"true":void 0})});hN.displayName="Form";function fN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nw(t){let e=V.useContext(cd);return ci(e,fN(t)),e}function pN(t,{target:e,replace:n,unstable_mask:a,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let g=dd(),v=po(),_=Ph(t,{relative:u});return V.useCallback(b=>{if(GS(b,e)){b.preventDefault();let j=n!==void 0?n:yh(v)===yh(_),E=()=>g(t,{replace:j,unstable_mask:a,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:f});p?V.startTransition(()=>E()):E()}},[v,g,_,n,a,s,e,t,o,u,c,f,p])}function mN(t){ts(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=V.useRef(S0(t)),n=V.useRef(!1),a=po(),s=V.useMemo(()=>VS(a.search,n.current?null:e.current),[a.search]),o=dd(),u=V.useCallback((c,f)=>{const p=S0(typeof c=="function"?c(new URLSearchParams(s)):c);n.current=!0,o("?"+p,f)},[o,s]);return[s,u]}var gN=0,vN=()=>`__${String(++gN)}__`;function yN(){let{router:t}=Nw("useSubmit"),{basename:e}=V.useContext(Mr),n=DS(),a=t.fetch,s=t.navigate;return V.useCallback(async(o,u={})=>{let{action:c,method:f,encType:p,formData:g,body:v}=KS(o,e);if(u.navigate===!1){let _=u.fetcherKey||vN();await a(_,n,u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:v,formMethod:u.method||f,formEncType:u.encType||p,flushSync:u.flushSync})}else await s(u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:v,formMethod:u.method||f,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[a,s,e,n])}function bN(t,{relative:e}={}){let{basename:n}=V.useContext(Mr),a=V.useContext(is);ci(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),o={...Ph(t||".",{relative:e})},u=po();if(t==null){o.search=u.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(g=>g==="")){c.delete("index"),f.filter(v=>v).forEach(v=>c.append("index",v));let g=c.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:uo([n,o.pathname])),yh(o)}function wN(t,{relative:e}={}){let n=V.useContext(dw);ci(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Nw("useViewTransitionState"),s=Ph(t,{relative:e});if(!n.isTransitioning)return!1;let o=Xo(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=Xo(n.nextLocation.pathname,a)||n.nextLocation.pathname;return _p(s.pathname,u)!=null||_p(s.pathname,o)!=null}var oh=Y5();function Gp(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(t);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(n[a[s]]=t[a[s]]);return n}function xN(t,e,n,a){function s(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function c(g){try{p(a.next(g))}catch(v){u(v)}}function f(g){try{p(a.throw(g))}catch(v){u(v)}}function p(g){g.done?o(g.value):s(g.value).then(c,f)}p((a=a.apply(t,e||[])).next())})}const _N=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class y1 extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class SN extends y1{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ey extends y1{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Cy extends y1{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var N0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(N0||(N0={}));class NN{constructor(e,{headers:n={},customFetch:a,region:s=N0.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=_N(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return xN(this,arguments,void 0,function*(n,a={}){var s;let o,u;try{const{headers:c,method:f,body:p,signal:g,timeout:v}=a;let _={},{region:b}=a;b||(b=this.region);const j=new URL(`${this.url}/${n}`);b&&b!=="any"&&(_["x-region"]=b,j.searchParams.set("forceFunctionRegion",b));let E;p&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",E=p):typeof p=="string"?(_["Content-Type"]="text/plain",E=p):typeof FormData<"u"&&p instanceof FormData?E=p:(_["Content-Type"]="application/json",E=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?E=JSON.stringify(p):E=p;let T=g;v&&(u=new AbortController,o=setTimeout(()=>u.abort(),v),g?(T=u.signal,g.addEventListener("abort",()=>u.abort())):T=u.signal);const A=yield this.fetch(j.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),c),body:E,signal:T}).catch(se=>{throw new SN(se)}),z=A.headers.get("x-relay-error");if(z&&z==="true")throw new Ey(A);if(!A.ok)throw new Cy(A);let D=((s=A.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),P;return D==="application/json"?P=yield A.json():D==="application/octet-stream"||D==="application/pdf"?P=yield A.blob():D==="text/event-stream"?P=A:D==="multipart/form-data"?P=yield A.formData():P=yield A.text(),{data:P,error:null,response:A}}catch(c){return{data:null,error:c,response:c instanceof Cy||c instanceof Ey?c.context:void 0}}finally{o&&clearTimeout(o)}})}}var jN=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},AN=class{constructor(t){var e,n,a;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(a=t.urlLengthLimit)!==null&&a!==void 0?a:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let s=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let u=null,c=null,f=null,p=o.status,g=o.statusText;if(o.ok){var v,_;if(n.method!=="HEAD"){var b;const A=await o.text();A===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((b=n.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?c=A:c=JSON.parse(A))}const E=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),T=(_=o.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");E&&T&&T.length>1&&(f=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,p=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var j;const E=await o.text();try{u=JSON.parse(E),Array.isArray(u)&&o.status===404&&(c=[],u=null,p=200,g="OK")}catch{o.status===404&&E===""?(p=204,g="No Content"):u={message:E}}if(u&&n.isMaybeSingle&&(!(u==null||(j=u.details)===null||j===void 0)&&j.includes("0 rows"))&&(u=null,p=200,g="OK"),u&&n.shouldThrowOnError)throw new jN(u)}return{error:u,data:c,count:f,status:p,statusText:g}});return this.shouldThrowOnError||(s=s.catch(o=>{var u;let c="",f="",p="";const g=o?.cause;if(g){var v,_,b,j;const A=(v=g?.message)!==null&&v!==void 0?v:"",z=(_=g?.code)!==null&&_!==void 0?_:"";c=`${(b=o?.name)!==null&&b!==void 0?b:"FetchError"}: ${o?.message}`,c+=`

Caused by: ${(j=g?.name)!==null&&j!==void 0?j:"Error"}: ${A}`,z&&(c+=` (${z})`),g?.stack&&(c+=`
${g.stack}`)}else{var E;c=(E=o?.stack)!==null&&E!==void 0?E:""}const T=this.url.toString().length;return o?.name==="AbortError"||o?.code==="ABORT_ERR"?(p="",f="Request was aborted (timeout or manual cancellation)",T>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${T} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(g?.name==="HeadersOverflowError"||g?.code==="UND_ERR_HEADERS_OVERFLOW")&&(p="",f="HTTP headers exceeded server limits (typically 16KB)",T>this.urlLengthLimit&&(f+=`. Your request URL is ${T} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(u=o?.name)!==null&&u!==void 0?u:"FetchError"}: ${o?.message}`,details:c,hint:f,code:p},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},EN=class extends AN{select(t){let e=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!e?"":(a==='"'&&(e=!e),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:a,referencedTable:s=a}={}){const o=s?`${s}.order`:"order",u=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:a=n}={}){const s=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:a=!1,wal:s=!1,format:o="text"}={}){var u;const c=[t?"analyze":null,e?"verbose":null,n?"settings":null,a?"buffers":null,s?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${f}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const ky=new RegExp("[,()]");var Fu=class extends EN{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(a=>typeof a=="string"&&ky.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(a=>typeof a=="string"&&ky.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:a}={}){let s="";a==="plain"?s="pl":a==="phrase"?s="ph":a==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},CN=class{constructor(t,{headers:e={},schema:n,fetch:a,urlLengthLimit:s=8e3}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=a,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:a}=e??{},s=n?"HEAD":"GET";let o=!1;const u=(t??"*").split("").map(p=>/\s/.test(p)&&!o?"":(p==='"'&&(o=!o),p)).join(""),{url:c,headers:f}=this.cloneRequestState();return c.searchParams.set("select",u),a&&f.append("Prefer",`count=${a}`),new Fu({method:s,url:c,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:n=!0}={}){var a;const s="POST",{url:o,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),n||u.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(c.length>0){const f=[...new Set(c)].map(p=>`"${p}"`);o.searchParams.set("columns",f.join(","))}}return new Fu({method:s,url:o,headers:u,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:a,defaultToNull:s=!0}={}){var o;const u="POST",{url:c,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),a&&f.append("Prefer",`count=${a}`),s||f.append("Prefer","missing=default"),Array.isArray(t)){const p=t.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(p.length>0){const g=[...new Set(p)].map(v=>`"${v}"`);c.searchParams.set("columns",g.join(","))}}return new Fu({method:u,url:c,headers:f,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var n;const a="PATCH",{url:s,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new Fu({method:a,url:s,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const n="DELETE",{url:a,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Fu({method:n,url:a,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function kN(t,e){if(bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(bh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LN(t){var e=kN(t,"string");return bh(e)=="symbol"?e:e+""}function TN(t,e,n){return(e=LN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ly(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function qf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ly(Object(n),!0).forEach(function(a){TN(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ly(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var ON=class jw{constructor(e,{headers:n={},schema:a,fetch:s,timeout:o,urlLengthLimit:u=8e3}={}){this.url=e,this.headers=new Headers(n),this.schemaName=a,this.urlLengthLimit=u;const c=s??globalThis.fetch;o!==void 0&&o>0?this.fetch=(f,p)=>{const g=new AbortController,v=setTimeout(()=>g.abort(),o),_=p?.signal;if(_){if(_.aborted)return clearTimeout(v),c(f,p);const b=()=>{clearTimeout(v),g.abort()};return _.addEventListener("abort",b,{once:!0}),c(f,qf(qf({},p),{},{signal:g.signal})).finally(()=>{clearTimeout(v),_.removeEventListener("abort",b)})}return c(f,qf(qf({},p),{},{signal:g.signal})).finally(()=>clearTimeout(v))}:this.fetch=c}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new CN(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new jw(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,n={},{head:a=!1,get:s=!1,count:o}={}){var u;let c;const f=new URL(`${this.url}/rpc/${e}`);let p;const g=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(g)),v=a&&Object.values(n).some(g);v?(c="POST",p=n):a||s?(c=a?"HEAD":"GET",Object.entries(n).filter(([b,j])=>j!==void 0).map(([b,j])=>[b,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([b,j])=>{f.searchParams.append(b,j)})):(c="POST",p=n);const _=new Headers(this.headers);return v?_.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&_.set("Prefer",`count=${o}`),new Fu({method:c,url:f,headers:_,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}};class RN{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const a=n.versions;if(a&&a.node){const s=a.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const DN="2.98.0",MN=`realtime-js/${DN}`,PN="1.0.0",Aw="2.0.0",Ty=Aw,j0=1e4,zN=1e3,BN=100;var zl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(zl||(zl={}));var na;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(na||(na={}));var Ds;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ds||(Ds={}));var A0;(function(t){t.websocket="websocket"})(A0||(A0={}));var Ac;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ac||(Ac={}));class UN{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,a;const s=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,a;const s=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},u=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,a){var s,o;const u=e.topic,c=(s=e.ref)!==null&&s!==void 0?s:"",f=(o=e.join_ref)!==null&&o!==void 0?o:"",p=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(g).length===0?"":JSON.stringify(g);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+c.length+u.length+p.length+v.length,b=new ArrayBuffer(this.HEADER_LENGTH+_);let j=new DataView(b),E=0;j.setUint8(E++,this.KINDS.userBroadcastPush),j.setUint8(E++,f.length),j.setUint8(E++,c.length),j.setUint8(E++,u.length),j.setUint8(E++,p.length),j.setUint8(E++,v.length),j.setUint8(E++,n),Array.from(f,A=>j.setUint8(E++,A.charCodeAt(0))),Array.from(c,A=>j.setUint8(E++,A.charCodeAt(0))),Array.from(u,A=>j.setUint8(E++,A.charCodeAt(0))),Array.from(p,A=>j.setUint8(E++,A.charCodeAt(0))),Array.from(v,A=>j.setUint8(E++,A.charCodeAt(0)));var T=new Uint8Array(b.byteLength+a.byteLength);return T.set(new Uint8Array(b),0),T.set(new Uint8Array(a),b.byteLength),T.buffer}decode(e,n){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return n(a)}if(typeof e=="string"){const a=JSON.parse(e),[s,o,u,c,f]=a;return n({join_ref:s,ref:o,topic:u,event:c,payload:f})}return n({})}_binaryDecode(e){const n=new DataView(e),a=n.getUint8(0),s=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,s)}_decodeUserBroadcast(e,n,a){const s=n.getUint8(1),o=n.getUint8(2),u=n.getUint8(3),c=n.getUint8(4);let f=this.HEADER_LENGTH+4;const p=a.decode(e.slice(f,f+s));f=f+s;const g=a.decode(e.slice(f,f+o));f=f+o;const v=a.decode(e.slice(f,f+u));f=f+u;const _=e.slice(f,e.byteLength),b=c===this.JSON_ENCODING?JSON.parse(a.decode(_)):_,j={type:this.BROADCAST_EVENT,event:g,payload:b};return u>0&&(j.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>n.includes(a)))}}let Ew=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Gn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Gn||(Gn={}));const Oy=(t,e,n={})=>{var a;const s=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((o,u)=>(o[u]=IN(u,t,e,s),o),{}):{}},IN=(t,e,n,a)=>{const s=e.find(c=>c.name===t),o=s?.type,u=n[t];return o&&!a.includes(o)?Cw(o,u):E0(u)},Cw=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return $N(e,n)}switch(t){case Gn.bool:return qN(e);case Gn.float4:case Gn.float8:case Gn.int2:case Gn.int4:case Gn.int8:case Gn.numeric:case Gn.oid:return FN(e);case Gn.json:case Gn.jsonb:return HN(e);case Gn.timestamp:return GN(e);case Gn.abstime:case Gn.date:case Gn.daterange:case Gn.int4range:case Gn.int8range:case Gn.money:case Gn.reltime:case Gn.text:case Gn.time:case Gn.timestamptz:case Gn.timetz:case Gn.tsrange:case Gn.tstzrange:return E0(e);default:return E0(e)}},E0=t=>t,qN=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},FN=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},HN=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},$N=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,a=t[n];if(t[0]==="{"&&a==="}"){let o;const u=t.slice(1,n);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(c=>Cw(e,c))}return t},GN=t=>typeof t=="string"?t.replace(" ","T"):t,kw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ag{constructor(e,n,a={},s=j0){this.channel=e,this.event=n,this.payload=a,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ry;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ry||(Ry={}));class ch{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},s=>{const{onJoin:o,onLeave:u,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ch.syncState(this.state,s,o,u),this.pendingDiffs.forEach(f=>{this.state=ch.syncDiff(this.state,f,o,u)}),this.pendingDiffs=[],c()}),this.channel._on(a.diff,{},s=>{const{onJoin:o,onLeave:u,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ch.syncDiff(this.state,s,o,u),c())}),this.onJoin((s,o,u)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:u})}),this.onLeave((s,o,u)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,s){const o=this.cloneDeep(e),u=this.transformState(n),c={},f={};return this.map(o,(p,g)=>{u[p]||(f[p]=g)}),this.map(u,(p,g)=>{const v=o[p];if(v){const _=g.map(T=>T.presence_ref),b=v.map(T=>T.presence_ref),j=g.filter(T=>b.indexOf(T.presence_ref)<0),E=v.filter(T=>_.indexOf(T.presence_ref)<0);j.length>0&&(c[p]=j),E.length>0&&(f[p]=E)}else c[p]=g}),this.syncDiff(o,{joins:c,leaves:f},a,s)}static syncDiff(e,n,a,s){const{joins:o,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),s||(s=()=>{}),this.map(o,(c,f)=>{var p;const g=(p=e[c])!==null&&p!==void 0?p:[];if(e[c]=this.cloneDeep(f),g.length>0){const v=e[c].map(b=>b.presence_ref),_=g.filter(b=>v.indexOf(b.presence_ref)<0);e[c].unshift(..._)}a(c,g,f)}),this.map(u,(c,f)=>{let p=e[c];if(!p)return;const g=f.map(v=>v.presence_ref);p=p.filter(v=>g.indexOf(v.presence_ref)<0),e[c]=p,s(c,p,f),p.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const s=e[a];return"metas"in s?n[a]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[a]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Dy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Dy||(Dy={}));var uh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(uh||(uh={}));var Wo;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Wo||(Wo={}));class Wu{constructor(e,n={config:{}},a){var s,o;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=na.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ag(this,Ds.join,this.params,this.timeout),this.rejoinTimer=new Ew(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=na.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=na.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=na.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=na.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=na.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ds.reply,{},(u,c)=>{this._trigger(this._replyEventName(c),u)}),this.presence=new ch(this),this.broadcastEndpointURL=kw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==na.closed){const{config:{broadcast:u,presence:c,private:f}}=this.params,p=(s=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(b=>b.filter))!==null&&s!==void 0?s:[],g=!!this.bindings[uh.PRESENCE]&&this.bindings[uh.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,v={},_={broadcast:u,presence:Object.assign(Object.assign({},c),{enabled:g}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(Wo.CHANNEL_ERROR,b)),this._onClose(()=>e?.(Wo.CLOSED)),this.updateJoinPayload(Object.assign({config:_},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e?.(Wo.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(j=E?.length)!==null&&j!==void 0?j:0,A=[];for(let z=0;z<T;z++){const D=E[z],{filter:{event:P,schema:se,table:he,filter:oe}}=D,ee=b&&b[z];if(ee&&ee.event===P&&Wu.isFilterValueEqual(ee.schema,se)&&Wu.isFilterValueEqual(ee.table,he)&&Wu.isFilterValueEqual(ee.filter,oe))A.push(Object.assign(Object.assign({},D),{id:ee.id}));else{this.unsubscribe(),this.state=na.errored,e?.(Wo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(Wo.SUBSCRIBED);return}}).receive("error",b=>{this.state=na.errored,e?.(Wo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(Wo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===na.joined&&e===uh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,a)}async httpSend(e,n,a={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let f=c.statusText;try{const p=await c.json();f=p.error||p.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var a,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:u}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((s=p.body)===null||s===void 0?void 0:s.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,c,f;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(c=(u=this.params)===null||u===void 0?void 0:u.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),p.receive("ok",()=>o("ok")),p.receive("error",()=>o("error")),p.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=na.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ds.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(s=>{a=new Ag(this,Ds.leave,{},e),a.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=na.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const s=new AbortController,o=setTimeout(()=>s.abort(),a),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),u}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ag(this,e,n,a);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>BN){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var s,o;const u=e.toLocaleLowerCase(),{close:c,error:f,leave:p,join:g}=Ds;if(a&&[c,f,p,g].indexOf(u)>=0&&a!==this._joinRef())return;let _=this._onMessage(u,n,a);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var j,E,T;return((j=b.filter)===null||j===void 0?void 0:j.event)==="*"||((T=(E=b.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===u}).map(b=>b.callback(_,a)):(o=this.bindings[u])===null||o===void 0||o.filter(b=>{var j,E,T,A,z,D;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const P=b.id,se=(j=b.filter)===null||j===void 0?void 0:j.event;return P&&((E=n.ids)===null||E===void 0?void 0:E.includes(P))&&(se==="*"||se?.toLocaleLowerCase()===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const P=(z=(A=b?.filter)===null||A===void 0?void 0:A.event)===null||z===void 0?void 0:z.toLocaleLowerCase();return P==="*"||P===((D=n?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof _=="object"&&"ids"in _){const j=_.data,{schema:E,table:T,commit_timestamp:A,type:z,errors:D}=j;_=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:A,eventType:z,new:{},old:{},errors:D}),this._getPayloadRecords(j))}b.callback(_,a)})}_isClosed(){return this.state===na.closed}_isJoined(){return this.state===na.joined}_isJoining(){return this.state===na.joining}_isLeaving(){return this.state===na.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const s=e.toLocaleLowerCase(),o={type:s,filter:n,callback:a};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===a&&Wu.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ds.close,{},e)}_onError(e){this._on(Ds.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=na.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Oy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Oy(e.columns,e.old_record)),n}}const Eg=()=>{},Ff={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},VN=[1e3,2e3,5e3,1e4],WN=1e4,YN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KN{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=j0,this.transport=null,this.heartbeatIntervalMs=Ff.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Eg,this.ref=0,this.reconnectTimer=null,this.vsn=Ty,this.logger=Eg,this.conn=null,this.sendBuffer=[],this.serializer=new UN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${A0.websocket}`,this.httpEndpoint=kw(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=RN.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case zl.connecting:return Ac.Connecting;case zl.open:return Ac.Open;case zl.closing:return Ac.Closing;default:return Ac.Closed}}isConnected(){return this.connectionState()===Ac.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===a);if(s)return s;{const o=new Wu(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:a,payload:s,ref:o}=e,u=()=>{this.encode(e,c=>{var f;(f=this.conn)===null||f===void 0||f.send(c)})};this.log("push",`${n} ${a} (${o})`,s),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(zN,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ff.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",p)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:s,payload:o,ref:u}=n,c=u?`(${u})`:"",f=o.status||"";this.log("receive",`${f} ${a} ${s} ${c}`.trim(),o),this.channels.filter(p=>p._isMember(a)).forEach(p=>p._trigger(s,o,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===zl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===zl.open||this.conn.readyState===zl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.accessTokenValue&&(this.channels.forEach(n=>{n.updateJoinPayload({access_token:this.accessTokenValue})}),this.sendBuffer=[],this.channels.forEach(n=>{n._isJoining()&&(n.joinPush.sent=!1,n.joinPush.send())})),this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ds.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${a}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([YN],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,a=!1;if(e)n=e,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:MN};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Ds.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Ew(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ff.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,s,o,u,c,f,p,g,v,_,b;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:j0,this.heartbeatIntervalMs=(s=e?.heartbeatIntervalMs)!==null&&s!==void 0?s:Ff.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:Eg,this.vsn=(f=e?.vsn)!==null&&f!==void 0?f:Ty,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(j=>VN[j-1]||WN),this.vsn){case PN:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((j,E)=>E(JSON.stringify(j))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:((j,E)=>E(JSON.parse(j)));break;case Aw:this.encode=(_=e?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(b=e?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var wh=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function QN(t,e,n){const a=new URL(e,t);if(n)for(const[s,o]of Object.entries(n))o!==void 0&&a.searchParams.set(s,o);return a.toString()}async function XN(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function JN(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:s,body:o,headers:u}){const c=QN(t.baseUrl,a,s),f=await XN(t.auth),p=await e(c,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...f,...u},body:o?JSON.stringify(o):void 0}),g=await p.text(),v=(p.headers.get("content-type")||"").includes("application/json"),_=v&&g?JSON.parse(g):g;if(!p.ok){const b=v?_:void 0,j=b?.error;throw new wh(j?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:j?.type,icebergCode:j?.code,details:b})}return{status:p.status,headers:p.headers,data:_}}}}function Hf(t){return t.join("")}var ZN=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Hf(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hf(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hf(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hf(t.namespace)}`}),!0}catch(e){if(e instanceof wh&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof wh&&n.status===409)return;throw n}}};function Ou(t){return t.join("")}var e6=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ou(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ou(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ou(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ou(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ou(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ou(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof wh&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof wh&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},t6=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=JN({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new ZN(this.client,e),this.tableOps=new e6(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Vp=class extends Error{constructor(t,e="storage",n,a){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=a}};function Wp(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var $f=class extends Vp{constructor(t,e,n,a="storage"){super(t,a,e,n),this.name=a==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Lw=class extends Vp{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const n6=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),i6=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},C0=t=>{if(Array.isArray(t))return t.map(n=>C0(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,a])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=C0(a)}),e},a6=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function r6(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(xh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s6(t){var e=r6(t,"string");return xh(e)=="symbol"?e:e+""}function o6(t,e,n){return(e=s6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function My(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?My(Object(n),!0).forEach(function(a){o6(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):My(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}const Py=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},l6=async(t,e,n,a)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const s=t,o=s.status||500;if(typeof s.json=="function")s.json().then(u=>{const c=u?.statusCode||u?.code||o+"";e(new $f(Py(u),o,c,a))}).catch(()=>{if(a==="vectors"){const u=o+"";e(new $f(s.statusText||`HTTP ${o} error`,o,u,a))}else{const u=o+"";e(new $f(s.statusText||`HTTP ${o} error`,o,u,a))}});else{const u=o+"";e(new $f(s.statusText||`HTTP ${o} error`,o,u,a))}}else e(new Lw(Py(t),t,a))},c6=(t,e,n,a)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!a?Tt(Tt({},s),n):(i6(a)?(s.headers=Tt({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(a)):s.body=a,e?.duplex&&(s.duplex=e.duplex),Tt(Tt({},s),n))};async function th(t,e,n,a,s,o,u){return new Promise((c,f)=>{t(n,c6(e,a,s,o)).then(p=>{if(!p.ok)throw p;if(a?.noResolveJson)return p;if(u==="vectors"){const g=p.headers.get("content-type");if(p.headers.get("content-length")==="0"||p.status===204)return{};if(!g||!g.includes("application/json"))return{}}return p.json()}).then(p=>c(p)).catch(p=>l6(p,f,a,u))})}function Tw(t="storage"){return{get:async(e,n,a,s)=>th(e,"GET",n,a,s,void 0,t),post:async(e,n,a,s,o)=>th(e,"POST",n,s,o,a,t),put:async(e,n,a,s,o)=>th(e,"PUT",n,s,o,a,t),head:async(e,n,a,s)=>th(e,"HEAD",n,Tt(Tt({},a),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,n,a,s,o)=>th(e,"DELETE",n,s,o,a,t)}}const u6=Tw("storage"),{get:_h,post:Rs,put:k0,head:d6,remove:b1}=u6,Or=Tw("vectors");var hd=class{constructor(t,e={},n,a="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=n6(n),this.namespace=a}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Tt(Tt({},this.headers),{},{[t]:e}),this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Wp(n))return{data:null,error:n};throw n}}},h6=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Wp(e))return{data:null,error:e};throw e}}};let Ow;Ow=Symbol.toStringTag;var f6=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Ow]="BlobDownloadBuilder",this.promise=null}asStream(){return new h6(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Wp(e))return{data:null,error:e};throw e}}};const p6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var m6=class extends hd{constructor(t,e={},n,a){super(t,e,a,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,a){var s=this;return s.handleOperation(async()=>{let o;const u=Tt(Tt({},zy),a);let c=Tt(Tt({},s.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),f&&o.append("metadata",s.encodeMetadata(f)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",u.cacheControl),f&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(f))):(o=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType,f&&(c["x-metadata"]=s.toBase64(s.encodeMetadata(f))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!u.duplex&&(u.duplex="half")),a?.headers&&(c=Tt(Tt({},c),a.headers));const p=s._removeEmptyFolders(e),g=s._getFinalPath(p),v=await(t=="PUT"?k0:Rs)(s.fetch,`${s.url}/object/${g}`,o,Tt({headers:c},u?.duplex?{duplex:u.duplex}:{}));return{path:p,id:v.Id,fullPath:v.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,a){var s=this;const o=s._removeEmptyFolders(t),u=s._getFinalPath(o),c=new URL(s.url+`/object/upload/sign/${u}`);return c.searchParams.set("token",e),s.handleOperation(async()=>{let f;const p=Tt({upsert:zy.upsert},a),g=Tt(Tt({},s.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",p.cacheControl)):(f=n,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType),{path:o,fullPath:(await k0(s.fetch,c.toString(),f,{headers:g})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(t);const s=Tt({},n.headers);e?.upsert&&(s["x-upsert"]="true");const o=await Rs(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:s}),u=new URL(n.url+o.url),c=u.searchParams.get("token");if(!c)throw new Vp("No token returned by API");return{signedUrl:u.toString(),path:t,token:c}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var a=this;return a.handleOperation(async()=>await Rs(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:a.headers}))}async copy(t,e,n){var a=this;return a.handleOperation(async()=>({path:(await Rs(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:a.headers})).Key}))}async createSignedUrl(t,e,n){var a=this;return a.handleOperation(async()=>{let s=a._getFinalPath(t),o=await Rs(a.fetch,`${a.url}/object/sign/${s}`,Tt({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:a.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${a.url}${o.signedURL}${u}`)}})}async createSignedUrls(t,e,n){var a=this;return a.handleOperation(async()=>{const s=await Rs(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:e,paths:t},{headers:a.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(u=>Tt(Tt({},u),{},{signedUrl:u.signedURL?encodeURI(`${a.url}${u.signedURL}${o}`):null}))})}download(t,e,n){const a=typeof e?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(e?.transform||{}),o=s?`?${s}`:"",u=this._getFinalPath(t),c=()=>_h(this.fetch,`${this.url}/${a}/${u}${o}`,{headers:this.headers,noResolveJson:!0},n);return new f6(c,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);return e.handleOperation(async()=>C0(await _h(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await d6(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(Wp(a)&&a instanceof Lw){const s=a.originalError;if([400,404].includes(s?.status))return{data:!1,error:a}}throw a}}getPublicUrl(t,e){const n=this._getFinalPath(t),a=[],s=e?.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&a.push(s);const o=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&a.push(u);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await b1(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var a=this;return a.handleOperation(async()=>{const s=Tt(Tt(Tt({},p6),e),{},{prefix:t||""});return await Rs(a.fetch,`${a.url}/object/list/${a.bucketId}`,s,{headers:a.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{const a=Tt({},t);return await Rs(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const g6="2.98.0",zh={"X-Client-Info":`storage-js/${g6}`};var v6=class extends hd{constructor(t,e={},n,a){const s=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const o=s.href.replace(/\/$/,""),u=Tt(Tt({},zh),e);super(o,u,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(t);return await _h(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await _h(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await Rs(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await k0(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Rs(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await b1(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},y6=class extends hd{constructor(t,e={},n){const a=t.replace(/\/$/,""),s=Tt(Tt({},zh),e);super(a,s,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Rs(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const a=n.toString(),s=a?`${e.url}/bucket?${a}`:`${e.url}/bucket`;return await _h(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await b1(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!a6(t))throw new Vp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new t6({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(s,o){const u=s[o];return typeof u!="function"?u:async(...c)=>{try{return{data:await u.apply(s,c),error:null}}catch(f){if(a)throw f;return{data:null,error:f}}}}})}},b6=class extends hd{constructor(t,e={},n){const a=t.replace(/\/$/,""),s=Tt(Tt({},zh),{},{"Content-Type":"application/json"},e);super(a,s,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Or.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await Or.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Or.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await Or.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},w6=class extends hd{constructor(t,e={},n){const a=t.replace(/\/$/,""),s=Tt(Tt({},zh),{},{"Content-Type":"application/json"},e);super(a,s,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Or.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Or.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Or.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Or.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Or.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},x6=class extends hd{constructor(t,e={},n){const a=t.replace(/\/$/,""),s=Tt(Tt({},zh),{},{"Content-Type":"application/json"},e);super(a,s,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Or.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Or.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Or.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Or.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},_6=class extends x6{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new S6(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},S6=class extends b6{constructor(t,e,n,a){super(t,e,a),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Tt(Tt({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Tt(Tt({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new N6(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},N6=class extends w6{constructor(t,e,n,a,s){super(t,e,s),this.vectorBucketName=n,this.indexName=a}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Tt(Tt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Tt(Tt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Tt(Tt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Tt(Tt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Tt(Tt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},j6=class extends v6{constructor(t,e={},n,a){super(t,e,n,a)}from(t){return new m6(this.url,this.headers,t,this.fetch)}get vectors(){return new _6(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new y6(this.url+"/iceberg",this.headers,this.fetch)}};const Rw="2.98.0",Hu=30*1e3,L0=3,Cg=L0*Hu,A6="http://localhost:9999",E6="supabase.auth.token",C6={"X-Client-Info":`gotrue-js/${Rw}`},T0="X-Supabase-Api-Version",Dw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},k6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,L6=600*1e3;class Sh extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function bt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class T6 extends Sh{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function O6(t){return bt(t)&&t.name==="AuthApiError"}class Ec extends Sh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Zo extends Sh{constructor(e,n,a,s){super(e,a,s),this.name=n,this.status=a}}class Tr extends Zo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kg(t){return bt(t)&&t.name==="AuthSessionMissingError"}class Ru extends Zo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gf extends Zo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Vf extends Zo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function R6(t){return bt(t)&&t.name==="AuthImplicitGrantRedirectError"}class By extends Zo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class D6 extends Zo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class O0 extends Zo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Lg(t){return bt(t)&&t.name==="AuthRetryableFetchError"}class Uy extends Zo{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class R0 extends Zo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Iy=` 	
\r=`.split(""),M6=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Iy.length;e+=1)t[Iy[e].charCodeAt(0)]=-2;for(let e=0;e<Sp.length;e+=1)t[Sp[e].charCodeAt(0)]=e;return t})();function qy(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Sp[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Sp[a]),e.queuedBits-=6}}function Mw(t,e,n){const a=M6[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Fy(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=u=>{B6(u,a,n)};for(let u=0;u<t.length;u+=1)Mw(t.charCodeAt(u),s,o);return e.join("")}function P6(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function z6(t,e){for(let n=0;n<t.length;n+=1){let a=t.charCodeAt(n);if(a>55295&&a<=56319){const s=(a-55296)*1024&65535;a=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}P6(a,e)}}function B6(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Xu(t){const e=[],n={queue:0,queuedBits:0},a=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Mw(t.charCodeAt(s),n,a);return new Uint8Array(e)}function U6(t){const e=[];return z6(t,n=>e.push(n)),new Uint8Array(e)}function Tc(t){const e=[],n={queue:0,queuedBits:0},a=s=>{e.push(s)};return t.forEach(s=>qy(s,n,a)),qy(null,n,a),e.join("")}function I6(t){return Math.round(Date.now()/1e3)+t}function q6(){return Symbol("auth-callback")}const Sa=()=>typeof window<"u"&&typeof document<"u",xc={tested:!1,writable:!1},Pw=()=>{if(!Sa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xc.tested)return xc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xc.tested=!0,xc.writable=!0}catch{xc.tested=!0,xc.writable=!1}return xc.writable};function F6(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return n.searchParams.forEach((a,s)=>{e[s]=a}),e}const zw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),H6=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$u=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},_c=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},_a=async(t,e)=>{await t.removeItem(e)};class Yp{constructor(){this.promise=new Yp.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Yp.promiseConstructor=Promise;function Wf(t){const e=t.split(".");if(e.length!==3)throw new R0("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!k6.test(e[a]))throw new R0("JWT not in base64url format");return{header:JSON.parse(Fy(e[0])),payload:JSON.parse(Fy(e[1])),signature:Xu(e[2]),raw:{header:e[0],payload:e[1]}}}async function $6(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function G6(t,e){return new Promise((a,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await t(o);if(!e(o,null,u)){a(u);return}}catch(u){if(!e(o,u)){s(u);return}}})()})}function V6(t){return("0"+t.toString(16)).substr(-2)}function W6(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*a));return s}return crypto.getRandomValues(e),Array.from(e,V6).join("")}async function Y6(t){const n=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(a);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function K6(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Y6(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Du(t,e,n=!1){const a=W6();let s=a;n&&(s+="/PASSWORD_RECOVERY"),await $u(t,`${e}-code-verifier`,s);const o=await K6(a);return[o,a===o?"plain":"s256"]}const Q6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function X6(t){const e=t.headers.get(T0);if(!e||!e.match(Q6))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function J6(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Z6(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ej=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mu(t){if(!ej.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tg(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tj(t,e){return new Proxy(t,{get:(n,a,s)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const o=a.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,s)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,a,s)}})}function Hy(t){return JSON.parse(JSON.stringify(t))}const Sc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nj=[502,503,504];async function $y(t){var e;if(!H6(t))throw new O0(Sc(t),0);if(nj.includes(t.status))throw new O0(Sc(t),t.status);let n;try{n=await t.json()}catch(o){throw new Ec(Sc(o),o)}let a;const s=X6(t);if(s&&s.getTime()>=Dw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new Uy(Sc(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new Tr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new Uy(Sc(n),t.status,n.weak_password.reasons);throw new T6(Sc(n),t.status||500,a)}const ij=(t,e,n,a)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),n))};async function Pt(t,e,n,a){var s;const o=Object.assign({},a?.headers);o[T0]||(o[T0]=Dw["2024-01-01"].name),a?.jwt&&(o.Authorization=`Bearer ${a.jwt}`);const u=(s=a?.query)!==null&&s!==void 0?s:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const c=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await aj(t,e,n+c,{headers:o,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(f):{data:Object.assign({},f),error:null}}async function aj(t,e,n,a,s,o){const u=ij(e,a,s,o);let c;try{c=await t(n,Object.assign({},u))}catch(f){throw console.error(f),new O0(Sc(f),0)}if(c.ok||await $y(c),a?.noResolveJson)return c;try{return await c.json()}catch(f){await $y(f)}}function Os(t){var e;let n=null;oj(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=I6(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:a},error:null}}function Gy(t){const e=Os(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ul(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function rj(t){return{data:t,error:null}}function sj(t){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:s,verification_type:o}=t,u=Gp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:a,redirect_to:s,verification_type:o},f=Object.assign({},u);return{data:{properties:c,user:f},error:null}}function Vy(t){return t}function oj(t){return t.access_token&&t.refresh_token&&t.expires_in}const Og=["global","local","others"];class lj{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=zw(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Og[0]){if(Og.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Og.join(", ")}`);try{return await Pt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await Pt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ul})}catch(a){if(bt(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=Gp(e,["options"]),s=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(s.new_email=a?.newEmail,delete s.newEmail),await Pt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:sj,redirectTo:n?.redirectTo})}catch(n){if(bt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ul})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,s,o,u,c,f;try{const p={nextPage:null,lastPage:0,total:0},g=await Pt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Vy});if(g.error)throw g.error;const v=await g.json(),_=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(f=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(j=>{const E=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(j.split(";")[1].split("=")[1]);p[`${T}Page`]=E}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(bt(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Mu(e);try{return await Pt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ul})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Mu(e);try{return await Pt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ul})}catch(a){if(bt(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){Mu(e);try{return await Pt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ul})}catch(a){if(bt(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){Mu(e.userId);try{const{data:n,error:a}=await Pt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:a}}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Mu(e.userId),Mu(e.id);try{return{data:await Pt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,s,o,u,c,f;try{const p={nextPage:null,lastPage:0,total:0},g=await Pt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Vy});if(g.error)throw g.error;const v=await g.json(),_=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(f=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(j=>{const E=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(j.split(";")[1].split("=")[1]);p[`${T}Page`]=E}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(bt(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Pt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Pt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(bt(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await Pt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(bt(n))return{data:null,error:n};throw n}}}function Wy(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const $o={debug:!!(globalThis&&Pw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class cj extends Bw{}async function uj(t,e,n){$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;e>0&&setTimeout(()=>{a.abort(),$o.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve();try{return await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async s=>{if(s){$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw $o.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new cj(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if($o.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}catch(s){if(s?.name==="AbortError"&&e>0)return $o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire timeout, recovering by stealing lock",t),console.warn(`@supabase/gotrue-js: Lock "${t}" was not released within ${e}ms. This may indicate an orphaned lock from a component unmount (e.g., React Strict Mode). Forcefully acquiring the lock to recover.`),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,{mode:"exclusive",steal:!0},async o=>{if(o){$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: recovered (stolen)",t,o.name);try{return await n()}finally{$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: released (stolen)",t,o.name)}}else return console.warn("@supabase/gotrue-js: Navigator LockManager returned null lock even with steal: true"),await n()}));throw s}}function dj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Uw(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function hj(t){return parseInt(t,16)}function fj(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function pj(t){var e;const{chainId:n,domain:a,expirationTime:s,issuedAt:o=new Date,nonce:u,notBefore:c,requestId:f,resources:p,scheme:g,uri:v,version:_}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=Uw(t.address),j=g?`${g}://${a}`:a,E=t.statement?`${t.statement}
`:"",T=`${j} wants you to sign in with your Ethereum account:
${b}

${E}`;let A=`URI: ${v}
Version: ${_}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${o.toISOString()}`;if(s&&(A+=`
Expiration Time: ${s.toISOString()}`),c&&(A+=`
Not Before: ${c.toISOString()}`),f&&(A+=`
Request ID: ${f}`),p){let z=`
Resources:`;for(const D of p){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);z+=`
- ${D}`}A+=z}return`${T}
${A}`}class $i extends Error{constructor({message:e,code:n,cause:a,name:s}){var o;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(o=s??(a instanceof Error?a.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Np extends $i{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function mj({error:t,options:e}){var n,a,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new $i({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new $i({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new $i({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new $i({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new $i({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new $i({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new $i({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new $i({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(Iw(u)){if(o.rp.id!==u)return new $i({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new $i({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new $i({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new $i({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new $i({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function gj({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new $i({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new $i({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Iw(a)){if(n.rpId!==a)return new $i({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new $i({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new $i({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new $i({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class vj{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const yj=new vj;function bj(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:a}=t,s=Gp(t,["challenge","user","excludeCredentials"]),o=Xu(e).buffer,u=Object.assign(Object.assign({},n),{id:Xu(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:o,user:u});if(a&&a.length>0){c.excludeCredentials=new Array(a.length);for(let f=0;f<a.length;f++){const p=a[f];c.excludeCredentials[f]=Object.assign(Object.assign({},p),{id:Xu(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function wj(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,a=Gp(t,["challenge","allowCredentials"]),s=Xu(e).buffer,o=Object.assign(Object.assign({},a),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];o.allowCredentials[u]=Object.assign(Object.assign({},c),{id:Xu(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function xj(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Tc(new Uint8Array(t.response.attestationObject)),clientDataJSON:Tc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function _j(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,a=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Tc(new Uint8Array(s.authenticatorData)),clientDataJSON:Tc(new Uint8Array(s.clientDataJSON)),signature:Tc(new Uint8Array(s.signature)),userHandle:s.userHandle?Tc(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Iw(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Yy(){var t,e;return!!(Sa()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Sj(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Np("Browser returned unexpected credential type",e)}:{data:null,error:new Np("Empty credential response",e)}}catch(e){return{data:null,error:mj({error:e,options:t})}}}async function Nj(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Np("Browser returned unexpected credential type",e)}:{data:null,error:new Np("Empty credential response",e)}}catch(e){return{data:null,error:gj({error:e,options:t})}}}const jj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Aj={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function jp(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),a={};for(const s of t)if(s)for(const o in s){const u=s[o];if(u!==void 0)if(Array.isArray(u))a[o]=u;else if(n(u))a[o]=u;else if(e(u)){const c=a[o];e(c)?a[o]=jp(c,u):a[o]=jp(u)}else a[o]=u}return a}function Ej(t,e){return jp(jj,t,e||{})}function Cj(t,e){return jp(Aj,t,e||{})}class kj{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:s},o){var u;try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:f};const p=s??yj.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:g}=c.webauthn.credential_options.publicKey;if(!g.name){const v=a;if(v)g.name=`${g.id}:${v}`;else{const b=(await this.client.getUser()).data.user,j=((u=b?.user_metadata)===null||u===void 0?void 0:u.name)||b?.email||b?.id||"User";g.name=`${g.id}:${j}`}}g.displayName||(g.displayName=g.name)}switch(c.webauthn.type){case"create":{const g=Ej(c.webauthn.credential_options.publicKey,o?.create),{data:v,error:_}=await Sj({publicKey:g,signal:p});return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const g=Cj(c.webauthn.credential_options.publicKey,o?.request),{data:v,error:_}=await Nj(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:g,signal:p}));return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(c){return bt(c)?{data:null,error:c}:{data:null,error:new Ec("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Sh("rpId is required for WebAuthn authentication")};try{if(!Yy())return{data:null,error:new Ec("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:s},{request:o});if(!u)return{data:null,error:c};const{webauthn:f}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:a,credential_response:f.credential_response}})}catch(u){return bt(u)?{data:null,error:u}:{data:null,error:new Ec("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Sh("rpId is required for WebAuthn registration")};try{if(!Yy())return{data:null,error:new Ec("Browser does not support WebAuthn",null)};const{data:u,error:c}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:c};const{data:f,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:s},{create:o});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:a,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:p}}catch(u){return bt(u)?{data:null,error:u}:{data:null,error:new Ec("Unexpected error in register",u)}}}}dj();const Lj={url:A6,storageKey:E6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:C6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:5e3,skipAutoInitialize:!1};async function Ky(t,e,n){return await n()}const Pu={};class Nh{get jwks(){var e,n;return(n=(e=Pu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Pu[this.storageKey]=Object.assign(Object.assign({},Pu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Pu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Pu[this.storageKey]=Object.assign(Object.assign({},Pu[this.storageKey]),{cachedAt:e})}constructor(e){var n,a,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Lj),e);if(this.storageKey=o.storageKey,this.instanceID=(n=Nh.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Nh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Sa()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new lj({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=zw(o.fetch),this.lock=o.lock||Ky,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&Sa()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=uj:this.lock=Ky,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new kj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Pw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wy(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Wy(this.memoryStorage)),Sa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u);try{await this._notifyAllSubscribers(u.data.event,u.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}o.skipAutoInitialize||this.initialize().catch(u=>{this._debug("#initialize()","error",u)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Rw}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},a="none";if(Sa()&&(n=F6(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),Sa()&&this.detectSessionInUrl&&a!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,a);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),R6(o)){const f=(e=o.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:u,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",u,"redirect type",c),await this._saveSession(u),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return bt(n)?this._returnResult({error:n}):this._returnResult({error:new Ec("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,s;try{const o=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Os}),{data:u,error:c}=o;if(c||!u)return this._returnResult({data:{user:null,session:null},error:c});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(o){if(bt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,a,s;try{let o;if("email"in e){const{email:g,password:v,options:_}=e;let b=null,j=null;this.flowType==="pkce"&&([b,j]=await Du(this.storage,this.storageKey)),o=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:g,password:v,data:(n=_?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:b,code_challenge_method:j},xform:Os})}else if("phone"in e){const{phone:g,password:v,options:_}=e;o=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(a=_?.data)!==null&&a!==void 0?a:{},channel:(s=_?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Os})}else throw new Gf("You must provide either an email or phone number and a password");const{data:u,error:c}=o;if(c||!u)return await _a(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(o){if(await _a(this.storage,`${this.storageKey}-code-verifier`),bt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:u,options:c}=e;n=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Gy})}else if("phone"in e){const{phone:o,password:u,options:c}=e;n=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Gy})}else throw new Gf("You must provide either an email or phone number and a password");const{data:a,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!a||!a.session||!a.user){const o=new Ru;return this._returnResult({data:{user:null,session:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:s})}catch(n){if(bt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,a,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,s,o,u,c,f,p,g,v,_;let b,j;if("message"in e)b=e.message,j=e.signature;else{const{chain:E,wallet:T,statement:A,options:z}=e;let D;if(Sa())if(typeof T=="object")D=T;else{const X=window;if("ethereum"in X&&typeof X.ethereum=="object"&&"request"in X.ethereum&&typeof X.ethereum.request=="function")D=X.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=T}const P=new URL((n=z?.url)!==null&&n!==void 0?n:window.location.href),se=await D.request({method:"eth_requestAccounts"}).then(X=>X).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!se||se.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const he=Uw(se[0]);let oe=(a=z?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!oe){const X=await D.request({method:"eth_chainId"});oe=hj(X)}const ee={domain:P.host,address:he,statement:A,uri:P.href,version:"1",chainId:oe,nonce:(s=z?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(u=(o=z?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(c=z?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(f=z?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(p=z?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(g=z?.signInWithEthereum)===null||g===void 0?void 0:g.resources};b=pj(ee),j=await D.request({method:"personal_sign",params:[fj(b),he]})}try{const{data:E,error:T}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:j},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Os});if(T)throw T;if(!E||!E.session||!E.user){const A=new Ru;return this._returnResult({data:{user:null,session:null},error:A})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:T})}catch(E){if(bt(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var n,a,s,o,u,c,f,p,g,v,_,b;let j,E;if("message"in e)j=e.message,E=e.signature;else{const{chain:T,wallet:A,statement:z,options:D}=e;let P;if(Sa())if(typeof A=="object")P=A;else{const he=window;if("solana"in he&&typeof he.solana=="object"&&("signIn"in he.solana&&typeof he.solana.signIn=="function"||"signMessage"in he.solana&&typeof he.solana.signMessage=="function"))P=he.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=A}const se=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const he=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:se.host,uri:se.href}),z?{statement:z}:null));let oe;if(Array.isArray(he)&&he[0]&&typeof he[0]=="object")oe=he[0];else if(he&&typeof he=="object"&&"signedMessage"in he&&"signature"in he)oe=he;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in oe&&"signature"in oe&&(typeof oe.signedMessage=="string"||oe.signedMessage instanceof Uint8Array)&&oe.signature instanceof Uint8Array)j=typeof oe.signedMessage=="string"?oe.signedMessage:new TextDecoder().decode(oe.signedMessage),E=oe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${se.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...z?["",z,""]:[""],"Version: 1",`URI: ${se.href}`,`Issued At: ${(s=(a=D?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=D?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((u=D?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((c=D?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((f=D?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((p=D?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((v=(g=D?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...D.signInWithSolana.resources.map(oe=>`- ${oe}`)]:[]].join(`
`);const he=await P.signMessage(new TextEncoder().encode(j),"utf8");if(!he||!(he instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=he}}try{const{data:T,error:A}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:Tc(E)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Os});if(A)throw A;if(!T||!T.session||!T.user){const z=new Ru;return this._returnResult({data:{user:null,session:null},error:z})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:A})}catch(T){if(bt(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(e){const n=await _c(this.storage,`${this.storageKey}-code-verifier`),[a,s]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new D6;const{data:o,error:u}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:Os});if(await _a(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!o||!o.session||!o.user){const c=new Ru;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:u})}catch(o){if(await _a(this.storage,`${this.storageKey}-code-verifier`),bt(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:a,token:s,access_token:o,nonce:u}=e,c=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:s,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Os}),{data:f,error:p}=c;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f||!f.session||!f.user){const g=new Ru;return this._returnResult({data:{user:null,session:null},error:g})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:p})}catch(n){if(bt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,a,s,o,u;try{if("email"in e){const{email:c,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Du(this.storage,this.storageKey));const{error:v}=await Pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:c,options:f}=e,{data:p,error:g}=await Pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=f?.data)!==null&&s!==void 0?s:{},create_user:(o=f?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:g})}throw new Gf("You must provide either an email or phone number.")}catch(c){if(await _a(this.storage,`${this.storageKey}-code-verifier`),bt(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var n,a;try{let s,o;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:c}=await Pt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Os});if(c)throw c;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,p=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(s){if(bt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,a,s,o,u;try{let c=null,f=null;this.flowType==="pkce"&&([c,f]=await Du(this.storage,this.storageKey));const p=await Pt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:f}),headers:this.headers,xform:rj});return!((o=p.data)===null||o===void 0)&&o.url&&Sa()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(c){if(await _a(this.storage,`${this.storageKey}-code-verifier`),bt(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new Tr;const{error:s}=await Pt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(bt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:s,options:o}=e,{error:u}=await Pt(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:a,type:s,options:o}=e,{data:u,error:c}=await Pt(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:c})}throw new Gf("You must provide either an email or phone number and a type")}catch(n){if(bt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await _c(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Cg:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const u=await _c(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Tg()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=tj(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ul}):await this._useSession(async n=>{var a,s,o;const{data:u,error:c}=n;if(c)throw c;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tr}:await Pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Ul})})}catch(n){if(bt(n))return kg(n)&&(await this._removeSession(),await _a(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:s,error:o}=a;if(o)throw o;if(!s.session)throw new Tr;const u=s.session;let c=null,f=null;this.flowType==="pkce"&&e.email!=null&&([c,f]=await Du(this.storage,this.storageKey));const{data:p,error:g}=await Pt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:f}),jwt:u.access_token,xform:Ul});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(a){if(await _a(this.storage,`${this.storageKey}-code-verifier`),bt(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Tr;const n=Date.now()/1e3;let a=n,s=!0,o=null;const{payload:u}=Wf(e.access_token);if(u.exp&&(a=u.exp,s=a<=n),s){const{data:c,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:f}=await this._getUser(e.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(bt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:u,error:c}=n;if(c)throw c;e=(a=u.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new Tr;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(bt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Sa())throw new Vf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Vf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new By("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new By("No code detected.");const{data:z,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:z.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:s,access_token:o,refresh_token:u,expires_in:c,expires_at:f,token_type:p}=e;if(!o||!c||!u||!p)throw new Vf("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(c);let _=g+v;f&&(_=parseInt(f));const b=_-g;b*1e3<=Hu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${v}s`);const j=_-v;g-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,_,g):g-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,_,g);const{data:E,error:T}=await this._getUser(o);if(T)throw T;const A={provider_token:a,provider_refresh_token:s,access_token:o,expires_in:v,expires_at:_,refresh_token:u,token_type:p,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:e.type},error:null})}catch(a){if(bt(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await _c(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:s,error:o}=n;if(o&&!kg(o))return this._returnResult({error:o});const u=(a=s.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:c}=await this.admin.signOut(u,e);if(c&&!(O6(c)&&(c.status===404||c.status===401||c.status===403)||kg(c)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await _a(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=q6(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,s;try{const{data:{session:o},error:u}=n;if(u)throw u;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=await Du(this.storage,this.storageKey,!0));try{return await Pt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await _a(this.storage,`${this.storageKey}-code-verifier`),bt(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:s}=await this._useSession(async o=>{var u,c,f,p,g;const{data:v,error:_}=o;if(_)throw _;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Pt(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(s)throw s;return Sa()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(bt(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:u,provider:c,token:f,access_token:p,nonce:g}=e,v=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=o?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:c,id_token:f,access_token:p,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Os}),{data:_,error:b}=v;return b?this._returnResult({data:{user:null,session:null},error:b}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Ru}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:b}))}catch(s){if(await _a(this.storage,`${this.storageKey}-code-verifier`),bt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,s;const{data:o,error:u}=n;if(u)throw u;return await Pt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await G6(async s=>(s>0&&await $6(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Pt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Os})),(s,o)=>{const u=200*Math.pow(2,s);return o&&Lg(o)&&Date.now()+u-a<Hu})}catch(a){if(this._debug(n,"error",a),bt(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),Sa()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await _c(this.storage,this.storageKey);if(s&&this.userStorage){let u=await _c(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:s.user},await $u(this.userStorage,this.storageKey+"-user",u)),s.user=(e=u?.user)!==null&&e!==void 0?e:Tg()}else if(s&&!s.user&&!s.user){const u=await _c(this.storage,this.storageKey+"-user");u&&u?.user?(s.user=u.user,await _a(this.storage,this.storageKey+"-user"),await $u(this.storage,this.storageKey,s)):s.user=Tg()}if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Cg;if(this._debug(a,`session has${o?"":" not"} expired with margin of ${Cg}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:u}=await this._callRefreshToken(s.refresh_token);u&&(console.error(u),Lg(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:c}=await this._getUser(s.access_token);!c&&u?.user?(s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new Tr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Yp;const{data:o,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!o.session)throw new Tr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),bt(o)){const u={data:null,error:o};return Lg(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,a=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(f){o.push(f)}});if(await Promise.all(u),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await _a(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await $u(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=Hy(s);await $u(this.storage,this.storageKey,o)}else{const s=Hy(n);await $u(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await _a(this.storage,this.storageKey),await _a(this.storage,this.storageKey+"-code-verifier"),await _a(this.storage,this.storageKey+"-user"),this.userStorage&&await _a(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Sa()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Hu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((a.expires_at*1e3-e)/Hu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Hu}ms, refresh threshold is ${L0} ticks`),s<=L0&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Bw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Sa()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const s=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&s.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[o,u]=await Du(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});s.push(c.toString())}if(a?.queryParams){const o=new URLSearchParams(a.queryParams);s.push(o.toString())}return a?.skipBrowserRedirect&&s.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await Pt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=s?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,s;const{data:o,error:u}=n;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:p}=await Pt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&f.type==="totp"&&(!((s=f?.totp)===null||s===void 0)&&s.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?xj(e.webauthn.credential_response):_j(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:f}=await Pt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=s?.session)===null||a===void 0?void 0:a.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:f}))})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const u=await Pt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=s?.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:c}=u;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:bj(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:wj(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n?.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,a,s,o;if(e)try{const{payload:b}=Wf(e);let j=null;b.aal&&(j=b.aal);let E=j;const{data:{user:T},error:A}=await this.getUser(e);if(A)return this._returnResult({data:null,error:A});((a=(n=T?.factors)===null||n===void 0?void 0:n.filter(P=>P.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(E="aal2");const D=b.amr||[];return{data:{currentLevel:j,nextLevel:E,currentAuthenticationMethods:D},error:null}}catch(b){if(bt(b))return this._returnResult({data:null,error:b});throw b}const{data:{session:u},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Wf(u.access_token);let p=null;f.aal&&(p=f.aal);let g=p;((o=(s=u.user.factors)===null||s===void 0?void 0:s.filter(b=>b.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const _=f.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:_},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;return s?this._returnResult({data:null,error:s}):a?await Pt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Tr})})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:s},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Tr});const u=await Pt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&Sa()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(bt(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:s},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Tr});const u=await Pt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&Sa()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(bt(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;return a?this._returnResult({data:null,error:a}):n?await Pt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Tr})})}catch(e){if(bt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;return s?this._returnResult({data:null,error:s}):a?(await Pt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Tr})})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(c=>c.kid===e);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(c=>c.kid===e),a&&this.jwks_cached_at+L6>s)return a;const{data:o,error:u}=await Pt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,a=o.keys.find(c=>c.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:b,error:j}=await this.getSession();if(j||!b.session)return this._returnResult({data:null,error:j});a=b.session.access_token}const{header:s,payload:o,signature:u,raw:{header:c,payload:f}}=Wf(a);n?.allowExpired||J6(o.exp);const p=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:b}=await this.getUser(a);if(b)throw b;return{data:{claims:o,header:s,signature:u},error:null}}const g=Z6(s.alg),v=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,u,U6(`${c}.${f}`)))throw new R0("Invalid JWT signature");return{data:{claims:o,header:s,signature:u},error:null}}catch(a){if(bt(a))return this._returnResult({data:null,error:a});throw a}}}Nh.nextInstanceID={};const Tj=Nh,Oj="2.98.0";let lh="";typeof Deno<"u"?lh="deno":typeof document<"u"?lh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?lh="react-native":lh="node";const Rj={"X-Client-Info":`supabase-js-${lh}/${Oj}`},Dj={headers:Rj},Mj={schema:"public"},Pj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zj={};function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function Bj(t,e){if(jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(jh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uj(t){var e=Bj(t,"string");return jh(e)=="symbol"?e:e+""}function Ij(t,e,n){return(e=Uj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qy(Object(n),!0).forEach(function(a){Ij(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qy(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}const qj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Fj=()=>Headers,Hj=(t,e,n)=>{const a=qj(n),s=Fj();return async(o,u)=>{var c;const f=(c=await e())!==null&&c!==void 0?c:t;let p=new s(u?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),a(o,Ei(Ei({},u),{},{headers:p}))}};function $j(t){return t.endsWith("/")?t:t+"/"}function Gj(t,e){var n,a;const{db:s,auth:o,realtime:u,global:c}=t,{db:f,auth:p,realtime:g,global:v}=e,_={db:Ei(Ei({},f),s),auth:Ei(Ei({},p),o),realtime:Ei(Ei({},g),u),storage:{},global:Ei(Ei(Ei({},v),c),{},{headers:Ei(Ei({},(n=v?.headers)!==null&&n!==void 0?n:{}),(a=c?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return t.accessToken?_.accessToken=t.accessToken:delete _.accessToken,_}function Vj(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($j(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Wj=class extends Tj{constructor(t){super(t)}},Yj=class{constructor(t,e,n){var a,s;this.supabaseUrl=t,this.supabaseKey=e;const o=Vj(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:Mj,realtime:zj,auth:Ei(Ei({},Pj),{},{storageKey:u}),global:Dj},f=Gj(n??{},c);if(this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=f.auth)!==null&&p!==void 0?p:{},this.headers,f.global.fetch)}this.fetch=Hj(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Ei({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new ON(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new j6(this.storageUrl.href,this.headers,this.fetch,n?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new NN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:a}=await t.auth.getSession();return(e=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:a,userStorage:s,storageKey:o,flowType:u,lock:c,debug:f,throwOnError:p},g,v){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wj({url:this.authUrl.href,headers:Ei(Ei({},_),g),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:a,userStorage:s,flowType:u,lock:c,debug:f,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new KN(this.realtimeUrl.href,Ei(Ei({},t),{},{params:Ei(Ei({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const qw=(t,e,n)=>new Yj(t,e,n);function Kj(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Kj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Qj="https://ybludwecmqghoheotzzz.supabase.co",Xj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlibHVkd2VjbXFnaG9oZW90enp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA0MzI4MzMsImV4cCI6MjA4NjAwODgzM30.kIy0DdvPbmBAXCLVVqVxlZLQKXnvPBZQwkVZkJk78pM",nh=qw(Qj,Xj),Xy="laelaml@gmail.com".split(",").map(t=>t.trim().toLowerCase()).filter(Boolean),Fw=V.createContext(void 0);function Jj({children:t}){const[e,n]=V.useState(null),[a,s]=V.useState(null),[o,u]=V.useState(!0),c=e?.email?Xy.includes(e.email.toLowerCase()):!1;V.useEffect(()=>{nh.auth.getSession().then(({data:{session:b}})=>{s(b),n(b?.user??null),u(!1)});const{data:{subscription:_}}=nh.auth.onAuthStateChange((b,j)=>{s(j),n(j?.user??null),u(!1)});return()=>_.unsubscribe()},[]);const f=async(_,b)=>{const{error:j}=await nh.auth.signInWithPassword({email:_,password:b});return{error:j}},p=f,g=async _=>{if(!Xy.includes(_.toLowerCase()))return{error:new Error("This email is not authorized for admin access.")};const{error:b}=await nh.auth.signInWithOtp({email:_,options:{emailRedirectTo:window.location.origin}});return{error:b}},v=async()=>{await nh.auth.signOut()};return h.jsx(Fw.Provider,{value:{user:e,session:a,loading:o,isAdmin:c,signIn:f,signInWithPassword:p,signInWithMagicLink:g,signOut:v},children:t})}function w1(){const t=V.useContext(Fw);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const Hw=(...t)=>t.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim();const Zj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const eA=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase());const Jy=t=>{const e=eA(t);return e.charAt(0).toUpperCase()+e.slice(1)};var tA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nA=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const iA=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:s="",children:o,iconNode:u,...c},f)=>V.createElement("svg",{ref:f,...tA,width:e,height:e,stroke:t,strokeWidth:a?Number(n)*24/Number(e):n,className:Hw("lucide",s),...!o&&!nA(c)&&{"aria-hidden":"true"},...c},[...u.map(([p,g])=>V.createElement(p,g)),...Array.isArray(o)?o:[o]]));const at=(t,e)=>{const n=V.forwardRef(({className:a,...s},o)=>V.createElement(iA,{ref:o,iconNode:e,className:Hw(`lucide-${Zj(Jy(t))}`,`lucide-${t}`,a),...s}));return n.displayName=Jy(t),n};const aA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$w=at("arrow-left",aA);const rA=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Yf=at("arrow-up-down",rA);const sA=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Rg=at("arrow-up-right",sA);const oA=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],lA=at("bath",oA);const cA=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],dp=at("bed",cA);const uA=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],dA=at("bell",uA);const hA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],x1=at("book-open",hA);const fA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ra=at("calendar",fA);const pA=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],D0=at("car",pA);const mA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Oc=at("check",mA);const gA=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Zy=at("chef-hat",gA);const vA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_1=at("chevron-down",vA);const yA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Gw=at("chevron-left",yA);const bA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Pc=at("chevron-right",bA);const wA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],xA=at("chevron-up",wA);const _A=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Cc=at("circle-alert",_A);const SA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Vw=at("circle-check-big",SA);const NA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],M0=at("circle-check",NA);const jA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9 17V7h4a3 3 0 0 1 0 6H9",key:"1dfk2c"}]],AA=at("circle-parking",jA);const EA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],S1=at("clock",EA);const CA=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],kA=at("credit-card",CA);const LA=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],TA=at("dollar-sign",LA);const OA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],RA=at("download",OA);const DA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],P0=at("external-link",DA);const MA=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Bh=at("eye-off",MA);const PA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Uh=at("eye",PA);const zA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],z0=at("file-text",zA);const BA=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ah=at("graduation-cap",BA);const UA=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],N1=at("grip-vertical",UA);const IA=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],eb=at("heart",IA);const qA=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],FA=at("house",qA);const HA=[["path",{d:"M5 3v14",key:"9nsxs2"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"M19 3v18",key:"1sk56x"}]],$A=at("kanban",HA);const GA=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],VA=at("layout-grid",GA);const WA=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],YA=at("list",WA);const KA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],lo=at("loader-circle",KA);const QA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],tb=at("lock-open",QA);const XA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],B0=at("lock",XA);const JA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ZA=at("log-out",JA);const e8=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ms=at("mail",e8);const t8=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],n8=at("map-pin",t8);const i8=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Eh=at("message-circle",i8);const a8=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],nb=at("moon",a8);const r8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ad=at("pen",r8);const s8=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],U0=at("phone",s8);const o8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ch=at("plus",o8);const l8=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ib=at("refresh-cw",l8);const c8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ap=at("save",c8);const u8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],d8=at("search",u8);const h8=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ab=at("send",h8);const f8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],p8=at("settings",f8);const m8=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],g8=at("sticky-note",m8);const v8=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],rb=at("sun",v8);const y8=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],b8=at("timer",y8);const w8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ep=at("trash-2",w8);const x8=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],_8=at("trending-up",x8);const S8=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ww=at("triangle-alert",S8);const N8=[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]],j8=at("tv",N8);const A8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Rr=at("user",A8);const E8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rd=at("users",E8);const C8=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],k8=at("utensils-crossed",C8);const L8=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],T8=at("utensils",L8);const O8=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Ko=at("video",O8);const R8=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],D8=at("wifi",R8);const M8=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],P8=at("wind",M8);const z8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$a=at("x",z8);const B8=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],U8=at("zap",B8);function I8({children:t}){const{user:e,loading:n,isAdmin:a}=w1();return n?h.jsxs("div",{className:"loading-screen",children:[h.jsx(lo,{size:32,className:"spin"}),h.jsx("p",{children:"Loading..."})]}):e?a?h.jsx(h.Fragment,{children:t}):h.jsxs("div",{className:"access-denied",children:[h.jsx("h1",{children:"Access Denied"}),h.jsxs("p",{children:["Your email (",e.email,") is not authorized to access this dashboard."]}),h.jsx("button",{onClick:()=>window.location.href="/login",children:"Sign in with a different account"})]}):h.jsx(bw,{to:"/login",replace:!0})}function I0({className:t=""}){const e=V.useRef(null);return V.useEffect(()=>{const n=e.current;if(!n)return;const a=n.getContext("2d");if(!a)return;let s;const o=[],u=40,c=30,f=()=>{n.width=window.innerWidth,n.height=window.innerHeight},p=()=>{o.length=0;const v=Math.ceil(n.width/u),_=Math.ceil(n.height/u);for(let b=0;b<c;b++)o.push({x:Math.floor(Math.random()*v)*u,y:Math.floor(Math.random()*_)*u,opacity:Math.random()*.08,fadeIn:Math.random()>.5,speed:5e-4+Math.random()*.001})},g=()=>{a.clearRect(0,0,n.width,n.height),a.strokeStyle="rgba(0, 0, 0, 0.04)",a.lineWidth=1;for(let b=0;b<=n.width;b+=u)a.beginPath(),a.moveTo(b+.5,0),a.lineTo(b+.5,n.height),a.stroke();for(let b=0;b<=n.height;b+=u)a.beginPath(),a.moveTo(0,b+.5),a.lineTo(n.width,b+.5),a.stroke();const v=Math.ceil(n.width/u),_=Math.ceil(n.height/u);o.forEach(b=>{b.fadeIn?(b.opacity+=b.speed,b.opacity>=.08&&(b.fadeIn=!1)):(b.opacity-=b.speed,b.opacity<=0&&(b.fadeIn=!0,b.x=Math.floor(Math.random()*v)*u,b.y=Math.floor(Math.random()*_)*u)),a.fillStyle=`rgba(0, 0, 0, ${Math.max(0,b.opacity)})`,a.fillRect(b.x+1,b.y+1,u-2,u-2)}),s=requestAnimationFrame(g)};return f(),p(),g(),window.addEventListener("resize",()=>{f(),p()}),()=>{cancelAnimationFrame(s),window.removeEventListener("resize",f)}},[]),h.jsx("canvas",{ref:e,className:t,style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",pointerEvents:"none",zIndex:0}})}const q8=[{to:"/action-center",icon:dA,label:"Action Center"},{to:"/pipeline",icon:$A,label:"Pipeline"},{to:"/people",icon:rd,label:"People"},{to:"/trainings",icon:Ra,label:"Trainings"},{to:"/courses",icon:Ah,label:"Courses"},{to:"/questions",icon:Eh,label:"Questions"},{to:"/settings",icon:p8,label:"Settings"}];function F8(){const{user:t,signOut:e}=w1(),n=dd(),a=async()=>{await e(),n("/login")};return h.jsxs("div",{className:"app-layout",children:[h.jsxs("aside",{className:"sidebar",children:[h.jsx("div",{className:"sidebar-header",children:h.jsx("img",{src:"/logo.svg",alt:"StepWise",className:"sidebar-logo"})}),h.jsx("nav",{className:"sidebar-nav",children:q8.map(({to:s,icon:o,label:u})=>h.jsxs(Sw,{to:s,className:({isActive:c})=>`nav-item ${c?"active":""}`,children:[h.jsx(o,{size:20}),h.jsx("span",{children:u})]},s))}),h.jsxs("div",{className:"sidebar-footer",children:[h.jsx("div",{className:"user-info",children:h.jsx("span",{className:"user-email",children:t?.email})}),h.jsxs("button",{onClick:a,className:"sign-out-btn",children:[h.jsx(ZA,{size:18}),h.jsx("span",{children:"Sign Out"})]})]})]}),h.jsxs("main",{className:"main-content",children:[h.jsx(I0,{}),h.jsx("div",{className:"main-content-inner",children:h.jsx(BS,{})})]})]})}function H8(){const[t,e]=V.useState(""),[n,a]=V.useState(""),[s,o]=V.useState(""),[u,c]=V.useState(!1),[f,p]=V.useState(!1),[g,v]=V.useState(!1),{user:_,signInWithMagicLink:b,signInWithPassword:j}=w1(),E=dd();V.useEffect(()=>{_&&E("/action-center",{replace:!0})},[_,E]);const T=async A=>{if(A.preventDefault(),o(""),c(!0),g){const{error:z}=await j(t,n);z&&o(z.message),c(!1)}else{const{error:z}=await b(t);z?(o(z.message),c(!1)):(p(!0),c(!1))}};return f?h.jsxs("div",{className:"login-page",children:[h.jsx(I0,{}),h.jsxs("div",{className:"login-card",children:[h.jsx("div",{className:"login-header",children:h.jsx("img",{src:"/logo.svg",alt:"StepWise",className:"login-logo"})}),h.jsxs("div",{className:"success-message",children:[h.jsx(Vw,{size:48,className:"success-icon"}),h.jsx("h2",{children:"Check your email"}),h.jsxs("p",{children:["We sent a login link to ",h.jsx("strong",{children:t})]}),h.jsx("p",{className:"hint",children:"Click the link in the email to sign in."})]})]})]}):h.jsxs("div",{className:"login-page",children:[h.jsx(I0,{}),h.jsxs("div",{className:"login-card",children:[h.jsxs("div",{className:"login-header",children:[h.jsx("img",{src:"/logo.svg",alt:"StepWise",className:"login-logo"}),h.jsx("h1",{children:"Admin Dashboard"}),h.jsx("p",{children:"Sign in to continue"})]}),h.jsxs("form",{onSubmit:T,className:"login-form",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"email",children:"Email"}),h.jsxs("div",{className:"input-with-icon",children:[h.jsx(Ms,{size:18}),h.jsx("input",{id:"email",type:"email",value:t,onChange:A=>e(A.target.value),placeholder:"you@example.com",required:!0,autoFocus:!0})]})]}),g&&h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"password",children:"Password"}),h.jsxs("div",{className:"input-with-icon",children:[h.jsx(B0,{size:18}),h.jsx("input",{id:"password",type:"password",value:n,onChange:A=>a(A.target.value),placeholder:"Your password",required:!0})]})]}),s&&h.jsx("div",{className:"error-message",children:s}),h.jsx("button",{type:"submit",className:"login-btn",disabled:u,children:u?h.jsxs(h.Fragment,{children:[h.jsx(lo,{size:18,className:"spin"}),g?"Signing in...":"Sending..."]}):g?"Sign In":"Send Magic Link"})]}),h.jsx("button",{type:"button",className:"toggle-login-method",onClick:()=>v(!g),children:g?"Use magic link instead":"Use password instead"}),h.jsx("p",{className:"login-note",children:"Only authorized administrators can access this dashboard."})]})]})}const Yw=6048e5,$8=864e5,Kf=43200,sb=1440,ob=Symbol.for("constructDateFrom");function Ps(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&ob in t?t[ob](e):t instanceof Date?new t.constructor(e):new Date(e)}function Vi(t,e){return Ps(e||t,t)}function Kw(t,e,n){const a=Vi(t,n?.in);return isNaN(e)?Ps(t,NaN):(a.setDate(a.getDate()+e),a)}let G8={};function Ih(){return G8}function kh(t,e){const n=Ih(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=Vi(t,e?.in),o=s.getDay(),u=(o<a?7:0)+o-a;return s.setDate(s.getDate()-u),s.setHours(0,0,0,0),s}function Cp(t,e){return kh(t,{...e,weekStartsOn:1})}function Qw(t,e){const n=Vi(t,e?.in),a=n.getFullYear(),s=Ps(n,0);s.setFullYear(a+1,0,4),s.setHours(0,0,0,0);const o=Cp(s),u=Ps(n,0);u.setFullYear(a,0,4),u.setHours(0,0,0,0);const c=Cp(u);return n.getTime()>=o.getTime()?a+1:n.getTime()>=c.getTime()?a:a-1}function kp(t){const e=Vi(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function qh(t,...e){const n=Ps.bind(null,t||e.find(a=>typeof a=="object"));return e.map(n)}function Lp(t,e){const n=Vi(t,e?.in);return n.setHours(0,0,0,0),n}function V8(t,e,n){const[a,s]=qh(n?.in,t,e),o=Lp(a),u=Lp(s),c=+o-kp(o),f=+u-kp(u);return Math.round((c-f)/$8)}function W8(t,e){const n=Qw(t,e),a=Ps(t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Cp(a)}function hp(t,e){const n=+Vi(t)-+Vi(e);return n<0?-1:n>0?1:n}function j1(t){return Ps(t,Date.now())}function Xw(t,e,n){const[a,s]=qh(n?.in,t,e);return+Lp(a)==+Lp(s)}function Y8(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function K8(t){return!(!Y8(t)&&typeof t!="number"||isNaN(+Vi(t)))}function Q8(t,e,n){const[a,s]=qh(n?.in,t,e),o=a.getFullYear()-s.getFullYear(),u=a.getMonth()-s.getMonth();return o*12+u}function X8(t){return e=>{const a=(t?Math[t]:Math.trunc)(e);return a===0?0:a}}function J8(t,e){return+Vi(t)-+Vi(e)}function Z8(t,e){const n=Vi(t,e?.in);return n.setHours(23,59,59,999),n}function eE(t,e){const n=Vi(t,e?.in),a=n.getMonth();return n.setFullYear(n.getFullYear(),a+1,0),n.setHours(23,59,59,999),n}function tE(t,e){const n=Vi(t,e?.in);return+Z8(n,e)==+eE(n,e)}function nE(t,e,n){const[a,s,o]=qh(n?.in,t,t,e),u=hp(s,o),c=Math.abs(Q8(s,o));if(c<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-u*c);let f=hp(s,o)===-u;tE(a)&&c===1&&hp(a,o)===1&&(f=!1);const p=u*(c-+f);return p===0?0:p}function iE(t,e,n){const a=J8(t,e)/1e3;return X8(n?.roundingMethod)(a)}function aE(t,e){const n=Vi(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const rE={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sE=(t,e,n)=>{let a;const s=rE[t];return typeof s=="string"?a=s:e===1?a=s.one:a=s.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Dg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const oE={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lE={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cE={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uE={date:Dg({formats:oE,defaultWidth:"full"}),time:Dg({formats:lE,defaultWidth:"full"}),dateTime:Dg({formats:cE,defaultWidth:"full"})},dE={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hE=(t,e,n,a)=>dE[t];function ih(t){return(e,n)=>{const a=n?.context?String(n.context):"standalone";let s;if(a==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):u;s=t.formattingValues[c]||t.formattingValues[u]}else{const u=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[u]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const fE={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pE={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mE={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gE={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bE=(t,e)=>{const n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},wE={ordinalNumber:bE,era:ih({values:fE,defaultWidth:"wide"}),quarter:ih({values:pE,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ih({values:mE,defaultWidth:"wide"}),day:ih({values:gE,defaultWidth:"wide"}),dayPeriod:ih({values:vE,defaultWidth:"wide",formattingValues:yE,defaultFormattingWidth:"wide"})};function ah(t){return(e,n={})=>{const a=n.width,s=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const u=o[0],c=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(c)?_E(c,v=>v.test(u)):xE(c,v=>v.test(u));let p;p=t.valueCallback?t.valueCallback(f):f,p=n.valueCallback?n.valueCallback(p):p;const g=e.slice(u.length);return{value:p,rest:g}}}function xE(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function _E(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function SE(t){return(e,n={})=>{const a=e.match(t.matchPattern);if(!a)return null;const s=a[0],o=e.match(t.parsePattern);if(!o)return null;let u=t.valueCallback?t.valueCallback(o[0]):o[0];u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(s.length);return{value:u,rest:c}}}const NE=/^(\d+)(th|st|nd|rd)?/i,jE=/\d+/i,AE={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},EE={any:[/^b/i,/^(a|c)/i]},CE={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kE={any:[/1/i,/2/i,/3/i,/4/i]},LE={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},TE={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},OE={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},RE={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},DE={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ME={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PE={ordinalNumber:SE({matchPattern:NE,parsePattern:jE,valueCallback:t=>parseInt(t,10)}),era:ah({matchPatterns:AE,defaultMatchWidth:"wide",parsePatterns:EE,defaultParseWidth:"any"}),quarter:ah({matchPatterns:CE,defaultMatchWidth:"wide",parsePatterns:kE,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ah({matchPatterns:LE,defaultMatchWidth:"wide",parsePatterns:TE,defaultParseWidth:"any"}),day:ah({matchPatterns:OE,defaultMatchWidth:"wide",parsePatterns:RE,defaultParseWidth:"any"}),dayPeriod:ah({matchPatterns:DE,defaultMatchWidth:"any",parsePatterns:ME,defaultParseWidth:"any"})},Jw={code:"en-US",formatDistance:sE,formatLong:uE,formatRelative:hE,localize:wE,match:PE,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zE(t,e){const n=Vi(t,e?.in);return V8(n,aE(n))+1}function BE(t,e){const n=Vi(t,e?.in),a=+Cp(n)-+W8(n);return Math.round(a/Yw)+1}function Zw(t,e){const n=Vi(t,e?.in),a=n.getFullYear(),s=Ih(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,u=Ps(e?.in||t,0);u.setFullYear(a+1,0,o),u.setHours(0,0,0,0);const c=kh(u,e),f=Ps(e?.in||t,0);f.setFullYear(a,0,o),f.setHours(0,0,0,0);const p=kh(f,e);return+n>=+c?a+1:+n>=+p?a:a-1}function UE(t,e){const n=Ih(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=Zw(t,e),o=Ps(e?.in||t,0);return o.setFullYear(s,0,a),o.setHours(0,0,0,0),kh(o,e)}function IE(t,e){const n=Vi(t,e?.in),a=+kh(n,e)-+UE(n,e);return Math.round(a/Yw)+1}function Ln(t,e){const n=t<0?"-":"",a=Math.abs(t).toString().padStart(e,"0");return n+a}const Dl={y(t,e){const n=t.getFullYear(),a=n>0?n:1-n;return Ln(e==="yy"?a%100:a,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ln(n+1,2)},d(t,e){return Ln(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ln(t.getHours()%12||12,e.length)},H(t,e){return Ln(t.getHours(),e.length)},m(t,e){return Ln(t.getMinutes(),e.length)},s(t,e){return Ln(t.getSeconds(),e.length)},S(t,e){const n=e.length,a=t.getMilliseconds(),s=Math.trunc(a*Math.pow(10,n-3));return Ln(s,e.length)}},zu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lb={G:function(t,e,n){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const a=t.getFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return Dl.y(t,e)},Y:function(t,e,n,a){const s=Zw(t,a),o=s>0?s:1-s;if(e==="YY"){const u=o%100;return Ln(u,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Ln(o,e.length)},R:function(t,e){const n=Qw(t);return Ln(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ln(n,e.length)},Q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Ln(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Ln(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,n){const a=t.getMonth();switch(e){case"M":case"MM":return Dl.M(t,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,n){const a=t.getMonth();switch(e){case"L":return String(a+1);case"LL":return Ln(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,n,a){const s=IE(t,a);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Ln(s,e.length)},I:function(t,e,n){const a=BE(t);return e==="Io"?n.ordinalNumber(a,{unit:"week"}):Ln(a,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Dl.d(t,e)},D:function(t,e,n){const a=zE(t);return e==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Ln(a,e.length)},E:function(t,e,n){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,n,a){const s=t.getDay(),o=(s-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Ln(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,a){const s=t.getDay(),o=(s-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Ln(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const a=t.getDay(),s=a===0?7:a;switch(e){case"i":return String(s);case"ii":return Ln(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const a=t.getHours();let s;switch(a===12?s=zu.noon:a===0?s=zu.midnight:s=a/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const a=t.getHours();let s;switch(a>=17?s=zu.evening:a>=12?s=zu.afternoon:a>=4?s=zu.morning:s=zu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let a=t.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Dl.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Dl.H(t,e)},K:function(t,e,n){const a=t.getHours()%12;return e==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Ln(a,e.length)},k:function(t,e,n){let a=t.getHours();return a===0&&(a=24),e==="ko"?n.ordinalNumber(a,{unit:"hour"}):Ln(a,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Dl.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Dl.s(t,e)},S:function(t,e){return Dl.S(t,e)},X:function(t,e,n){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return ub(a);case"XXXX":case"XX":return Nc(a);default:return Nc(a,":")}},x:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"x":return ub(a);case"xxxx":case"xx":return Nc(a);default:return Nc(a,":")}},O:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+cb(a,":");default:return"GMT"+Nc(a,":")}},z:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+cb(a,":");default:return"GMT"+Nc(a,":")}},t:function(t,e,n){const a=Math.trunc(+t/1e3);return Ln(a,e.length)},T:function(t,e,n){return Ln(+t,e.length)}};function cb(t,e=""){const n=t>0?"-":"+",a=Math.abs(t),s=Math.trunc(a/60),o=a%60;return o===0?n+String(s):n+String(s)+e+Ln(o,2)}function ub(t,e){return t%60===0?(t>0?"-":"+")+Ln(Math.abs(t)/60,2):Nc(t,e)}function Nc(t,e=""){const n=t>0?"-":"+",a=Math.abs(t),s=Ln(Math.trunc(a/60),2),o=Ln(a%60,2);return n+s+e+o}const db=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},ex=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},qE=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return db(t,e);let o;switch(a){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",db(a,e)).replace("{{time}}",ex(s,e))},FE={p:ex,P:qE},HE=/^D+$/,$E=/^Y+$/,GE=["D","DD","YY","YYYY"];function VE(t){return HE.test(t)}function WE(t){return $E.test(t)}function YE(t,e,n){const a=KE(t,e,n);if(console.warn(a),GE.includes(t))throw new RangeError(a)}function KE(t,e,n){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const QE=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,XE=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JE=/^'([^]*?)'?$/,ZE=/''/g,eC=/[a-zA-Z]/;function li(t,e,n){const a=Ih(),s=a.locale??Jw,o=a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,u=a.weekStartsOn??a.locale?.options?.weekStartsOn??0,c=Vi(t,n?.in);if(!K8(c))throw new RangeError("Invalid time value");let f=e.match(XE).map(g=>{const v=g[0];if(v==="p"||v==="P"){const _=FE[v];return _(g,s.formatLong)}return g}).join("").match(QE).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const v=g[0];if(v==="'")return{isToken:!1,value:tC(g)};if(lb[v])return{isToken:!0,value:g};if(v.match(eC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(f=s.localize.preprocessor(c,f));const p={firstWeekContainsDate:o,weekStartsOn:u,locale:s};return f.map(g=>{if(!g.isToken)return g.value;const v=g.value;(WE(v)||VE(v))&&YE(v,e,String(t));const _=lb[v[0]];return _(c,v,s.localize,p)}).join("")}function tC(t){const e=t.match(JE);return e?e[1].replace(ZE,"'"):t}function nC(t,e,n){const a=Ih(),s=n?.locale??a.locale??Jw,o=2520,u=hp(t,e);if(isNaN(u))throw new RangeError("Invalid time value");const c=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:u}),[f,p]=qh(n?.in,...u>0?[e,t]:[t,e]),g=iE(p,f),v=(kp(p)-kp(f))/1e3,_=Math.round((g-v)/60);let b;if(_<2)return n?.includeSeconds?g<5?s.formatDistance("lessThanXSeconds",5,c):g<10?s.formatDistance("lessThanXSeconds",10,c):g<20?s.formatDistance("lessThanXSeconds",20,c):g<40?s.formatDistance("halfAMinute",0,c):g<60?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",1,c):_===0?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",_,c);if(_<45)return s.formatDistance("xMinutes",_,c);if(_<90)return s.formatDistance("aboutXHours",1,c);if(_<sb){const j=Math.round(_/60);return s.formatDistance("aboutXHours",j,c)}else{if(_<o)return s.formatDistance("xDays",1,c);if(_<Kf){const j=Math.round(_/sb);return s.formatDistance("xDays",j,c)}else if(_<Kf*2)return b=Math.round(_/Kf),s.formatDistance("aboutXMonths",b,c)}if(b=nE(p,f),b<12){const j=Math.round(_/Kf);return s.formatDistance("xMonths",j,c)}else{const j=b%12,E=Math.trunc(b/12);return j<3?s.formatDistance("aboutXYears",E,c):j<9?s.formatDistance("overXYears",E,c):s.formatDistance("almostXYears",E+1,c)}}function Yu(t,e){return nC(t,j1(t),e)}function Ku(t){return+Vi(t)<Date.now()}function Qf(t,e){return Xw(Ps(t,t),j1(t))}function hb(t,e){return Xw(t,Kw(j1(t),1),e)}const iC="https://ybludwecmqghoheotzzz.supabase.co",aC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlibHVkd2VjbXFnaG9oZW90enp6Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDQzMjgzMywiZXhwIjoyMDg2MDA4ODMzfQ.1356D5Jb1NDT62Jj5liz7i1iPOYTILF90_7tht0inC8",dt=qw(iC,aC,{auth:{autoRefreshToken:!1,persistSession:!1}}),Gi=["lead","chemistry_call","application","interview","payment","onboarding","complete"],ho={lead:"Lead",chemistry_call:"Chemistry Call",application:"Application",interview:"Interview",payment:"Payment",onboarding:"Onboarding",complete:"Complete"},Ci={lead:"#EF4444",chemistry_call:"#F97316",application:"#F59E0B",interview:"#84CC16",payment:"#14B8A6",onboarding:"#0EA5E9",complete:"#6366F1"},rC={"1952aca4-ef44-4294-bd63-a467cd800497":"#8B5CF6","c626109f-11a4-4549-991e-022727300feb":"#F59E0B","9175fc79-e6ae-43b3-9b69-31b863133ebd":"#10B981","8b277bc1-b8ca-43e7-a924-6f64c073016c":"#3B82F6","9d937387-e9e1-4720-9149-aaedaec3fcc8":"#EC4899"},fb="#94A3B8";function Xf(t){return t&&rC[t]||fb}function sC(){return ki({queryKey:["reminders","active"],queryFn:async()=>{const t=new Date().toISOString(),{data:e,error:n}=await dt.from("reminders").select("*, applicants(name, email), trainings(name)").eq("completed",!1).or(`snoozed_until.is.null,snoozed_until.lt.${t}`).order("due_date",{ascending:!0});if(n)throw n;return e}})}function oC(){const t=Vn();return ui({mutationFn:async e=>{const{data:n,error:a}=await dt.from("reminders").update({completed:!0}).eq("id",e).select().single();if(a)throw a;return n},onSuccess:()=>{t.invalidateQueries({queryKey:["reminders"]})}})}function lC(){const t=Vn();return ui({mutationFn:async({id:e,until:n})=>{const{data:a,error:s}=await dt.from("reminders").update({snoozed_until:n.toISOString()}).eq("id",e).select().single();if(s)throw s;return a},onSuccess:()=>{t.invalidateQueries({queryKey:["reminders"]})}})}function A1(t){return ki({queryKey:["applicants",t],queryFn:async()=>{let e=dt.from("applicants").select("*, trainings(name, start_date)").order("created_at",{ascending:!1});const{data:n,error:a}=await e;if(a)throw a;const s=n?.map(c=>c.email).filter(Boolean)||[];let o={};if(s.length>0){const{data:c}=await dt.from("applications").select("email, signal_handle").in("email",s);o=(c||[]).reduce((f,p)=>(f[p.email]={signal_handle:p.signal_handle},f),{})}return n?.map(c=>({...c,signal_handle:c.email&&o[c.email]?.signal_handle||null}))}})}function cC(t){return ki({queryKey:["applicant",t],queryFn:async()=>{const{data:e,error:n}=await dt.from("applicants").select("*, trainings(*)").eq("id",t).single();if(n)throw n;return e},enabled:!!t})}function uC(t){return ki({queryKey:["application",t],queryFn:async()=>{if(!t)return null;const{data:e,error:n}=await dt.from("applications").select("*").eq("email",t).maybeSingle();if(n)throw n;return e},enabled:!!t})}function dC(){const t=Vn();return ui({mutationFn:async({id:e,updates:n})=>{const{data:a,error:s}=await dt.from("applicants").update({...n,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)throw s;return a},onSuccess:e=>{t.invalidateQueries({queryKey:["applicants"]}),t.invalidateQueries({queryKey:["applicant",e.id]})}})}function hC(){const t=Vn();return ui({mutationFn:async({id:e,updates:n})=>{const{data:a,error:s}=await dt.from("applications").update({...n,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)throw s;return a},onSuccess:e=>{t.invalidateQueries({queryKey:["application",e.email]})}})}function tx(){const t=Vn();return ui({mutationFn:async({id:e,stage:n})=>{const{data:a,error:s}=await dt.from("applicants").select("email, pipeline_stage").eq("id",e).single();if(s)throw s;const{data:o,error:u}=await dt.from("applicants").update({pipeline_stage:n,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(u)throw u;const c=["lead","chemistry_call","application","interview"],f=a.pipeline_stage;if(n==="payment"&&c.includes(f)&&a.email)try{const{data:p}=await dt.from("applications").select("user_id").eq("email",a.email).maybeSingle();if(p?.user_id){const{data:g}=await dt.from("courses").select("id").eq("slug","beginning").single();if(g){await dt.from("user_course_access").upsert({user_id:p.user_id,course_id:g.id,granted_at:new Date().toISOString()},{onConflict:"user_id,course_id"}),console.log("Auto-granted Beginning course access for",a.email);try{await dt.functions.invoke("send-course-access-email",{body:{user_id:p.user_id,email:a.email,course_name:"Beginning"}}),console.log("Course access email sent to",a.email)}catch(v){console.error("Failed to send course access email:",v)}}}}catch(p){console.error("Failed to auto-grant course access:",p)}return o},onMutate:async({id:e,stage:n})=>{await t.cancelQueries({queryKey:["applicants-by-stage"]});const a=t.getQueryData(["applicants-by-stage"]);if(console.log("onMutate called",{id:e,stage:n,hasPreviousData:!!a}),a){const s=JSON.parse(JSON.stringify(a));let o,u;for(const c of Object.keys(s)){const f=s[c].findIndex(p=>p.id===e);if(f!==-1){u=c,o={...s[c][f],pipeline_stage:n},s[c].splice(f,1),console.log("Found applicant in stage",u,"moving to",n);break}}o&&u!==n&&(s[n].unshift(o),console.log("Setting new query data"),t.setQueryData(["applicants-by-stage"],s))}return{previousData:a}},onError:(e,n,a)=>{a?.previousData&&t.setQueryData(["applicants-by-stage"],a.previousData)},onSuccess:()=>{setTimeout(()=>{t.invalidateQueries({queryKey:["applicants-by-stage"]}),t.invalidateQueries({queryKey:["applicants"]})},500)}})}function fC(){const t=Vn();return ui({mutationFn:async e=>{const{data:n,error:a}=await dt.from("applicants").select("email, training_id").eq("id",e).single();if(a)throw a;if(n.email){const{data:o}=await dt.from("applications").select("id, user_id").eq("email",n.email).maybeSingle();o&&(await dt.from("room_reservations").delete().eq("application_id",o.id),await dt.from("meal_selections").delete().eq("user_id",o.user_id),await dt.from("user_course_access").delete().eq("user_id",o.user_id),await dt.from("applications").delete().eq("id",o.id))}const{error:s}=await dt.from("applicants").delete().eq("id",e);if(s)throw s;return e},onSuccess:()=>{t.invalidateQueries({queryKey:["applicants"]}),t.invalidateQueries({queryKey:["applicants-by-stage"]})}})}function pC(){return ki({queryKey:["applicants-by-stage"],queryFn:async()=>{const{data:t,error:e}=await dt.from("applicants").select("*, trainings(name)").order("updated_at",{ascending:!1});if(e)throw e;const n={lead:[],chemistry_call:[],application:[],interview:[],payment:[],onboarding:[],complete:[]};for(const a of t||[]){const s=a.pipeline_stage||"lead";n[s]&&n[s].push(a)}return n}})}function Kp(){return ki({queryKey:["trainings"],queryFn:async()=>{const{data:t,error:e}=await dt.from("trainings").select("*").order("start_date",{ascending:!0});if(e)throw e;return t}})}function mC(){const t=Vn();return ui({mutationFn:async({id:e,updates:n})=>{const{data:a,error:s}=await dt.from("trainings").update(n).eq("id",e).select().single();if(s)throw s;return a},onSuccess:()=>{t.invalidateQueries({queryKey:["trainings"]})}})}function gC(){const t=Vn();return ui({mutationFn:async e=>{const{data:n,error:a}=await dt.from("trainings").insert(e).select().single();if(a)throw a;return n},onSuccess:()=>{t.invalidateQueries({queryKey:["trainings"]})}})}const vC={chemistry_call:"",interview:""};function nx(){const t=localStorage.getItem("calendly_connection");if(!t)return console.log("Calendly: No saved connection in localStorage"),null;try{const e=JSON.parse(t);console.log("Calendly: Connection found, expires_at:",e.expires_at,"now:",Date.now());const n=e.expires_at>9999999999?e.expires_at:e.expires_at*1e3;return n&&n<Date.now()?(console.log("Calendly: Token expired"),null):(console.log("Calendly: Token valid, user_uri:",e.user_uri),e)}catch(e){return console.error("Calendly: Error parsing connection",e),null}}const yC=vC;async function ix(t){const e=nx();if(!e)throw new Error("Calendly not connected. Please connect in Settings.");console.log("Calendly: Fetching",t);const n=await fetch(`https://api.calendly.com${t}`,{headers:{Authorization:`Bearer ${e.access_token}`,"Content-Type":"application/json"}});if(!n.ok){const a=await n.text();throw console.error("Calendly API error:",n.status,a),new Error(`Calendly API error: ${n.status} - ${a}`)}return n.json()}async function bC(){const t=nx();if(!t)return console.log("Calendly: No connection found"),[];console.log("Calendly: Fetching events for user:",t.user_uri);const e=new Date().toISOString();try{const n=await ix(`/scheduled_events?user=${t.user_uri}&status=active&min_start_time=${e}&sort=start_time:asc&count=20`);console.log("Calendly: Raw response:",n);const a=n.collection||[];return a.forEach(s=>console.log("Calendly event:",s.name,"status:",s.status,"start:",s.start_time)),a.filter(s=>s.status==="active")}catch(n){return console.error("Calendly: Error fetching events:",n),[]}}async function wC(t){const e=t.split("/").pop();return((await ix(`/scheduled_events/${e}/invitees?status=active`)).collection||[]).filter(s=>s.status==="active")}async function xC(){console.log("Calendly: getUpcomingEventsWithInvitees called");const t=await bC();return console.log("Calendly: Got",t.length,"events"),t.length===0?[]:await Promise.all(t.map(async n=>{try{const a=await wC(n.uri);return console.log("Calendly: Event",n.name,"has invitees:",a),{...n,invitee:a[0]}}catch(a){return console.error("Calendly: Error fetching invitees for",n.name,a),{...n,invitee:void 0}}}))}function _C(){return ki({queryKey:["calendly-events"],queryFn:async()=>{try{const t=await xC();return console.log("Calendly events fetched:",t),t}catch(t){return console.error("Calendly fetch error:",t),[]}},refetchInterval:6e4,staleTime:3e4})}const ax="https://ybludwecmqghoheotzzz.supabase.co";function SC(){const t=localStorage.getItem("google_calendar_connection");if(!t)return null;try{return JSON.parse(t)}catch{return null}}async function NC(){const t=SC();if(!t)return null;if(t.expires_at<Date.now()+300*1e3){if(!t.refresh_token)return null;try{const e=await fetch(`${ax}/functions/v1/google-calendar-oauth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:t.refresh_token})});if(!e.ok)return null;const n=await e.json(),a={...t,access_token:n.access_token,expires_at:n.expires_at};return localStorage.setItem("google_calendar_connection",JSON.stringify(a)),n.access_token}catch{return null}}return t.access_token}async function jC(){const t=await NC();if(!t)return[];try{const e=await fetch(`${ax}/functions/v1/google-calendar-oauth/events`,{headers:{Authorization:`Bearer ${t}`}});return e.ok?(await e.json()).items||[]:(console.error("Google Calendar API error:",await e.text()),[])}catch(e){return console.error("Failed to fetch Google Calendar events:",e),[]}}function AC(){localStorage.removeItem("google_calendar_connection")}function EC(){return ki({queryKey:["google-calendar-events"],queryFn:async()=>{const t=await jC();return console.log("Google Calendar events fetched:",t),t},refetchInterval:6e4,staleTime:3e4})}function CC(){const{data:t}=sC(),{data:e}=A1(),{data:n}=Kp(),{data:a}=_C(),{data:s}=EC(),o=oC(),u=lC(),{data:c}=ki({queryKey:["pending_questions"],queryFn:async()=>{const{data:k,error:I}=await dt.from("participant_questions").select(`
          *,
          application:applications(id, first_name, last_name, email, preferred_name)
        `).eq("status","pending").order("created_at",{ascending:!1}).limit(5);if(I)throw I;return k}}),{data:f}=ki({queryKey:["recent_discussions"],queryFn:async()=>{const{data:k,error:I}=await dt.from("course_discussions").select(`
          id,
          lesson_id,
          user_id,
          content,
          created_at,
          lesson:course_lessons(
            id,
            title,
            module:course_modules(
              id,
              title,
              course:courses(id, name)
            )
          )
        `).is("parent_id",null).order("created_at",{ascending:!1}).limit(5);if(I)throw I;const te=k.map(ve=>ve.user_id).filter(Boolean),{data:J}=await dt.from("applications").select("id, first_name, last_name, email, preferred_name, user_id").in("user_id",te);return k.map(ve=>{const fe=Array.isArray(ve.lesson)?ve.lesson[0]:ve.lesson,F=fe?.module?Array.isArray(fe.module)?fe.module[0]:fe.module:void 0,L=F?.course?Array.isArray(F.course)?F.course[0]:F.course:void 0;return{id:ve.id,lesson_id:ve.lesson_id,user_id:ve.user_id,content:ve.content,created_at:ve.created_at,lesson:fe?{id:fe.id,title:fe.title,module:F?{id:F.id,title:F.title,course:L?{id:L.id,name:L.name}:void 0}:void 0}:void 0,application:J?.find(B=>B.user_id===ve.user_id)}})}}),p=k=>!k||!e?null:e.find(I=>I.email?.toLowerCase()===k.toLowerCase()),g=k=>{if(!k||!e)return null;const I=k.toLowerCase();return e.find(te=>te.name?.toLowerCase()===I)},v=a?.map(k=>{const I=p(k.invitee?.email)||g(k.invitee?.name),te=k.location,J=te?.join_url||te?.joinUrl||te?.data?.join_url||te?.location;return console.log("Calendly call:",k.name,"location:",JSON.stringify(te),"extracted meetingLink:",J),{id:k.uri,title:k.name,startTime:new Date(k.start_time),endTime:new Date(k.end_time),type:"calendly",attendeeEmail:k.invitee?.email,attendeeName:k.invitee?.name,meetingLink:J,applicantId:I?.id}})||[],_=new Set(v.map(k=>Math.floor(k.startTime.getTime()/6e4))),b=(s||[]).filter(k=>{if(k.summary?.toLowerCase().includes("canceled"))return console.log("Skipping Canceled event:",k.summary),!1;const I=new Date(k.start.dateTime||k.start.date||""),te=Math.floor(I.getTime()/6e4);return _.has(te)?(console.log("Deduping Google event (matches Calendly time):",k.summary,I),!1):!0}).map(k=>{const I=k.attendees?.find(fe=>fe.responseStatus!=="organizer"&&!fe.email?.includes("laelaml")),te=I?.email||k.attendees?.[0]?.email,J=I?.displayName||k.attendees?.[0]?.displayName||k.summary,ve=p(te)||g(J);return{id:k.id,title:k.summary||"Untitled",startTime:new Date(k.start.dateTime||k.start.date||""),endTime:k.end.dateTime?new Date(k.end.dateTime):void 0,type:"google",attendeeEmail:te,attendeeName:J,meetingLink:k.hangoutLink||k.conferenceData?.entryPoints?.[0]?.uri,applicantId:ve?.id}}),j=[...v,...b].sort((k,I)=>k.startTime.getTime()-I.startTime.getTime()),E=t?.filter(k=>Ku(new Date(k.due_date)))||[],T=t?.filter(k=>Qf(new Date(k.due_date)))||[],A=t?.filter(k=>!Ku(new Date(k.due_date))&&!Qf(new Date(k.due_date)))||[],z=e?.filter(k=>{if(k.pipeline_stage!=="lead")return!1;const I=new Date(k.created_at||"");return(Date.now()-I.getTime())/(1e3*60*60*24)>7})||[],D=e?.filter(k=>k.pipeline_stage==="payment"&&k.payment_status==="Unpaid")||[],P=n?.filter(k=>k.start_date?new Date(k.start_date).getTime()>Date.now():!1).slice(0,3)||[],se=k=>e?e.filter(I=>I.training_id===k&&["payment","onboarding","complete"].includes(I.pipeline_stage||"")).length:0,he=j.filter(k=>Qf(k.startTime)),oe=j.filter(k=>hb(k.startTime)),ee=j.filter(k=>!Qf(k.startTime)&&!hb(k.startTime)),X=k=>{o.mutate(k)},pe=(k,I)=>{u.mutate({id:k,until:Kw(new Date,I)})},U=["lead","chemistry_call","application","interview","approval","payment","onboarding","complete"].map(k=>({stage:k,count:e?.filter(I=>I.pipeline_stage===k).length||0})),Y=U.slice(0,-1).reduce((k,I)=>k+I.count,0),le=[...E.map(k=>({type:"overdue",item:k})),...z.map(k=>({type:"stale",item:k})),...D.map(k=>({type:"payment",item:k}))].slice(0,6),ue=E.length+z.length+D.length+(c?.length||0);return h.jsxs("div",{className:"action-center-redesign",children:[h.jsxs("div",{className:"stats-hero",children:[h.jsxs("div",{className:"stat-hero-item",children:[h.jsx("div",{className:"stat-icon urgent",children:h.jsx(U8,{size:20})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("span",{className:"stat-value",children:ue}),h.jsx("span",{className:"stat-label",children:"Needs Attention"})]})]}),h.jsxs("div",{className:"stat-hero-item",children:[h.jsx("div",{className:"stat-icon meetings",children:h.jsx(Ko,{size:20})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("span",{className:"stat-value",children:he.length}),h.jsx("span",{className:"stat-label",children:"Today's Calls"})]})]}),h.jsxs("div",{className:"stat-hero-item",children:[h.jsx("div",{className:"stat-icon pipeline",children:h.jsx(rd,{size:20})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("span",{className:"stat-value",children:Y}),h.jsx("span",{className:"stat-label",children:"Active Pipeline"})]})]}),h.jsxs("div",{className:"stat-hero-item",children:[h.jsx("div",{className:"stat-icon revenue",children:h.jsx(TA,{size:20})}),h.jsxs("div",{className:"stat-content",children:[h.jsx("span",{className:"stat-value",children:D.length}),h.jsx("span",{className:"stat-label",children:"Pending Payments"})]})]})]}),h.jsxs("div",{className:"action-grid",children:[h.jsxs("div",{className:"priority-column",children:[he.length>0&&h.jsxs("section",{className:"action-section meetings-today",children:[h.jsxs("div",{className:"section-header",children:[h.jsxs("div",{className:"header-left",children:[h.jsx(Ko,{className:"section-icon",size:18}),h.jsx("h2",{children:"Today's Meetings"})]}),h.jsx("span",{className:"count-badge green",children:he.length})]}),h.jsx("div",{className:"meeting-list",children:he.map(k=>h.jsxs("div",{className:"meeting-item",children:[h.jsx("div",{className:"meeting-time",children:li(k.startTime,"h:mm a")}),h.jsxs("div",{className:"meeting-details",children:[h.jsx("span",{className:"meeting-name",children:k.attendeeName||k.title}),h.jsx("span",{className:"meeting-type",children:k.title})]}),h.jsxs("div",{className:"meeting-actions",children:[k.meetingLink&&h.jsxs("a",{href:k.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"btn-join",children:["Join ",h.jsx(P0,{size:12})]}),k.applicantId&&h.jsx(oi,{to:`/people/${k.applicantId}`,className:"btn-profile",children:h.jsx(Rr,{size:14})})]})]},k.id))})]}),le.length>0&&h.jsxs("section",{className:"action-section urgent-section",children:[h.jsxs("div",{className:"section-header",children:[h.jsxs("div",{className:"header-left",children:[h.jsx(Cc,{className:"section-icon urgent",size:18}),h.jsx("h2",{children:"Needs Attention"})]}),h.jsx("span",{className:"count-badge red",children:E.length+z.length+D.length})]}),h.jsx("div",{className:"urgent-list-compact",children:le.map(k=>{if(k.type==="overdue"){const I=k.item;return h.jsxs("div",{className:"urgent-row overdue",children:[h.jsx("span",{className:"urgent-tag",children:"Overdue"}),h.jsx("span",{className:"urgent-name",children:I.title}),h.jsxs("span",{className:"urgent-meta",children:[Yu(new Date(I.due_date))," ago"]}),h.jsxs("div",{className:"urgent-row-actions",children:[h.jsx("button",{onClick:()=>X(I.id),className:"btn-mini done",children:h.jsx(M0,{size:12})}),h.jsx("button",{onClick:()=>pe(I.id,1),className:"btn-mini snooze",children:h.jsx(b8,{size:12})})]})]},`overdue-${I.id}`)}else if(k.type==="stale"){const I=k.item;return h.jsxs("div",{className:"urgent-row stale",children:[h.jsx("span",{className:"urgent-tag stale",children:"Stale"}),h.jsx(oi,{to:`/people/${I.id}`,className:"urgent-name link",children:I.name}),h.jsxs("span",{className:"urgent-meta",children:[Yu(new Date(I.created_at||""))," old"]}),h.jsxs("div",{className:"urgent-row-actions",children:[I.email&&h.jsx("a",{href:`mailto:${I.email}`,className:"btn-mini",children:h.jsx(Ms,{size:12})}),h.jsx(oi,{to:`/people/${I.id}`,className:"btn-mini",children:h.jsx(Pc,{size:12})})]})]},`stale-${I.id}`)}else{const I=k.item;return h.jsxs("div",{className:"urgent-row payment",children:[h.jsx("span",{className:"urgent-tag payment",children:"Payment"}),h.jsx(oi,{to:`/people/${I.id}`,className:"urgent-name link",children:I.name}),h.jsx("span",{className:"urgent-meta",children:"Awaiting payment"}),h.jsx("div",{className:"urgent-row-actions",children:h.jsx(oi,{to:`/people/${I.id}`,className:"btn-mini",children:h.jsx(Pc,{size:12})})})]},`payment-${I.id}`)}})})]}),h.jsxs("section",{className:"action-section schedule-section",children:[h.jsx("div",{className:"section-header",children:h.jsxs("div",{className:"header-left",children:[h.jsx(Ra,{className:"section-icon",size:18}),h.jsx("h2",{children:"Coming Up"})]})}),h.jsxs("div",{className:"schedule-list-integrated",children:[oe.length>0&&h.jsxs("div",{className:"schedule-group",children:[h.jsx("span",{className:"schedule-day",children:"Tomorrow"}),oe.slice(0,4).map(k=>h.jsxs("div",{className:"schedule-row",children:[h.jsx("span",{className:"schedule-time",children:li(k.startTime,"h:mm a")}),h.jsx("span",{className:"schedule-name",children:k.attendeeName||k.title}),h.jsxs("div",{className:"schedule-actions",children:[k.meetingLink&&h.jsx("a",{href:k.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"schedule-join-btn",children:h.jsx(Ko,{size:12})}),k.applicantId&&h.jsx(oi,{to:`/people/${k.applicantId}`,className:"schedule-user-link",children:h.jsx(Rr,{size:12})})]})]},k.id))]}),ee.length>0&&h.jsxs("div",{className:"schedule-group",children:[h.jsx("span",{className:"schedule-day",children:"This Week"}),ee.slice(0,5).map(k=>h.jsxs("div",{className:"schedule-row",children:[h.jsx("span",{className:"schedule-date",children:li(k.startTime,"EEE, MMM d")}),h.jsx("span",{className:"schedule-name",children:k.attendeeName||k.title}),h.jsxs("div",{className:"schedule-actions",children:[k.meetingLink&&h.jsx("a",{href:k.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"schedule-join-btn",children:h.jsx(Ko,{size:12})}),k.applicantId&&h.jsx(oi,{to:`/people/${k.applicantId}`,className:"schedule-user-link",children:h.jsx(Rr,{size:12})})]})]},k.id))]}),A.length>0&&h.jsxs("div",{className:"schedule-group",children:[h.jsx("span",{className:"schedule-day",children:"Reminders"}),A.slice(0,4).map(k=>h.jsxs("div",{className:"schedule-row reminder",children:[h.jsx("span",{className:"schedule-date",children:li(new Date(k.due_date),"MMM d")}),h.jsx("span",{className:"schedule-name",children:k.title}),k.applicant_id&&h.jsx(oi,{to:`/people/${k.applicant_id}`,className:"schedule-user-link",children:h.jsx(Rr,{size:12})})]},k.id))]}),oe.length===0&&ee.length===0&&A.length===0&&h.jsxs("div",{className:"empty-schedule",children:[h.jsx(Ra,{size:24}),h.jsx("span",{children:"No upcoming events"})]})]})]}),T.length>0&&h.jsxs("section",{className:"action-section today-section",children:[h.jsxs("div",{className:"section-header",children:[h.jsxs("div",{className:"header-left",children:[h.jsx(S1,{className:"section-icon",size:18}),h.jsx("h2",{children:"Today's Tasks"})]}),h.jsx("span",{className:"count-badge",children:T.length})]}),h.jsx("div",{className:"reminder-list",children:T.map(k=>h.jsxs("div",{className:"reminder-item",children:[h.jsx("div",{className:"reminder-type",children:k.reminder_type}),h.jsxs("div",{className:"reminder-content",children:[h.jsx("h4",{children:k.title}),k.applicants&&h.jsxs(oi,{to:`/people/${k.applicant_id}`,className:"person-link",children:[h.jsx(Rr,{size:12})," ",k.applicants.name]})]}),h.jsx("button",{onClick:()=>X(k.id),className:"btn-check",children:h.jsx(M0,{size:16})})]},k.id))})]})]}),h.jsxs("div",{className:"overview-column",children:[c&&c.length>0&&h.jsxs("section",{className:"action-section questions-section",children:[h.jsxs("div",{className:"section-header",children:[h.jsxs("div",{className:"header-left",children:[h.jsx(Eh,{className:"section-icon",size:18}),h.jsx("h2",{children:"Portal Questions"})]}),h.jsxs(oi,{to:"/questions",className:"view-all",children:["View all ",h.jsx(Rg,{size:14})]})]}),h.jsx("div",{className:"questions-list",children:c.map(k=>h.jsxs("div",{className:"question-item",children:[h.jsxs("div",{className:"question-meta",children:[h.jsxs(oi,{to:`/people/${k.application_id}`,className:"question-author",children:[k.application?.preferred_name||k.application?.first_name," ",k.application?.last_name]}),h.jsx("span",{className:"question-time",children:Yu(new Date(k.created_at),{addSuffix:!0})})]}),h.jsx("p",{className:"question-text",children:k.question}),h.jsxs("a",{href:`mailto:${k.application?.email}?subject=Re: Your StepWise Question&body=Hi ${k.application?.preferred_name||k.application?.first_name},

`,className:"btn-reply",children:[h.jsx(Ms,{size:14})," Reply"]})]},k.id))})]}),f&&f.length>0&&h.jsxs("section",{className:"action-section discussions-section",children:[h.jsxs("div",{className:"section-header",children:[h.jsxs("div",{className:"header-left",children:[h.jsx(x1,{className:"section-icon",size:18}),h.jsx("h2",{children:"Course Discussions"})]}),h.jsx("span",{className:"count-badge",children:f.length})]}),h.jsx("div",{className:"discussions-list",children:f.map(k=>h.jsxs("div",{className:"discussion-item",children:[h.jsxs("div",{className:"discussion-meta",children:[k.application?h.jsxs(oi,{to:`/people/${k.application.id}`,className:"discussion-author",children:[k.application.preferred_name||k.application.first_name," ",k.application.last_name]}):h.jsx("span",{className:"discussion-author",children:"Anonymous"}),h.jsx("span",{className:"discussion-time",children:Yu(new Date(k.created_at),{addSuffix:!0})})]}),h.jsx("p",{className:"discussion-text",children:k.content}),h.jsxs("span",{className:"discussion-lesson",children:[k.lesson?.module?.course?.name," / ",k.lesson?.title]})]},k.id))})]}),h.jsxs("section",{className:"action-section pipeline-overview",children:[h.jsxs("div",{className:"section-header",children:[h.jsxs("div",{className:"header-left",children:[h.jsx(_8,{className:"section-icon",size:18}),h.jsx("h2",{children:"Pipeline"})]}),h.jsxs(oi,{to:"/pipeline",className:"view-all",children:["Open ",h.jsx(Rg,{size:14})]})]}),h.jsx("div",{className:"pipeline-bars",children:U.map(({stage:k,count:I})=>h.jsxs(oi,{to:"/pipeline",className:"pipeline-bar-row",children:[h.jsx("span",{className:"stage-name",children:ho[k]}),h.jsx("div",{className:"bar-container",children:h.jsx("div",{className:"bar-fill",style:{width:`${Math.min(I/Math.max(...U.map(te=>te.count),1)*100,100)}%`,backgroundColor:Ci[k]}})}),h.jsx("span",{className:"stage-count",style:{color:Ci[k]},children:I})]},k))})]}),P.length>0&&h.jsxs("section",{className:"action-section trainings-section",children:[h.jsxs("div",{className:"section-header",children:[h.jsxs("div",{className:"header-left",children:[h.jsx(rd,{className:"section-icon",size:18}),h.jsx("h2",{children:"Upcoming Trainings"})]}),h.jsxs(oi,{to:"/trainings",className:"view-all",children:["All ",h.jsx(Rg,{size:14})]})]}),h.jsx("div",{className:"trainings-list",children:P.map(k=>{const I=new Date(k.start_date),te=Math.ceil((I.getTime()-Date.now())/(1e3*60*60*24)),J=te<=14?"urgent":te<=30?"soon":"later",ve=te<=14?`${te}d`:te<=30?`${Math.ceil(te/7)}w`:"";return h.jsxs("div",{className:`training-item ${J}`,children:[h.jsxs("div",{className:`training-date ${J}`,children:[h.jsx("span",{className:"month",children:li(I,"MMM")}),h.jsx("span",{className:"day",children:li(I,"d")}),ve&&h.jsx("span",{className:"urgency-badge",children:ve})]}),h.jsxs("div",{className:"training-info",children:[h.jsx("h4",{children:k.name}),h.jsxs("div",{className:"training-meta",children:[h.jsxs("span",{className:"capacity",children:[se(k.id)," / ",k.max_capacity||6," enrolled"]}),h.jsx("span",{className:`status-pill ${J}`,children:te<=14?"Imminent":te<=30?"Upcoming":"Scheduled"})]})]}),h.jsx("div",{className:`urgency-indicator ${J}`})]},k.id)})})]})]})]}),h.jsx("style",{children:`
        .action-center-redesign {
          padding: 24px;
          max-width: 1400px;
          margin: 0 auto;
        }

        /* Hero Stats */
        .stats-hero {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 16px;
          margin-bottom: 24px;
        }

        .stat-hero-item {
          display: flex;
          align-items: center;
          gap: 14px;
          padding: 20px;
          background: white;
          border-radius: 12px;
          border: 1px solid #eee;
        }

        .stat-icon {
          width: 44px;
          height: 44px;
          border-radius: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .stat-icon.urgent { background: #FEE2E2; color: #DC2626; }
        .stat-icon.meetings { background: #DBEAFE; color: #2563EB; }
        .stat-icon.pipeline { background: #D1FAE5; color: #059669; }
        .stat-icon.revenue { background: #FEF3C7; color: #D97706; }

        .stat-content {
          display: flex;
          flex-direction: column;
        }

        .stat-value {
          font-size: 28px;
          font-weight: 700;
          color: #1a1a1a;
          line-height: 1;
        }

        .stat-label {
          font-size: 13px;
          color: #666;
          margin-top: 4px;
        }

        /* Grid Layout */
        .action-grid {
          display: grid;
          grid-template-columns: 1fr 380px;
          gap: 24px;
        }

        .priority-column, .overview-column {
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        /* Sections */
        .action-section {
          background: white;
          border-radius: 12px;
          border: 1px solid #eee;
          overflow: hidden;
        }

        .section-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 14px 16px;
          border-bottom: 1px solid #f5f5f5;
        }

        .header-left {
          display: flex;
          align-items: center;
          gap: 10px;
        }

        .header-left h2 {
          font-size: 14px;
          font-weight: 600;
          color: #1a1a1a;
          margin: 0;
        }

        .section-icon {
          color: #666;
        }

        .section-icon.urgent {
          color: #DC2626;
        }

        .count-badge {
          font-size: 11px;
          font-weight: 600;
          padding: 3px 8px;
          border-radius: 10px;
          background: #f5f5f5;
          color: #666;
        }

        .count-badge.red { background: #FEE2E2; color: #DC2626; }
        .count-badge.green { background: #D1FAE5; color: #059669; }

        .view-all {
          display: flex;
          align-items: center;
          gap: 4px;
          font-size: 12px;
          color: #7c3aed;
          text-decoration: none;
        }

        .view-all:hover {
          color: #6d28d9;
        }

        /* Meetings */
        .meeting-list {
          padding: 6px;
        }

        .meeting-item {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 10px;
          border-radius: 8px;
          transition: background 0.15s;
        }

        .meeting-item:hover {
          background: #f9f9f9;
        }

        .meeting-time {
          font-size: 13px;
          font-weight: 600;
          color: #1a1a1a;
          min-width: 70px;
        }

        .meeting-details {
          flex: 1;
          display: flex;
          flex-direction: column;
        }

        .meeting-name {
          font-size: 13px;
          font-weight: 500;
          color: #1a1a1a;
        }

        .meeting-type {
          font-size: 11px;
          color: #888;
        }

        .meeting-actions {
          display: flex;
          gap: 6px;
        }

        .btn-join {
          display: flex;
          align-items: center;
          gap: 4px;
          padding: 5px 10px;
          background: #7c3aed;
          color: white;
          border-radius: 6px;
          font-size: 11px;
          font-weight: 500;
          text-decoration: none;
        }

        .btn-profile {
          width: 28px;
          height: 28px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: #f5f5f5;
          border-radius: 6px;
          color: #666;
          text-decoration: none;
        }

        .btn-profile:hover {
          background: #eee;
        }

        /* Compact Urgent List */
        .urgent-list-compact {
          padding: 6px;
        }

        .urgent-row {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 8px 10px;
          border-radius: 6px;
          margin-bottom: 4px;
          background: #FEF2F2;
          border: 1px solid #FECACA;
        }

        .urgent-row:last-child {
          margin-bottom: 0;
        }

        .urgent-row.stale {
          background: #FFFBEB;
          border-color: #FDE68A;
        }

        .urgent-row.payment {
          background: #FEF3C7;
          border-color: #FCD34D;
        }

        .urgent-tag {
          font-size: 9px;
          font-weight: 700;
          text-transform: uppercase;
          padding: 2px 6px;
          border-radius: 3px;
          background: #DC2626;
          color: white;
          flex-shrink: 0;
        }

        .urgent-tag.stale {
          background: #F59E0B;
        }

        .urgent-tag.payment {
          background: #D97706;
        }

        .urgent-name {
          flex: 1;
          font-size: 13px;
          font-weight: 500;
          color: #1a1a1a;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        .urgent-name.link {
          text-decoration: none;
        }

        .urgent-name.link:hover {
          color: #7c3aed;
        }

        .urgent-meta {
          font-size: 11px;
          color: #888;
          flex-shrink: 0;
        }

        .urgent-row-actions {
          display: flex;
          gap: 4px;
          flex-shrink: 0;
        }

        .btn-mini {
          width: 24px;
          height: 24px;
          border: none;
          border-radius: 4px;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          transition: all 0.15s;
          background: white;
          color: #666;
          text-decoration: none;
        }

        .btn-mini:hover {
          background: #f0f0f0;
        }

        .btn-mini.done:hover {
          background: #D1FAE5;
          color: #059669;
        }

        .btn-mini.snooze:hover {
          background: #E0E7FF;
          color: #4F46E5;
        }

        /* Schedule Integrated */
        .schedule-list-integrated {
          padding: 12px;
        }

        .schedule-group {
          margin-bottom: 14px;
        }

        .schedule-group:last-child {
          margin-bottom: 0;
        }

        .schedule-day {
          font-size: 10px;
          font-weight: 600;
          text-transform: uppercase;
          color: #888;
          margin-bottom: 6px;
          display: block;
        }

        .schedule-row {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 6px 0;
        }

        .schedule-row.reminder {
          opacity: 0.7;
        }

        .schedule-time, .schedule-date {
          font-size: 11px;
          font-weight: 500;
          color: #666;
          min-width: 80px;
        }

        .schedule-name {
          flex: 1;
          font-size: 13px;
          color: #1a1a1a;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        .schedule-actions {
          display: flex;
          align-items: center;
          gap: 6px;
          margin-left: auto;
        }

        .schedule-join-btn {
          width: 24px;
          height: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: #7c3aed;
          border-radius: 6px;
          color: white;
          text-decoration: none;
          transition: all 0.15s;
        }

        .schedule-join-btn:hover {
          background: #6d28d9;
          transform: scale(1.05);
        }

        .schedule-user-link {
          width: 22px;
          height: 22px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: #FEEBC8;
          border-radius: 50%;
          color: #DD6B20;
          text-decoration: none;
          transition: all 0.15s;
        }

        .schedule-user-link:hover {
          background: #FBD38D;
          transform: scale(1.05);
        }

        .schedule-no-user {
          width: 22px;
        }

        .empty-schedule {
          display: flex;
          flex-direction: column;
          align-items: center;
          padding: 24px;
          color: #ccc;
          gap: 8px;
        }

        .empty-schedule span {
          font-size: 12px;
        }

        /* Questions */
        .questions-list {
          padding: 10px;
        }

        .question-item {
          padding: 12px;
          background: #FEFCE8;
          border-radius: 8px;
          margin-bottom: 8px;
          border: 1px solid #FEF08A;
        }

        .question-item:last-child {
          margin-bottom: 0;
        }

        .question-meta {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 6px;
        }

        .question-author {
          font-size: 13px;
          font-weight: 600;
          color: #1a1a1a;
          text-decoration: none;
        }

        .question-author:hover {
          color: #7c3aed;
        }

        .question-time {
          font-size: 11px;
          color: #888;
        }

        .question-text {
          font-size: 13px;
          color: #333;
          margin: 0 0 10px 0;
          line-height: 1.4;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }

        .btn-reply {
          display: inline-flex;
          align-items: center;
          gap: 5px;
          padding: 5px 10px;
          background: #1a1a1a;
          color: white;
          border-radius: 5px;
          font-size: 11px;
          font-weight: 500;
          text-decoration: none;
        }

        .btn-reply:hover {
          background: #333;
        }

        /* Discussions */
        .discussions-list {
          padding: 10px;
        }

        .discussion-item {
          padding: 12px;
          background: #F0F9FF;
          border-radius: 8px;
          margin-bottom: 8px;
          border: 1px solid #BAE6FD;
        }

        .discussion-item:last-child {
          margin-bottom: 0;
        }

        .discussion-meta {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 6px;
        }

        .discussion-author {
          font-size: 13px;
          font-weight: 600;
          color: #1a1a1a;
          text-decoration: none;
        }

        .discussion-author:hover {
          color: #7c3aed;
        }

        .discussion-time {
          font-size: 11px;
          color: #888;
        }

        .discussion-text {
          font-size: 13px;
          color: #333;
          margin: 0 0 8px 0;
          line-height: 1.4;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }

        .discussion-lesson {
          font-size: 10px;
          color: #0369A1;
          background: #E0F2FE;
          padding: 3px 8px;
          border-radius: 4px;
          display: inline-block;
        }

        /* Reminders */
        .reminder-list {
          padding: 6px;
        }

        .reminder-item {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 10px;
          border-radius: 8px;
          transition: background 0.15s;
        }

        .reminder-item:hover {
          background: #f9f9f9;
        }

        .reminder-type {
          font-size: 9px;
          font-weight: 600;
          text-transform: uppercase;
          padding: 3px 6px;
          border-radius: 4px;
          background: #E0E7FF;
          color: #4F46E5;
        }

        .reminder-content {
          flex: 1;
        }

        .reminder-content h4 {
          font-size: 13px;
          font-weight: 500;
          color: #1a1a1a;
          margin: 0 0 2px 0;
        }

        .person-link {
          display: inline-flex;
          align-items: center;
          gap: 4px;
          font-size: 11px;
          color: #666;
          text-decoration: none;
        }

        .person-link:hover {
          color: #7c3aed;
        }

        .btn-check {
          width: 28px;
          height: 28px;
          border: none;
          border-radius: 6px;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          background: #f5f5f5;
          color: #666;
          transition: all 0.15s;
        }

        .btn-check:hover {
          background: #D1FAE5;
          color: #059669;
        }

        /* Pipeline */
        .pipeline-bars {
          padding: 12px;
        }

        .pipeline-bar-row {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 6px 0;
          text-decoration: none;
        }

        .pipeline-bar-row:hover .stage-name {
          color: #7c3aed;
        }

        .stage-name {
          font-size: 11px;
          color: #666;
          width: 80px;
          flex-shrink: 0;
        }

        .bar-container {
          flex: 1;
          height: 6px;
          background: #f5f5f5;
          border-radius: 3px;
          overflow: hidden;
        }

        .bar-fill {
          height: 100%;
          border-radius: 3px;
          transition: width 0.3s;
        }

        .stage-count {
          font-size: 12px;
          font-weight: 600;
          width: 24px;
          text-align: right;
        }

        /* Trainings - StepWise Brand Colors */
        .trainings-list {
          padding: 10px;
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .training-item {
          display: flex;
          align-items: center;
          gap: 14px;
          padding: 12px 14px;
          border-radius: 12px;
          transition: all 0.2s ease;
          background: #fafafa;
          border: 1px solid #eee;
          position: relative;
          overflow: hidden;
        }

        .training-item:hover {
          background: #f5f5f5;
          transform: translateX(2px);
        }

        .training-item.urgent {
          background: linear-gradient(135deg, #fff5f5 0%, #fff 100%);
          border-color: #fed7d7;
        }

        .training-item.soon {
          background: linear-gradient(135deg, #fffaf0 0%, #fff 100%);
          border-color: #feebc8;
        }

        .training-item.later {
          background: linear-gradient(135deg, #faf5ff 0%, #fff 100%);
          border-color: #e9d8fd;
        }

        .training-date {
          width: 52px;
          height: 52px;
          background: #7c3aed;
          border-radius: 12px;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          color: white;
          flex-shrink: 0;
          position: relative;
          box-shadow: 0 2px 8px rgba(124, 58, 237, 0.3);
        }

        /* StepWise brand colors for urgency */
        .training-date.urgent {
          background: linear-gradient(135deg, #E53E3E 0%, #C53030 100%);
          box-shadow: 0 2px 8px rgba(229, 62, 62, 0.4);
        }

        .training-date.soon {
          background: linear-gradient(135deg, #ED8936 0%, #DD6B20 100%);
          box-shadow: 0 2px 8px rgba(237, 137, 54, 0.4);
        }

        .training-date.later {
          background: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%);
          box-shadow: 0 2px 8px rgba(124, 58, 237, 0.3);
        }

        .training-date .month {
          font-size: 9px;
          text-transform: uppercase;
          opacity: 0.9;
          font-weight: 600;
          letter-spacing: 0.5px;
        }

        .training-date .day {
          font-size: 18px;
          font-weight: 700;
          line-height: 1;
        }

        .training-date .urgency-badge {
          position: absolute;
          top: -6px;
          right: -6px;
          background: white;
          color: inherit;
          font-size: 8px;
          font-weight: 700;
          padding: 2px 5px;
          border-radius: 6px;
          box-shadow: 0 1px 3px rgba(0,0,0,0.15);
        }

        .training-date.urgent .urgency-badge {
          color: #E53E3E;
        }

        .training-date.soon .urgency-badge {
          color: #ED8936;
        }

        .training-info {
          flex: 1;
          min-width: 0;
        }

        .training-info h4 {
          font-size: 14px;
          font-weight: 600;
          color: #1a1a1a;
          margin: 0 0 6px 0;
        }

        .training-meta {
          display: flex;
          align-items: center;
          gap: 10px;
        }

        .training-info .capacity {
          font-size: 12px;
          color: #666;
        }

        .status-pill {
          font-size: 10px;
          font-weight: 600;
          padding: 3px 8px;
          border-radius: 10px;
          text-transform: uppercase;
          letter-spacing: 0.3px;
        }

        .status-pill.urgent {
          background: #FED7D7;
          color: #C53030;
        }

        .status-pill.soon {
          background: #FEEBC8;
          color: #C05621;
        }

        .status-pill.later {
          background: #E9D8FD;
          color: #6B46C1;
        }

        .urgency-indicator {
          position: absolute;
          right: 0;
          top: 0;
          bottom: 0;
          width: 4px;
          border-radius: 0 12px 12px 0;
        }

        .urgency-indicator.urgent {
          background: linear-gradient(180deg, #E53E3E 0%, #C53030 100%);
        }

        .urgency-indicator.soon {
          background: linear-gradient(180deg, #ED8936 0%, #DD6B20 100%);
        }

        .urgency-indicator.later {
          background: linear-gradient(180deg, #7c3aed 0%, #6d28d9 100%);
        }

        /* Responsive */
        @media (max-width: 1200px) {
          .action-grid {
            grid-template-columns: 1fr;
          }

          .stats-hero {
            grid-template-columns: repeat(2, 1fr);
          }
        }

        @media (max-width: 600px) {
          .stats-hero {
            grid-template-columns: 1fr;
          }

          .action-center-redesign {
            padding: 16px;
          }
        }
      `})]})}function kC(){const{data:t,isLoading:e}=pC(),n=tx(),[a,s]=V.useState(null),o=v=>{const _=Gi.indexOf(v.pipeline_stage);_<Gi.length-1&&n.mutate({id:v.id,stage:Gi[_+1]})},u=v=>{const _=Gi.indexOf(v.pipeline_stage);_>0&&n.mutate({id:v.id,stage:Gi[_-1]})},c=(v,_,b)=>{s(_),v.dataTransfer.setData("applicantId",_),v.dataTransfer.setData("currentStage",b),v.dataTransfer.effectAllowed="move"},f=()=>{s(null)},p=v=>{v.preventDefault(),v.dataTransfer.dropEffect="move"},g=(v,_)=>{v.preventDefault();const b=v.dataTransfer.getData("applicantId"),j=v.dataTransfer.getData("currentStage");b&&j!==_&&n.mutate({id:b,stage:_}),s(null)};return e?h.jsx("div",{className:"page loading",children:"Loading pipeline..."}):h.jsxs("div",{className:"page pipeline",children:[h.jsxs("header",{className:"page-header",children:[h.jsx("h1",{children:"Pipeline"}),h.jsx("p",{className:"subtitle",children:"Drag and drop to move applicants between stages"})]}),h.jsx("div",{className:"pipeline-board",children:Gi.map(v=>h.jsxs("div",{className:`pipeline-column ${a?"drop-target":""}`,onDragOver:p,onDrop:_=>g(_,v),children:[h.jsxs("div",{className:"column-header",style:{borderColor:Ci[v]},children:[h.jsx("h3",{children:ho[v]}),h.jsx("span",{className:"count",style:{background:Ci[v]},children:t?.[v]?.length||0})]}),h.jsxs("div",{className:"column-cards",children:[t?.[v]?.map(_=>h.jsxs("div",{className:`pipeline-card ${a===_.id?"dragging":""}`,style:{borderLeftColor:Xf(_.training_id)},draggable:!0,onDragStart:b=>c(b,_.id,v),onDragEnd:f,children:[h.jsx("div",{className:"card-drag-handle",children:h.jsx(N1,{size:14})}),h.jsxs(oi,{to:`/people/${_.id}`,className:"card-content",children:[h.jsx("h4",{children:_.name}),_.trainings?.name&&h.jsx("span",{className:"training-badge",style:{backgroundColor:Xf(_.training_id)+"20",color:Xf(_.training_id),borderLeft:`3px solid ${Xf(_.training_id)}`},children:_.trainings.name}),_.email&&h.jsxs("span",{className:"email",children:[h.jsx(Ms,{size:12})," ",_.email]})]}),h.jsxs("div",{className:"card-actions",children:[Gi.indexOf(v)>0&&h.jsx("button",{onClick:()=>u(_),className:"btn-move",title:"Move back",children:h.jsx(Gw,{size:16})}),Gi.indexOf(v)<Gi.length-1&&h.jsx("button",{onClick:()=>o(_),className:"btn-move",title:"Move forward",children:h.jsx(Pc,{size:16})})]})]},_.id)),(!t?.[v]||t[v].length===0)&&h.jsx("div",{className:"empty-column",children:"No applicants"})]})]},v))})]})}function LC(){const[t,e]=V.useState(""),[n,a]=V.useState([]),[s,o]=V.useState([]),[u,c]=V.useState("table"),[f,p]=V.useState("application_date"),[g,v]=V.useState("desc"),[_,b]=V.useState(!1),[j,E]=V.useState(null),T=dd(),{data:A,isLoading:z}=A1(),D=fC(),{data:P}=Kp(),se=V.useMemo(()=>{if(!A)return[];let k=[...A];if(t){const I=t.toLowerCase();k=k.filter(te=>te.name?.toLowerCase().includes(I)||te.email?.toLowerCase().includes(I)||te.phone?.includes(t))}return n.length>0&&(k=k.filter(I=>n.includes(I.pipeline_stage||""))),s.length>0&&(k=k.filter(I=>s.includes("__unassigned__")?!I.training_id||s.includes(I.training_id):s.includes(I.training_id||""))),k.sort((I,te)=>{let J=0;switch(f){case"name":J=(I.name||"").localeCompare(te.name||"");break;case"application_date":J=new Date(I.application_date||0).getTime()-new Date(te.application_date||0).getTime();break;case"pipeline_stage":J=Gi.indexOf(I.pipeline_stage)-Gi.indexOf(te.pipeline_stage);break;case"training":J=(I.trainings?.name||"zzz").localeCompare(te.trainings?.name||"zzz");break}return g==="asc"?J:-J}),k},[A,t,n,s,f,g]),he=V.useMemo(()=>{if(!A)return{total:0,byStage:{},byTraining:{}};const k={},I={};return A.forEach(te=>{const J=te.pipeline_stage||"unknown";k[J]=(k[J]||0)+1;const ve=te.training_id||"__unassigned__";I[ve]=(I[ve]||0)+1}),{total:A.length,byStage:k,byTraining:I}},[A]),oe=k=>{a(I=>I.includes(k)?I.filter(te=>te!==k):[...I,k])},ee=k=>{o(I=>I.includes(k)?I.filter(te=>te!==k):[...I,k])},X=()=>{e(""),a([]),o([])},pe=k=>{f===k?v(I=>I==="asc"?"desc":"asc"):(p(k),v("asc"))},U=t||n.length>0||s.length>0,Y=V.useCallback((k,I)=>{E({id:k,name:I})},[]),le=V.useCallback(()=>{j&&D.mutate(j.id,{onSuccess:()=>E(null)})},[j,D]),ue=k=>{switch(k){case"Paid in Full":return h.jsx(Vw,{size:14,className:"icon-green"});case"Deposit Paid":case"Payment Plan":return h.jsx(S1,{size:14,className:"icon-amber"});default:return h.jsx(kA,{size:14,className:"icon-gray"})}};return h.jsxs("div",{className:"page people-page",children:[h.jsxs("header",{className:"page-header people-header",children:[h.jsxs("div",{className:"header-top",children:[h.jsxs("div",{children:[h.jsx("h1",{children:"People"}),h.jsxs("p",{className:"subtitle",children:[se.length," of ",he.total," applicants",U&&" (filtered)"]})]}),h.jsxs("div",{className:"view-toggle",children:[h.jsx("button",{className:u==="table"?"active":"",onClick:()=>c("table"),title:"Table view",children:h.jsx(YA,{size:18})}),h.jsx("button",{className:u==="cards"?"active":"",onClick:()=>c("cards"),title:"Card view",children:h.jsx(VA,{size:18})})]})]}),h.jsx("div",{className:"stage-pills",children:Gi.map(k=>{const I=he.byStage[k]||0,te=n.includes(k);return h.jsxs("button",{className:`stage-pill ${te?"active":""}`,onClick:()=>oe(k),style:{"--stage-color":Ci[k],borderColor:te?Ci[k]:"transparent",background:te?`${Ci[k]}15`:void 0},children:[h.jsx("span",{className:"stage-dot",style:{background:Ci[k]}}),h.jsx("span",{className:"stage-name",children:ho[k]}),h.jsx("span",{className:"stage-count",children:I})]},k)})})]}),h.jsxs("div",{className:"filters-bar",children:[h.jsxs("div",{className:"search-box",children:[h.jsx(d8,{size:18}),h.jsx("input",{type:"text",placeholder:"Search name, email, phone...",value:t,onChange:k=>e(k.target.value)}),t&&h.jsx("button",{onClick:()=>e(""),className:"clear-btn",children:h.jsx($a,{size:16})})]}),h.jsxs("div",{className:"filter-dropdown",children:[h.jsxs("button",{className:`dropdown-trigger ${s.length>0?"active":""}`,onClick:()=>b(!_),children:[h.jsx(Ra,{size:16}),"Training",s.length>0&&h.jsx("span",{className:"filter-badge",children:s.length}),h.jsx(_1,{size:14})]}),_&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"dropdown-backdrop",onClick:()=>b(!1)}),h.jsxs("div",{className:"dropdown-menu",children:[P?.map(k=>h.jsxs("label",{className:"dropdown-item",children:[h.jsx("input",{type:"checkbox",checked:s.includes(k.id),onChange:()=>ee(k.id)}),h.jsx("span",{children:k.name}),h.jsx("span",{className:"count",children:he.byTraining[k.id]||0})]},k.id)),h.jsxs("label",{className:"dropdown-item",children:[h.jsx("input",{type:"checkbox",checked:s.includes("__unassigned__"),onChange:()=>ee("__unassigned__")}),h.jsx("span",{children:"Unassigned"}),h.jsx("span",{className:"count",children:he.byTraining.__unassigned__||0})]})]})]})]}),U&&h.jsxs("button",{onClick:X,className:"btn-clear-all",children:[h.jsx($a,{size:14})," Clear filters"]})]}),z?h.jsx("div",{className:"loading",children:"Loading..."}):u==="table"?h.jsxs("div",{className:"people-table-wrapper",children:[h.jsxs("table",{className:"people-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsxs("th",{className:"sortable",onClick:()=>pe("name"),children:["Name",f==="name"&&h.jsx(Yf,{size:14,className:g})]}),h.jsx("th",{children:"Contact"}),h.jsxs("th",{className:"sortable",onClick:()=>pe("training"),children:["Training",f==="training"&&h.jsx(Yf,{size:14,className:g})]}),h.jsxs("th",{className:"sortable",onClick:()=>pe("pipeline_stage"),children:["Stage",f==="pipeline_stage"&&h.jsx(Yf,{size:14,className:g})]}),h.jsx("th",{children:"Payment"}),h.jsxs("th",{className:"sortable",onClick:()=>pe("application_date"),children:["Applied",f==="application_date"&&h.jsx(Yf,{size:14,className:g})]}),h.jsx("th",{})]})}),h.jsx("tbody",{children:se.map(k=>h.jsxs("tr",{className:"clickable-row",onClick:()=>T(`/people/${k.id}`),children:[h.jsxs("td",{className:"name-cell",children:[h.jsx("div",{className:"avatar",children:h.jsx(Rr,{size:16})}),h.jsx("span",{className:"name",children:k.name})]}),h.jsxs("td",{className:"contact-cell",children:[k.email&&h.jsx("a",{href:`mailto:${k.email}`,className:"contact-link",title:k.email,onClick:I=>I.stopPropagation(),children:h.jsx(Ms,{size:14})}),k.phone&&h.jsx("a",{href:`tel:${k.phone}`,className:"contact-link",title:k.phone,onClick:I=>I.stopPropagation(),children:h.jsx(U0,{size:14})}),k.signal_handle&&h.jsx("span",{className:"contact-link signal",title:`Signal: ${k.signal_handle}`,children:h.jsx(Eh,{size:14})})]}),h.jsx("td",{className:"training-cell",children:k.trainings?.name?h.jsx("span",{className:"training-tag",children:k.trainings.name}):h.jsx("span",{className:"unassigned",children:"Unassigned"})}),h.jsx("td",{className:"stage-cell",children:h.jsx("span",{className:"stage-badge",style:{background:Ci[k.pipeline_stage]},children:ho[k.pipeline_stage]||k.pipeline_stage})}),h.jsx("td",{className:"payment-cell",children:h.jsxs("span",{className:"payment-status",title:k.payment_status||"Unpaid",children:[ue(k.payment_status),h.jsx("span",{className:"payment-label",children:k.payment_status||"Unpaid"})]})}),h.jsx("td",{className:"date-cell",children:k.application_date?h.jsx("span",{title:li(new Date(k.application_date),"PPP"),children:Yu(new Date(k.application_date),{addSuffix:!0})}):h.jsx("span",{className:"no-date",children:"-"})}),h.jsx("td",{className:"action-cell",children:h.jsx("button",{className:"delete-btn",onClick:I=>{I.stopPropagation(),Y(k.id,k.name||"this applicant")},title:"Delete applicant",children:h.jsx(Ep,{size:16})})})]},k.id))})]}),se.length===0&&h.jsxs("div",{className:"empty-state",children:[h.jsx(Rr,{size:48}),h.jsx("h3",{children:"No applicants found"}),h.jsx("p",{children:"Try adjusting your search or filters"})]})]}):h.jsxs("div",{className:"people-cards",children:[se.map(k=>h.jsxs(oi,{to:`/people/${k.id}`,className:"person-card",style:{borderLeftColor:Ci[k.pipeline_stage]},children:[h.jsxs("div",{className:"card-header",children:[h.jsx("div",{className:"avatar",children:h.jsx(Rr,{size:20})}),h.jsxs("div",{className:"card-title",children:[h.jsx("h3",{children:k.name}),h.jsx("span",{className:"training-tag",children:k.trainings?.name||"Unassigned"})]}),h.jsx("span",{className:"stage-badge",style:{background:Ci[k.pipeline_stage]},children:ho[k.pipeline_stage]})]}),h.jsxs("div",{className:"card-body",children:[h.jsxs("div",{className:"card-row",children:[h.jsx(Ms,{size:14}),h.jsx("span",{children:k.email||"No email"})]}),k.phone&&h.jsxs("div",{className:"card-row",children:[h.jsx(U0,{size:14}),h.jsx("span",{children:k.phone})]})]}),h.jsxs("div",{className:"card-footer",children:[h.jsxs("div",{className:"card-stat",children:[ue(k.payment_status),h.jsx("span",{children:k.payment_status||"Unpaid"})]}),k.application_date&&h.jsxs("div",{className:"card-stat date",children:[h.jsx(Ra,{size:14}),h.jsx("span",{children:li(new Date(k.application_date),"MMM d")})]})]})]},k.id)),se.length===0&&h.jsxs("div",{className:"empty-state",children:[h.jsx(Rr,{size:48}),h.jsx("h3",{children:"No applicants found"}),h.jsx("p",{children:"Try adjusting your search or filters"})]})]}),j&&h.jsx("div",{className:"modal-backdrop",onClick:()=>E(null),children:h.jsxs("div",{className:"modal delete-modal",onClick:k=>k.stopPropagation(),children:[h.jsx("div",{className:"modal-icon",children:h.jsx(Ww,{size:32})}),h.jsx("h3",{children:"Delete Applicant"}),h.jsxs("p",{children:["Are you sure you want to delete ",h.jsx("strong",{children:j.name}),"?"]}),h.jsx("p",{className:"warning-text",children:"This will also delete their application, room reservations, meal selections, and course access. This action cannot be undone."}),h.jsxs("div",{className:"modal-actions",children:[h.jsx("button",{className:"btn-cancel",onClick:()=>E(null),children:"Cancel"}),h.jsx("button",{className:"btn-delete",onClick:le,disabled:D.isPending,children:D.isPending?"Deleting...":"Delete"})]})]})})]})}function TC(){return ki({queryKey:["courses"],queryFn:async()=>{const{data:t,error:e}=await dt.from("courses").select("*").order("sort_order",{ascending:!0});if(e)throw e;return t}})}function OC(t){return ki({queryKey:["user-course-access",t],queryFn:async()=>{if(!t)return[];const{data:e,error:n}=await dt.from("user_course_access").select("*, courses(*)").eq("user_id",t);if(n)throw n;return e},enabled:!!t})}function RC(t){return ki({queryKey:["applicant-user-id",t],queryFn:async()=>{if(!t)return null;const{data:e,error:n}=await dt.from("applications").select("user_id").eq("email",t).maybeSingle();if(n)throw n;return e?.user_id||null},enabled:!!t})}function DC(){const t=Vn();return ui({mutationFn:async({userId:e,courseId:n})=>{const{data:a,error:s}=await dt.from("user_course_access").upsert({user_id:e,course_id:n,granted_at:new Date().toISOString()},{onConflict:"user_id,course_id"}).select().single();if(s)throw s;return a},onSuccess:(e,n)=>{t.invalidateQueries({queryKey:["user-course-access",n.userId]})}})}function MC(){const t=Vn();return ui({mutationFn:async({userId:e,courseId:n})=>{const{error:a}=await dt.from("user_course_access").delete().eq("user_id",e).eq("course_id",n);if(a)throw a;return{userId:e,courseId:n}},onSuccess:(e,n)=>{t.invalidateQueries({queryKey:["user-course-access",n.userId]})}})}function PC(t){return ki({queryKey:["rooms",t],queryFn:async()=>{if(!t)return[];const{data:e,error:n}=await dt.from("rooms").select("*").eq("training_id",t).order("sort_order",{ascending:!0});if(n)throw n;return e},enabled:!!t})}function zC(t){return ki({queryKey:["room_reservations",t],queryFn:async()=>{if(!t)return[];const{data:e,error:n}=await dt.from("room_reservations").select(`
          *,
          room:rooms(*),
          application:applications(id, first_name, last_name, email)
        `).eq("training_id",t);if(n)throw n;return e},enabled:!!t})}function BC(){return ki({queryKey:["all_room_reservations"],queryFn:async()=>{const{data:t,error:e}=await dt.from("room_reservations").select(`
          *,
          room:rooms(*),
          application:applications(id, first_name, last_name, email)
        `);if(e)throw e;return t}})}function UC(){return ki({queryKey:["all_rooms"],queryFn:async()=>{console.log("Fetching all rooms...");const{data:t,error:e}=await dt.from("rooms").select("*").order("training_id").order("sort_order",{ascending:!0});if(e)throw console.error("Error fetching rooms:",e),e;return console.log("Rooms fetched:",t?.length),t}})}function IC(){const t=Vn();return ui({mutationFn:async({roomId:e,applicationId:n,trainingId:a,userId:s})=>{console.log("useAssignRoom mutationFn called:",{roomId:e,applicationId:n,trainingId:a,userId:s});const{error:o}=await dt.from("room_reservations").delete().eq("application_id",n);o&&console.warn("Error deleting old app reservation:",o);const{error:u}=await dt.from("room_reservations").delete().eq("room_id",e);u&&console.warn("Error deleting old room reservation:",u);const c={room_id:e,application_id:n,training_id:a};s&&(c.user_id=s);const{data:f,error:p}=await dt.from("room_reservations").insert(c).select().single();if(p)throw console.error("Error inserting room reservation:",p),p;return console.log("Room reservation created:",f),f},onSuccess:()=>{t.invalidateQueries({queryKey:["all_room_reservations"]}),t.invalidateQueries({queryKey:["room_reservations"]})}})}function qC(){const t=Vn();return ui({mutationFn:async e=>{const{error:n}=await dt.from("room_reservations").delete().eq("id",e);if(n)throw n},onSuccess:()=>{t.invalidateQueries({queryKey:["all_room_reservations"]}),t.invalidateQueries({queryKey:["room_reservations"]})}})}function FC(){const{id:t}=mw(),[e,n]=V.useState("overview"),[a,s]=V.useState(null),[o,u]=V.useState(""),[c,f]=V.useState(null),[p,g]=V.useState({}),{data:v,isLoading:_}=cC(t),{data:b}=uC(v?.email||null),{data:j}=Kp(),E=dC(),T=hC(),A=tx(),{data:z}=TC(),{data:D}=RC(v?.email||null),{data:P,isLoading:se}=OC(D||null),{data:he}=PC(v?.training_id||null),{data:oe}=zC(v?.training_id||null),ee=oe?.find(fe=>fe.application?.email===v?.email),X=DC(),pe=MC(),U=async fe=>{if(v){f(fe);try{const F=await fetch("https://stepwise.education/api/send-scheduling-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({applicant_id:v.id,type:fe})});F.ok?(g(L=>({...L,[fe]:!0})),setTimeout(()=>g(L=>({...L,[fe]:!1})),3e3)):(alert("Failed to send email. Check console for details."),console.error(await F.text()))}catch(F){console.error("Email send error:",F),alert("Failed to send email. Is the API configured?")}finally{f(null)}}};V.useEffect(()=>{if(!document.getElementById("calendly-widget-script")){const fe=document.createElement("script");fe.id="calendly-widget-script",fe.src="https://assets.calendly.com/assets/external/widget.js",fe.async=!0,document.head.appendChild(fe);const F=document.createElement("link");F.href="https://assets.calendly.com/assets/external/widget.css",F.rel="stylesheet",document.head.appendChild(F)}},[]);const Y=fe=>{const F=yC[fe],L=v?`?email=${encodeURIComponent(v.email||"")}&name=${encodeURIComponent(v.name||"")}`:"";window.Calendly&&window.Calendly.initPopupWidget({url:F+L})};if(_)return h.jsx("div",{className:"page loading",children:"Loading..."});if(!v)return h.jsx("div",{className:"page error",children:"Applicant not found"});const le=Gi.indexOf(v.pipeline_stage),ue=fe=>{const F=fe==="forward"?le+1:le-1;F>=0&&F<Gi.length&&A.mutate({id:v.id,stage:Gi[F]})},k=(fe,F)=>{s(fe),u(F||"")},I=(fe,F=!1)=>{F&&b?T.mutate({id:b.id,updates:{[fe]:o}}):E.mutate({id:v.id,updates:{[fe]:o}}),s(null)},te=()=>{s(null),u("")},J=({label:fe,field:F,value:L,isApplication:B=!1,type:$="text",options:ie})=>{const ce=a===F;return h.jsxs("div",{className:`field ${ce?"editing":""}`,children:[h.jsx("label",{children:fe}),ce?h.jsxs("div",{className:"edit-controls",children:[$==="textarea"?h.jsx("textarea",{value:o,onChange:Q=>u(Q.target.value),autoFocus:!0}):$==="select"?h.jsx("select",{value:o,onChange:Q=>u(Q.target.value),autoFocus:!0,children:ie?.map(Q=>h.jsx("option",{value:Q.value,children:Q.label},Q.value))}):$==="boolean"?h.jsxs("select",{value:o?"true":"false",onChange:Q=>u(Q.target.value==="true"),autoFocus:!0,children:[h.jsx("option",{value:"false",children:"No"}),h.jsx("option",{value:"true",children:"Yes"})]}):h.jsx("input",{type:$,value:o,onChange:Q=>u(Q.target.value),autoFocus:!0}),h.jsx("button",{onClick:()=>I(F,B),className:"btn-save",children:h.jsx(Ap,{size:14})}),h.jsx("button",{onClick:te,className:"btn-cancel",children:h.jsx($a,{size:14})})]}):h.jsxs("div",{className:"field-value",onClick:()=>k(F,L),children:[h.jsx("span",{children:L||h.jsx("em",{className:"empty",children:"Not set"})}),h.jsx(ad,{size:14,className:"edit-icon"})]})]})},ve=[{id:"overview",label:"Overview",icon:Rr},{id:"application",label:"Application",icon:z0},{id:"health",label:"Health & Safety",icon:eb},{id:"pipeline",label:"Pipeline",icon:Ra},{id:"engagement",label:"Engagement",icon:Ah}];return h.jsxs("div",{className:"page person-detail",children:[h.jsx("header",{className:"page-header",children:h.jsxs(oi,{to:"/people",className:"back-link",children:[h.jsx($w,{size:20}),"Back to People"]})}),h.jsxs("div",{className:"person-header",children:[h.jsx("div",{className:"person-avatar large",children:h.jsx(Rr,{size:48})}),h.jsxs("div",{className:"person-title",children:[h.jsx("h1",{children:v.name}),h.jsxs("div",{className:"contact-info",children:[v.email&&h.jsxs("span",{children:[h.jsx(Ms,{size:16})," ",v.email]}),v.phone&&h.jsxs("span",{children:[h.jsx(U0,{size:16})," ",v.phone]})]})]}),h.jsxs("div",{className:"person-stage",children:[h.jsx("span",{className:"stage-badge large",style:{background:Ci[v.pipeline_stage]},children:ho[v.pipeline_stage]}),h.jsxs("div",{className:"stage-actions",children:[h.jsx("button",{onClick:()=>ue("back"),disabled:le===0,className:"btn-stage",children:h.jsx(Gw,{size:20})}),h.jsx("button",{onClick:()=>ue("forward"),disabled:le===Gi.length-1,className:"btn-stage",children:h.jsx(Pc,{size:20})})]})]})]}),h.jsx("div",{className:"quick-actions",children:h.jsxs("div",{className:"booking-buttons",children:[h.jsxs("button",{onClick:()=>Y("chemistry_call"),className:"btn-booking chemistry",children:[h.jsx(Ko,{size:16}),"Schedule Chemistry Call"]}),h.jsxs("button",{onClick:()=>Y("interview"),className:"btn-booking interview",children:[h.jsx(Ra,{size:16}),"Schedule Interview"]})]})}),h.jsx("nav",{className:"tabs",children:ve.map(fe=>h.jsxs("button",{className:`tab ${e===fe.id?"active":""}`,onClick:()=>n(fe.id),children:[h.jsx(fe.icon,{size:18}),fe.label]},fe.id))}),h.jsxs("div",{className:"tab-content",children:[e==="overview"&&h.jsxs("div",{className:"tab-panel overview",children:[h.jsxs("section",{className:"card",children:[h.jsx("h3",{children:"Contact Information"}),h.jsxs("div",{className:"fields-grid",children:[h.jsx(J,{label:"Name",field:"name",value:v.name}),h.jsx(J,{label:"Email",field:"email",value:v.email}),h.jsx(J,{label:"Phone",field:"phone",value:v.phone}),h.jsx(J,{label:"Address",field:"address",value:v.address}),h.jsx(J,{label:"Birth Date",field:"birth_date",value:v.birth_date,type:"date"})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{children:"Emergency Contact"}),h.jsxs("div",{className:"fields-grid",children:[h.jsx(J,{label:"Name",field:"emergency_contact_name",value:v.emergency_contact_name}),h.jsx(J,{label:"Phone",field:"emergency_contact_phone",value:v.emergency_contact_phone})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{children:"Training Assignment"}),h.jsxs("div",{className:"fields-grid",children:[h.jsx(J,{label:"Training",field:"training_id",value:v.training_id,type:"select",options:[{value:"",label:"Not assigned"},...j?.map(fe=>({value:fe.id,label:fe.name}))||[]]}),h.jsxs("div",{className:"field",children:[h.jsx("label",{children:"Accommodation"}),h.jsx("div",{className:"field-value readonly",children:ee?h.jsxs("span",{className:"room-reserved",children:[ee.room?.name||"Room reserved",ee.room?.bed_type&&` (${ee.room.bed_type})`]}):v.accommodation_choice==="commute"?h.jsx("span",{children:"Commute (not staying)"}):v.accommodation_choice?h.jsx("span",{children:v.accommodation_choice}):h.jsx("em",{className:"empty",children:"Not selected"})})]}),h.jsx(J,{label:"Override Accommodation",field:"accommodation_choice",value:v.accommodation_choice,type:"select",options:[{value:"",label:"Not selected"},...he?.map(fe=>({value:fe.id,label:`${fe.name}${fe.bed_type?` (${fe.bed_type})`:""}${fe.is_premier?" ":""}`}))||[],{value:"commute",label:"Commute (not staying)"}]}),h.jsx(J,{label:"Accommodation Confirmed",field:"accommodation_confirmed",value:v.accommodation_confirmed,type:"boolean"})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{children:"Notes"}),h.jsx(J,{label:"Internal Notes",field:"notes",value:v.notes,type:"textarea"})]})]}),e==="application"&&h.jsx("div",{className:"tab-panel application",children:!v.application_date&&!v.journey_work_experience&&!v.training_goals&&!v.notes&&!b?h.jsxs("div",{className:"empty-state",children:[h.jsx(Cc,{size:48}),h.jsx("h3",{children:"No application found"}),h.jsx("p",{children:"This person hasn't submitted an application through the portal yet."})]}):h.jsxs(h.Fragment,{children:[h.jsxs("section",{className:"card",children:[h.jsx("h3",{children:"Contact Information"}),h.jsxs("div",{className:"fields-grid",children:[h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Email"}),h.jsx("span",{children:v.email||h.jsx("em",{className:"empty",children:"Not set"})})]}),h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Phone"}),h.jsx("span",{children:v.phone||h.jsx("em",{className:"empty",children:"Not set"})})]}),h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Address"}),h.jsx("span",{children:v.address||h.jsx("em",{className:"empty",children:"Not set"})})]}),h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Birth Date"}),h.jsx("span",{children:v.birth_date?li(new Date(v.birth_date),"MMM d, yyyy"):h.jsx("em",{className:"empty",children:"Not set"})})]})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{children:"Emergency Contact"}),h.jsxs("div",{className:"fields-grid",children:[h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Name"}),h.jsx("span",{children:v.emergency_contact_name||h.jsx("em",{className:"empty",children:"Not set"})})]}),h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Phone"}),h.jsx("span",{children:v.emergency_contact_phone||h.jsx("em",{className:"empty",children:"Not set"})})]})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{children:"Application Date"}),h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Submitted"}),h.jsx("span",{children:v.application_date?li(new Date(v.application_date),"MMM d, yyyy h:mm a"):h.jsx("em",{className:"empty",children:"Unknown"})})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{children:"Experience & Background"}),h.jsxs("div",{className:"fields-stack",children:[h.jsx(J,{label:"Journey Work Experience",field:"journey_work_experience",value:v.journey_work_experience,type:"textarea"}),h.jsx(J,{label:"Medicine Experience",field:"medicine_experience",value:v.medicine_experience,type:"textarea"}),h.jsx(J,{label:"Serving Experience",field:"serving_experience",value:v.serving_experience,type:"textarea"}),h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Psychedelic Medicine Use"}),h.jsx("span",{children:v.psychedelic_medicine_use&&v.psychedelic_medicine_use.length>0?v.psychedelic_medicine_use.join(", "):h.jsx("em",{className:"empty",children:"None reported"})})]}),h.jsx(J,{label:"Recreational Drug Use",field:"recreational_drug_use",value:v.recreational_drug_use,type:"textarea"})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{children:"Goals & Intentions"}),h.jsxs("div",{className:"fields-stack",children:[h.jsx(J,{label:"Training Goals",field:"training_goals",value:v.training_goals,type:"textarea"}),h.jsx(J,{label:"Life Circumstances",field:"life_circumstances",value:v.life_circumstances,type:"textarea"}),h.jsx(J,{label:"Integration Support",field:"integration_support",value:v.integration_support,type:"textarea"}),h.jsx(J,{label:"Strengths & Hobbies",field:"strengths_hobbies",value:v.strengths_hobbies,type:"textarea"}),h.jsx(J,{label:"Anything Else",field:"anything_else",value:v.anything_else,type:"textarea"})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{children:"Physical Health Summary"}),h.jsxs("div",{className:"fields-stack",children:[h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Physical Symptoms"}),h.jsx("span",{children:v.physical_symptoms&&v.physical_symptoms.length>0?v.physical_symptoms.join(", "):h.jsx("em",{className:"empty",children:"None reported"})})]}),h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Dietary Preferences"}),h.jsx("span",{children:v.dietary_preferences||h.jsx("em",{className:"empty",children:"None"})})]}),h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Allergies"}),h.jsx("span",{children:v.allergies||h.jsx("em",{className:"empty",children:"None"})})]}),h.jsx(J,{label:"Supplements",field:"supplements",value:v.supplements,type:"textarea"})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{children:"Admin Notes"}),h.jsx(J,{label:"Notes about this application",field:"notes",value:v.notes,type:"textarea"})]})]})}),e==="health"&&h.jsxs("div",{className:"tab-panel health",children:[(()=>{let fe=0,F=0;const L=[];if(F+=3,v.stress_level!==null&&v.stress_level!==void 0){const Q=v.stress_level>=8?3:v.stress_level>=6?2:v.stress_level>=4?1:0;fe+=Q,Q>0&&L.push({label:`Stress level ${v.stress_level}/10`,points:Q,present:!0})}if(F+=3,v.suicide_consideration&&v.suicide_consideration.toLowerCase()!=="nope"&&v.suicide_consideration.toLowerCase()!=="no"&&v.suicide_consideration.toLowerCase()!=="never"&&(fe+=3,L.push({label:"Suicide consideration",points:3,present:!0})),F+=2,v.mental_health_dx&&v.mental_health_dx.trim()&&(fe+=2,L.push({label:"Mental health diagnosis",points:2,present:!0})),F+=1,v.psych_medications&&v.psych_medications.trim()&&(fe+=1,L.push({label:"On psychiatric medications",points:1,present:!0})),F+=2,v.life_experiences&&v.life_experiences.length>0){const Q=v.life_experiences.filter(be=>be.toLowerCase().includes("abuse")||be.toLowerCase().includes("trauma")||be.toLowerCase().includes("addiction")||be.toLowerCase().includes("loss")||be.toLowerCase().includes("death"));if(Q.length>0){const be=Q.length>=3?2:1;fe+=be,L.push({label:`${Q.length} trauma-related experiences`,points:be,present:!0})}}F+=1,v.cognitive_symptoms&&v.cognitive_symptoms.length>=3&&(fe+=1,L.push({label:`${v.cognitive_symptoms.length} cognitive symptoms`,points:1,present:!0})),F+=1,(!v.support_network||v.support_network.length<=2)&&(fe+=1,L.push({label:"Limited support network",points:1,present:!0})),F+=1,v.self_care&&(v.self_care.toLowerCase().includes("no time")||v.self_care.toLowerCase().includes("squeeze"))&&(fe+=1,L.push({label:"Limited self-care",points:1,present:!0}));const $=fe>=6?"high":fe>=3?"medium":"low",ie=fe>=6?"Needs Additional Support":fe>=3?"Monitor Closely":"Standard Support",ce=fe>=6?"#EF4444":fe>=3?"#F59E0B":"#22C55E";return h.jsxs("section",{className:"card support-assessment",children:[h.jsxs("h3",{children:[h.jsx(eb,{size:20})," Support Assessment"]}),h.jsxs("div",{className:"assessment-score",style:{borderLeft:`4px solid ${ce}`},children:[h.jsxs("div",{className:"score-header",children:[h.jsxs("span",{className:"score-value",style:{color:ce},children:[fe,"/",F]}),h.jsx("span",{className:`score-label level-${$}`,style:{background:`${ce}20`,color:ce},children:ie})]}),L.length>0&&h.jsx("div",{className:"score-factors",children:L.map((Q,be)=>h.jsxs("div",{className:"factor",children:[h.jsx("span",{className:"factor-label",children:Q.label}),h.jsxs("span",{className:"factor-points",children:["+",Q.points]})]},be))}),fe===0&&h.jsx("p",{className:"no-concerns",children:"No significant support indicators identified"})]})]})})(),(()=>{const fe=[];return v.stress_level!==null&&v.stress_level!==void 0&&(v.stress_level>=8?fe.push({level:"high",message:`High stress level reported: ${v.stress_level}/10`}):v.stress_level>=6&&fe.push({level:"medium",message:`Elevated stress level: ${v.stress_level}/10`})),v.suicide_consideration&&v.suicide_consideration.toLowerCase()!=="nope"&&v.suicide_consideration.toLowerCase()!=="no"&&v.suicide_consideration.toLowerCase()!=="never"&&fe.push({level:"high",message:`Suicide consideration flagged: "${v.suicide_consideration}"`}),v.mental_health_dx&&v.mental_health_dx.trim()&&fe.push({level:"medium",message:"Mental health diagnosis reported"}),v.psych_medications&&v.psych_medications.trim()&&fe.push({level:"low",message:"On psychiatric medications"}),v.physical_health&&v.physical_health.trim()&&fe.push({level:"low",message:"Physical health issues reported"}),v.life_experiences&&v.life_experiences.length>0&&v.life_experiences.filter(L=>L.toLowerCase().includes("abuse")||L.toLowerCase().includes("trauma")||L.toLowerCase().includes("addiction")).length>0&&fe.push({level:"medium",message:"Trauma/abuse history indicated"}),fe.length===0?null:h.jsxs("section",{className:"card screening-alerts",children:[h.jsxs("h3",{children:[h.jsx(Cc,{size:20})," Health Screening Alerts"]}),h.jsx("div",{className:"alerts-list",children:fe.map((F,L)=>h.jsxs("div",{className:`alert alert-${F.level}`,children:[h.jsx("span",{className:"alert-badge",children:F.level.toUpperCase()}),h.jsx("span",{className:"alert-message",children:F.message})]},L))})]})})(),h.jsxs("section",{className:"card",children:[h.jsx("h3",{children:"Stress & Mental State"}),h.jsxs("div",{className:"fields-stack",children:[h.jsxs("div",{className:`field readonly ${v.stress_level!==null&&v.stress_level>=7?"highlight-warning":""}`,children:[h.jsx("label",{children:"Stress Level"}),h.jsxs("span",{className:v.stress_level!==null&&v.stress_level>=7?"text-warning":"",children:[v.stress_level!==null?`${v.stress_level}/10`:h.jsx("em",{className:"empty",children:"Not reported"}),v.stress_level!==null&&v.stress_level>=8&&"  HIGH"]})]}),h.jsxs("div",{className:`field readonly ${v.suicide_consideration&&v.suicide_consideration.toLowerCase()!=="nope"&&v.suicide_consideration.toLowerCase()!=="no"?"highlight-danger":""}`,children:[h.jsx("label",{children:"Suicide Consideration"}),h.jsx("span",{children:v.suicide_consideration||h.jsx("em",{className:"empty",children:"Not reported"})})]}),h.jsx(J,{label:"Stress Sources",field:"stress_sources",value:v.stress_sources,type:"textarea"}),h.jsx(J,{label:"Trauma Details",field:"trauma_details",value:v.trauma_details,type:"textarea"})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{children:"Life Experiences & Coping"}),h.jsxs("div",{className:"fields-stack",children:[h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Life Experiences"}),h.jsx("span",{children:v.life_experiences&&v.life_experiences.length>0?v.life_experiences.join(", "):h.jsx("em",{className:"empty",children:"None reported"})})]}),h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Cognitive Symptoms"}),h.jsx("span",{children:v.cognitive_symptoms&&v.cognitive_symptoms.length>0?v.cognitive_symptoms.join(", "):h.jsx("em",{className:"empty",children:"None reported"})})]}),h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Coping Mechanisms"}),h.jsx("span",{children:v.coping_mechanisms&&v.coping_mechanisms.length>0?v.coping_mechanisms.join(", "):h.jsx("em",{className:"empty",children:"None reported"})})]}),h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Self Care"}),h.jsx("span",{children:v.self_care||h.jsx("em",{className:"empty",children:"Not reported"})})]}),h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Support Network"}),h.jsx("span",{children:v.support_network&&v.support_network.length>0?v.support_network.join(", "):h.jsx("em",{className:"empty",children:"None reported"})})]})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{children:"Physical Health"}),h.jsxs("div",{className:"fields-stack",children:[h.jsx(J,{label:"Physical Health Issues",field:"physical_health",value:v.physical_health,type:"textarea"}),h.jsx(J,{label:"Physical Medications",field:"physical_medications",value:v.physical_medications,type:"textarea"}),h.jsx(J,{label:"Allergies",field:"allergies",value:v.allergies,type:"textarea"}),h.jsx(J,{label:"Dietary Preferences",field:"dietary_preferences",value:v.dietary_preferences,type:"textarea"})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{children:"Mental Health"}),h.jsxs("div",{className:"fields-stack",children:[h.jsx(J,{label:"Mental Health Diagnosis",field:"mental_health_dx",value:v.mental_health_dx,type:"textarea"}),h.jsx(J,{label:"Current Mental Health",field:"current_mental_health",value:v.current_mental_health,type:"textarea"}),h.jsx(J,{label:"Psychiatric Medications",field:"psych_medications",value:v.psych_medications,type:"textarea"}),h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Mental Health Support"}),h.jsx("span",{children:v.mental_health_support&&v.mental_health_support.length>0?v.mental_health_support.join(", "):h.jsx("em",{className:"empty",children:"None reported"})})]}),h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Psychedelic Medicine Experience"}),h.jsx("span",{children:v.psychedelic_medicine_use&&v.psychedelic_medicine_use.length>0?v.psychedelic_medicine_use.join(", "):h.jsx("em",{className:"empty",children:"None reported"})})]})]})]})]}),e==="pipeline"&&h.jsxs("div",{className:"tab-panel pipeline",children:[h.jsxs("section",{className:"card pipeline-progress-card",children:[h.jsx("h3",{children:"Pipeline Progress"}),h.jsxs("div",{className:"pipeline-progress",children:[h.jsx("div",{className:"pipeline-track",children:h.jsx("div",{className:"pipeline-fill",style:{width:`${(le+1)/Gi.length*100}%`,background:`linear-gradient(90deg, ${Ci.lead}, ${Ci[v.pipeline_stage]||Ci.lead})`}})}),h.jsx("div",{className:"pipeline-stages",children:Gi.map((fe,F)=>{const L=F<le,B=F===le,$=F>le;return h.jsxs("div",{className:`pipeline-stage ${L?"completed":""} ${B?"current":""} ${$?"pending":""}`,children:[h.jsxs("div",{className:"stage-marker",style:{background:L||B?Ci[fe]:"#E5E7EB",boxShadow:B?`0 0 0 4px ${Ci[fe]}30`:"none"},children:[L&&h.jsx("span",{className:"checkmark",children:""}),B&&h.jsx("span",{className:"current-dot"})]}),h.jsx("span",{className:"stage-name",style:{color:B?Ci[fe]:L?"var(--text-primary)":"var(--text-muted)"},children:ho[fe]})]},fe)})})]})]}),h.jsxs("section",{className:"card scheduling-card",children:[h.jsxs("div",{className:"card-header-row",children:[h.jsxs("h3",{children:[h.jsx(Ko,{size:20})," Chemistry Call"]}),h.jsxs("div",{className:"btn-group",children:[h.jsx("button",{onClick:()=>U("chemistry_call"),className:`btn-send-email ${p.chemistry_call?"sent":""}`,disabled:c==="chemistry_call"||!v.email,title:v.email?"Send scheduling link to applicant":"No email address",children:c==="chemistry_call"?h.jsxs(h.Fragment,{children:[h.jsx(lo,{size:16,className:"spin"})," Sending..."]}):p.chemistry_call?h.jsxs(h.Fragment,{children:[h.jsx(Ms,{size:16})," Sent!"]}):h.jsxs(h.Fragment,{children:[h.jsx(ab,{size:16})," Email Link"]})}),h.jsxs("button",{onClick:()=>Y("chemistry_call"),className:"btn-calendly",children:[h.jsx(Ra,{size:16}),"Book Now"]})]})]}),h.jsx("div",{className:"scheduling-status",children:h.jsxs("div",{className:`status-indicator ${v.chemistry_call_status||"not_scheduled"}`,children:[h.jsx("span",{className:"status-dot"}),h.jsx("span",{className:"status-text",children:v.chemistry_call_status==="completed"?"Completed":v.chemistry_call_status==="scheduled"?"Scheduled":v.chemistry_call_status==="no_show"?"No Show":"Not Scheduled"}),v.chemistry_call_date&&h.jsx("span",{className:"status-date",children:li(new Date(v.chemistry_call_date),"MMM d, yyyy")})]})}),h.jsxs("div",{className:"fields-grid",children:[h.jsx(J,{label:"Date",field:"chemistry_call_date",value:v.chemistry_call_date,type:"date"}),h.jsx(J,{label:"Status",field:"chemistry_call_status",value:v.chemistry_call_status,type:"select",options:[{value:"not_scheduled",label:"Not Scheduled"},{value:"scheduled",label:"Scheduled"},{value:"completed",label:"Completed"},{value:"no_show",label:"No Show"}]})]}),h.jsx("div",{className:"fields-stack",children:h.jsx(J,{label:"Notes",field:"chemistry_call_notes",value:v.chemistry_call_notes,type:"textarea"})})]}),h.jsxs("section",{className:"card scheduling-card",children:[h.jsxs("div",{className:"card-header-row",children:[h.jsxs("h3",{children:[h.jsx(Ra,{size:20})," Interview"]}),h.jsxs("div",{className:"btn-group",children:[h.jsx("button",{onClick:()=>U("interview"),className:`btn-send-email ${p.interview?"sent":""}`,disabled:c==="interview"||!v.email,title:v.email?"Send scheduling link to applicant":"No email address",children:c==="interview"?h.jsxs(h.Fragment,{children:[h.jsx(lo,{size:16,className:"spin"})," Sending..."]}):p.interview?h.jsxs(h.Fragment,{children:[h.jsx(Ms,{size:16})," Sent!"]}):h.jsxs(h.Fragment,{children:[h.jsx(ab,{size:16})," Email Link"]})}),h.jsxs("button",{onClick:()=>Y("interview"),className:"btn-calendly",children:[h.jsx(Ra,{size:16}),"Book Now"]})]})]}),h.jsx("div",{className:"scheduling-status",children:h.jsxs("div",{className:`status-indicator ${v.interview_status||"not_scheduled"}`,children:[h.jsx("span",{className:"status-dot"}),h.jsx("span",{className:"status-text",children:v.interview_status==="completed"?"Completed":v.interview_status==="scheduled"?"Scheduled":v.interview_status==="no_show"?"No Show":"Not Scheduled"}),v.interview_date&&h.jsx("span",{className:"status-date",children:li(new Date(v.interview_date),"MMM d, yyyy")})]})}),h.jsxs("div",{className:"fields-grid",children:[h.jsx(J,{label:"Date",field:"interview_date",value:v.interview_date,type:"date"}),h.jsx(J,{label:"Status",field:"interview_status",value:v.interview_status,type:"select",options:[{value:"not_scheduled",label:"Not Scheduled"},{value:"scheduled",label:"Scheduled"},{value:"completed",label:"Completed"},{value:"no_show",label:"No Show"}]})]}),h.jsx("div",{className:"fields-stack",children:h.jsx(J,{label:"Notes",field:"interview_notes",value:v.interview_notes,type:"textarea"})})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{children:"Approval & Payment"}),h.jsxs("div",{className:"fields-grid",children:[h.jsx(J,{label:"Approval Status",field:"approval_status",value:v.approval_status,type:"select",options:[{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"conditional",label:"Conditional"},{value:"declined",label:"Declined"}]}),h.jsx(J,{label:"Approval Date",field:"approval_date",value:v.approval_date,type:"date"}),h.jsx(J,{label:"Payment Status",field:"payment_status",value:v.payment_status,type:"select",options:[{value:"Unpaid",label:"Unpaid"},{value:"Deposit Paid",label:"Deposit Paid"},{value:"Paid in Full",label:"Paid in Full"},{value:"Payment Plan",label:"Payment Plan"},{value:"Refunded",label:"Refunded"}]}),h.jsx(J,{label:"Payment Date",field:"payment_date",value:v.payment_date,type:"date"}),h.jsx(J,{label:"Waiver Signed",field:"signed_waiver",value:v.signed_waiver,type:"boolean"})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{children:"Shipping"}),h.jsxs("div",{className:"fields-grid",children:[h.jsx(J,{label:"Shipping Status",field:"shipping_status",value:v.shipping_status,type:"select",options:[{value:"not_shipped",label:"Not Shipped"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"}]}),h.jsx(J,{label:"Carrier",field:"shipping_carrier",value:v.shipping_carrier}),h.jsx(J,{label:"Tracking Number",field:"shipping_tracking_number",value:v.shipping_tracking_number})]})]})]}),e==="engagement"&&h.jsxs("div",{className:"tab-panel engagement",children:[h.jsxs("section",{className:"card",children:[h.jsxs("h3",{children:[h.jsx(Rr,{size:20})," Portal Account"]}),D?h.jsxs("div",{className:"portal-status connected",children:[h.jsxs("div",{className:"status-badge success",children:[h.jsx(tb,{size:16}),h.jsx("span",{children:"Portal Account Connected"})]}),h.jsxs("div",{className:"fields-grid",children:[h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Auth User ID"}),h.jsxs("span",{className:"mono",children:[D.slice(0,8),"..."]})]}),h.jsx(J,{label:"Portal Signup Date",field:"portal_signup_date",value:v.portal_signup_date,type:"date"})]})]}):h.jsxs("div",{className:"portal-status not-connected",children:[h.jsxs("div",{className:"status-badge warning",children:[h.jsx(B0,{size:16}),h.jsx("span",{children:"No Portal Account"})]}),h.jsx("p",{className:"help-text",children:"This person hasn't created a portal account yet. Course access can only be granted after they sign up."})]})]}),h.jsxs("section",{className:"card",children:[h.jsxs("h3",{children:[h.jsx(x1,{size:20})," Course Access by Level"]}),D?se?h.jsxs("div",{className:"loading-state",children:[h.jsx(lo,{size:20,className:"spin"}),h.jsx("span",{children:"Loading course access..."})]}):h.jsx("div",{className:"course-access-grid",children:z?.map(fe=>{const F=fe.is_default||P?.some($=>$.course_id===fe.id),L=X.isPending,B=pe.isPending;return h.jsxs("div",{className:`course-access-card ${F?"has-access":"no-access"}`,style:{borderLeftColor:fe.color||"#94A3B8"},children:[h.jsxs("div",{className:"course-header",children:[h.jsx("span",{className:"course-name",children:fe.name}),fe.is_default&&h.jsx("span",{className:"default-badge",children:"Default"})]}),h.jsx("div",{className:"course-actions",children:fe.is_default?h.jsx("span",{className:"access-status always",children:"Always Available"}):F?h.jsxs("button",{className:"btn-revoke",onClick:()=>pe.mutate({userId:D,courseId:fe.id}),disabled:B,children:[B?h.jsx(lo,{size:14,className:"spin"}):h.jsx(B0,{size:14}),"Revoke Access"]}):h.jsxs("button",{className:"btn-grant",onClick:()=>X.mutate({userId:D,courseId:fe.id}),disabled:L,children:[L?h.jsx(lo,{size:14,className:"spin"}):h.jsx(tb,{size:14}),"Grant Access"]})}),F&&!fe.is_default&&h.jsx("div",{className:"access-granted-info",children:h.jsxs("span",{children:["Granted: ",P?.find($=>$.course_id===fe.id)?.granted_at?li(new Date(P.find($=>$.course_id===fe.id).granted_at),"MMM d, yyyy"):"Unknown"]})})]},fe.id)})}):h.jsxs("div",{className:"no-access-message",children:[h.jsx(Cc,{size:20}),h.jsx("p",{children:"Course access requires a portal account. Once the applicant signs up, you can grant course access here."})]})]}),D&&v.pipeline_stage&&h.jsxs("section",{className:"card",children:[h.jsxs("h3",{children:[h.jsx(Cc,{size:20})," Course Access Rules"]}),h.jsxs("div",{className:"rules-info",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Current Stage:"})," ",ho[v.pipeline_stage]||v.pipeline_stage]}),Gi.indexOf(v.pipeline_stage)<Gi.indexOf("payment")?h.jsxs("div",{className:"rule-notice warning",children:[h.jsx(Cc,{size:16}),h.jsx("span",{children:"Applicant has not reached Payment stage. Beginning course access will be auto-granted when moved to Payment."})]}):h.jsxs("div",{className:"rule-notice success",children:[h.jsx(Ah,{size:16}),h.jsx("span",{children:"Applicant is past Approval stage and eligible for course access."})]})]})]}),h.jsxs("section",{className:"card",children:[h.jsxs("h3",{children:[h.jsx(Ms,{size:20})," Communication History"]}),h.jsxs("div",{className:"fields-grid",children:[h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Emails Sent"}),h.jsx("span",{children:v.email_count||0})]}),h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Last Email"}),h.jsx("span",{children:v.last_email_sent_at?li(new Date(v.last_email_sent_at),"MMM d, yyyy"):"Never"})]})]})]})]})]})]})}function HC(){return ki({queryKey:["all_applications_accommodation"],queryFn:async()=>{const{data:t,error:e}=await dt.from("applications").select("id, user_id, first_name, last_name, email, training_id, dietary_preferences, dietary_other, allergies, accommodation_notes, special_accommodations, accommodation_choice, meal_selections").order("created_at",{ascending:!1});if(e)throw console.error("Error fetching applications:",e),e;return t}})}const $C="modulepreload",GC=function(t){return"/"+t},pb={},Mg=function(e,n,a){let s=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");s=f(n.map(p=>{if(p=GC(p),p in pb)return;pb[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":$C,g||(_.as="script"),_.crossOrigin="",_.href=p,c&&_.setAttribute("nonce",c),document.head.appendChild(_),g)return new Promise((b,j)=>{_.addEventListener("load",b),_.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return s.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function Tn(t){"@babel/helpers - typeof";return Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tn(t)}var zs=Uint8Array,Dr=Uint16Array,E1=Int32Array,C1=new zs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),k1=new zs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),mb=new zs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rx=function(t,e){for(var n=new Dr(31),a=0;a<31;++a)n[a]=e+=1<<t[a-1];for(var s=new E1(n[30]),a=1;a<30;++a)for(var o=n[a];o<n[a+1];++o)s[o]=o-n[a]<<5|a;return{b:n,r:s}},sx=rx(C1,2),VC=sx.b,q0=sx.r;VC[28]=258,q0[258]=28;var WC=rx(k1,0),gb=WC.r,F0=new Dr(32768);for(var ti=0;ti<32768;++ti){var Ml=(ti&43690)>>1|(ti&21845)<<1;Ml=(Ml&52428)>>2|(Ml&13107)<<2,Ml=(Ml&61680)>>4|(Ml&3855)<<4,F0[ti]=((Ml&65280)>>8|(Ml&255)<<8)>>1}var dh=(function(t,e,n){for(var a=t.length,s=0,o=new Dr(e);s<a;++s)t[s]&&++o[t[s]-1];var u=new Dr(e);for(s=1;s<e;++s)u[s]=u[s-1]+o[s-1]<<1;var c;if(n){c=new Dr(1<<e);var f=15-e;for(s=0;s<a;++s)if(t[s])for(var p=s<<4|t[s],g=e-t[s],v=u[t[s]-1]++<<g,_=v|(1<<g)-1;v<=_;++v)c[F0[v]>>f]=p}else for(c=new Dr(a),s=0;s<a;++s)t[s]&&(c[s]=F0[u[t[s]-1]++]>>15-t[s]);return c}),zc=new zs(288);for(var ti=0;ti<144;++ti)zc[ti]=8;for(var ti=144;ti<256;++ti)zc[ti]=9;for(var ti=256;ti<280;++ti)zc[ti]=7;for(var ti=280;ti<288;++ti)zc[ti]=8;var Tp=new zs(32);for(var ti=0;ti<32;++ti)Tp[ti]=5;var YC=dh(zc,9,0),KC=dh(Tp,5,0),ox=function(t){return(t+7)/8|0},QC=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new zs(t.subarray(e,n))},Go=function(t,e,n){n<<=e&7;var a=e/8|0;t[a]|=n,t[a+1]|=n>>8},rh=function(t,e,n){n<<=e&7;var a=e/8|0;t[a]|=n,t[a+1]|=n>>8,t[a+2]|=n>>16},Pg=function(t,e){for(var n=[],a=0;a<t.length;++a)t[a]&&n.push({s:a,f:t[a]});var s=n.length,o=n.slice();if(!s)return{t:cx,l:0};if(s==1){var u=new zs(n[0].s+1);return u[n[0].s]=1,{t:u,l:1}}n.sort(function(se,he){return se.f-he.f}),n.push({s:-1,f:25001});var c=n[0],f=n[1],p=0,g=1,v=2;for(n[0]={s:-1,f:c.f+f.f,l:c,r:f};g!=s-1;)c=n[n[p].f<n[v].f?p++:v++],f=n[p!=g&&n[p].f<n[v].f?p++:v++],n[g++]={s:-1,f:c.f+f.f,l:c,r:f};for(var _=o[0].s,a=1;a<s;++a)o[a].s>_&&(_=o[a].s);var b=new Dr(_+1),j=H0(n[g-1],b,0);if(j>e){var a=0,E=0,T=j-e,A=1<<T;for(o.sort(function(he,oe){return b[oe.s]-b[he.s]||he.f-oe.f});a<s;++a){var z=o[a].s;if(b[z]>e)E+=A-(1<<j-b[z]),b[z]=e;else break}for(E>>=T;E>0;){var D=o[a].s;b[D]<e?E-=1<<e-b[D]++-1:++a}for(;a>=0&&E;--a){var P=o[a].s;b[P]==e&&(--b[P],++E)}j=e}return{t:new zs(b),l:j}},H0=function(t,e,n){return t.s==-1?Math.max(H0(t.l,e,n+1),H0(t.r,e,n+1)):e[t.s]=n},vb=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Dr(++e),a=0,s=t[0],o=1,u=function(f){n[a++]=f},c=1;c<=e;++c)if(t[c]==s&&c!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(s),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(s);o=1,s=t[c]}return{c:n.subarray(0,a),n:e}},sh=function(t,e){for(var n=0,a=0;a<e.length;++a)n+=t[a]*e[a];return n},lx=function(t,e,n){var a=n.length,s=ox(e+2);t[s]=a&255,t[s+1]=a>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var o=0;o<a;++o)t[s+o+4]=n[o];return(s+4+a)*8},yb=function(t,e,n,a,s,o,u,c,f,p,g){Go(e,g++,n),++s[256];for(var v=Pg(s,15),_=v.t,b=v.l,j=Pg(o,15),E=j.t,T=j.l,A=vb(_),z=A.c,D=A.n,P=vb(E),se=P.c,he=P.n,oe=new Dr(19),ee=0;ee<z.length;++ee)++oe[z[ee]&31];for(var ee=0;ee<se.length;++ee)++oe[se[ee]&31];for(var X=Pg(oe,7),pe=X.t,U=X.l,Y=19;Y>4&&!pe[mb[Y-1]];--Y);var le=p+5<<3,ue=sh(s,zc)+sh(o,Tp)+u,k=sh(s,_)+sh(o,E)+u+14+3*Y+sh(oe,pe)+2*oe[16]+3*oe[17]+7*oe[18];if(f>=0&&le<=ue&&le<=k)return lx(e,g,t.subarray(f,f+p));var I,te,J,ve;if(Go(e,g,1+(k<ue)),g+=2,k<ue){I=dh(_,b,0),te=_,J=dh(E,T,0),ve=E;var fe=dh(pe,U,0);Go(e,g,D-257),Go(e,g+5,he-1),Go(e,g+10,Y-4),g+=14;for(var ee=0;ee<Y;++ee)Go(e,g+3*ee,pe[mb[ee]]);g+=3*Y;for(var F=[z,se],L=0;L<2;++L)for(var B=F[L],ee=0;ee<B.length;++ee){var $=B[ee]&31;Go(e,g,fe[$]),g+=pe[$],$>15&&(Go(e,g,B[ee]>>5&127),g+=B[ee]>>12)}}else I=YC,te=zc,J=KC,ve=Tp;for(var ee=0;ee<c;++ee){var ie=a[ee];if(ie>255){var $=ie>>18&31;rh(e,g,I[$+257]),g+=te[$+257],$>7&&(Go(e,g,ie>>23&31),g+=C1[$]);var ce=ie&31;rh(e,g,J[ce]),g+=ve[ce],ce>3&&(rh(e,g,ie>>5&8191),g+=k1[ce])}else rh(e,g,I[ie]),g+=te[ie]}return rh(e,g,I[256]),g+te[256]},XC=new E1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cx=new zs(0),JC=function(t,e,n,a,s,o){var u=o.z||t.length,c=new zs(a+u+5*(1+Math.ceil(u/7e3))+s),f=c.subarray(a,c.length-s),p=o.l,g=(o.r||0)&7;if(e){g&&(f[0]=o.r>>3);for(var v=XC[e-1],_=v>>13,b=v&8191,j=(1<<n)-1,E=o.p||new Dr(32768),T=o.h||new Dr(j+1),A=Math.ceil(n/3),z=2*A,D=function(Ye){return(t[Ye]^t[Ye+1]<<A^t[Ye+2]<<z)&j},P=new E1(25e3),se=new Dr(288),he=new Dr(32),oe=0,ee=0,X=o.i||0,pe=0,U=o.w||0,Y=0;X+2<u;++X){var le=D(X),ue=X&32767,k=T[le];if(E[ue]=k,T[le]=ue,U<=X){var I=u-X;if((oe>7e3||pe>24576)&&(I>423||!p)){g=yb(t,f,0,P,se,he,ee,pe,Y,X-Y,g),pe=oe=ee=0,Y=X;for(var te=0;te<286;++te)se[te]=0;for(var te=0;te<30;++te)he[te]=0}var J=2,ve=0,fe=b,F=ue-k&32767;if(I>2&&le==D(X-F))for(var L=Math.min(_,I)-1,B=Math.min(32767,X),$=Math.min(258,I);F<=B&&--fe&&ue!=k;){if(t[X+J]==t[X+J-F]){for(var ie=0;ie<$&&t[X+ie]==t[X+ie-F];++ie);if(ie>J){if(J=ie,ve=F,ie>L)break;for(var ce=Math.min(F,ie-2),Q=0,te=0;te<ce;++te){var be=X-F+te&32767,xe=E[be],je=be-xe&32767;je>Q&&(Q=je,k=be)}}}ue=k,k=E[ue],F+=ue-k&32767}if(ve){P[pe++]=268435456|q0[J]<<18|gb[ve];var Ie=q0[J]&31,Ve=gb[ve]&31;ee+=C1[Ie]+k1[Ve],++se[257+Ie],++he[Ve],U=X+J,++oe}else P[pe++]=t[X],++se[t[X]]}}for(X=Math.max(X,U);X<u;++X)P[pe++]=t[X],++se[t[X]];g=yb(t,f,p,P,se,he,ee,pe,Y,X-Y,g),p||(o.r=g&7|f[g/8|0]<<3,g-=7,o.h=T,o.p=E,o.i=X,o.w=U)}else{for(var X=o.w||0;X<u+p;X+=65535){var Ge=X+65535;Ge>=u&&(f[g/8|0]=p,Ge=u),g=lx(f,g+1,t.subarray(X,Ge))}o.i=u}return QC(c,0,a+ox(g)+s)},ux=function(){var t=1,e=0;return{p:function(n){for(var a=t,s=e,o=n.length|0,u=0;u!=o;){for(var c=Math.min(u+2655,o);u<c;++u)s+=a+=n[u];a=(a&65535)+15*(a>>16),s=(s&65535)+15*(s>>16)}t=a,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},ZC=function(t,e,n,a,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new zs(o.length+t.length);u.set(o),u.set(t,o.length),t=u,s.w=o.length}return JC(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,a,s)},dx=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},ek=function(t,e){var n=e.level,a=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=a<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=ux();s.p(e.dictionary),dx(t,2,s.d())}};function $0(t,e){e||(e={});var n=ux();n.p(t);var a=ZC(t,e,e.dictionary?6:2,4);return ek(a,e),dx(a,a.length-4,n.d()),a}var tk=typeof TextDecoder<"u"&&new TextDecoder,nk=0;try{tk.decode(cx,{stream:!0}),nk=1}catch{}function ik(t){if(Array.isArray(t))return t}function ak(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,o,u,c=[],f=!0,p=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(a=o.call(n)).done)&&(c.push(a.value),c.length!==e);f=!0);}catch(g){p=!0,s=g}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw s}}return c}}function bb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}function rk(t,e){if(t){if(typeof t=="string")return bb(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bb(t,e):void 0}}function sk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wb(t,e){return ik(t)||ak(t,e)||rk(t,e)||sk()}function xb(t,e="utf8"){return new TextDecoder(e).decode(t)}const ok=new TextEncoder;function lk(t){return ok.encode(t)}const ck=1024*8,uk=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),zg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class L1{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=ck,n={}){let a=!1;typeof e=="number"?e=new ArrayBuffer(e):(a=!0,this.lastWrittenByte=e.byteLength);const s=n.offset?n.offset>>>0:0,o=e.byteLength-s;let u=s;(ArrayBuffer.isView(e)||e instanceof L1)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+s),e=e.buffer),a?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const a=(this.offset+e)*2,s=new Uint8Array(a);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const a=zg[n].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+a);if(this.littleEndian===uk&&n!=="uint8"&&n!=="int8"){const c=new Uint8Array(this.buffer.slice(s,s+a));c.reverse();const f=new zg[n](c.buffer);return this.offset+=a,f.reverse(),f}const u=new zg[n](o);return this.offset+=a,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let a=0;a<e;a++)n+=this.readChar();return n}readUtf8(e=1){return xb(this.readBytes(e))}decodeText(e=1,n="utf8"){return xb(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(lk(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function fd(t){let e=t.length;for(;--e>=0;)t[e]=0}const dk=3,hk=258,hx=29,fk=256,pk=fk+1+hx,fx=30,mk=512,gk=new Array((pk+2)*2);fd(gk);const vk=new Array(fx*2);fd(vk);const yk=new Array(mk);fd(yk);const bk=new Array(hk-dk+1);fd(bk);const wk=new Array(hx);fd(wk);const xk=new Array(fx);fd(xk);const _k=(t,e,n,a)=>{let s=t&65535|0,o=t>>>16&65535|0,u=0;for(;n!==0;){u=n>2e3?2e3:n,n-=u;do s=s+e[a++]|0,o=o+s|0;while(--u);s%=65521,o%=65521}return s|o<<16|0};var G0=_k;const Sk=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var a=0;a<8;a++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},Nk=new Uint32Array(Sk()),jk=(t,e,n,a)=>{const s=Nk,o=a+n;t^=-1;for(let u=a;u<o;u++)t=t>>>8^s[(t^e[u])&255];return t^-1};var so=jk,V0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},px={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Ak=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Ek=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const a in n)Ak(n,a)&&(t[a]=n[a])}}return t},Ck=t=>{let e=0;for(let a=0,s=t.length;a<s;a++)e+=t[a].length;const n=new Uint8Array(e);for(let a=0,s=0,o=t.length;a<o;a++){let u=t[a];n.set(u,s),s+=u.length}return n},mx={assign:Ek,flattenChunks:Ck};let gx=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{gx=!1}const Lh=new Uint8Array(256);for(let t=0;t<256;t++)Lh[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Lh[254]=Lh[254]=1;var kk=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,a,s,o,u=t.length,c=0;for(s=0;s<u;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<u&&(a=t.charCodeAt(s+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),s++)),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(c),o=0,s=0;o<c;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<u&&(a=t.charCodeAt(s+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),s++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};const Lk=(t,e)=>{if(e<65534&&t.subarray&&gx)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n};var Tk=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let a,s;const o=new Array(n*2);for(s=0,a=0;a<n;){let u=t[a++];if(u<128){o[s++]=u;continue}let c=Lh[u];if(c>4){o[s++]=65533,a+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&a<n;)u=u<<6|t[a++]&63,c--;if(c>1){o[s++]=65533;continue}u<65536?o[s++]=u:(u-=65536,o[s++]=55296|u>>10&1023,o[s++]=56320|u&1023)}return Lk(o,s)},Ok=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Lh[t[n]]>e?n:e},W0={string2buf:kk,buf2string:Tk,utf8border:Ok};function Rk(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Dk=Rk;const Jf=16209,Mk=16191;var Pk=function(e,n){let a,s,o,u,c,f,p,g,v,_,b,j,E,T,A,z,D,P,se,he,oe,ee,X,pe;const U=e.state;a=e.next_in,X=e.input,s=a+(e.avail_in-5),o=e.next_out,pe=e.output,u=o-(n-e.avail_out),c=o+(e.avail_out-257),f=U.dmax,p=U.wsize,g=U.whave,v=U.wnext,_=U.window,b=U.hold,j=U.bits,E=U.lencode,T=U.distcode,A=(1<<U.lenbits)-1,z=(1<<U.distbits)-1;e:do{j<15&&(b+=X[a++]<<j,j+=8,b+=X[a++]<<j,j+=8),D=E[b&A];t:for(;;){if(P=D>>>24,b>>>=P,j-=P,P=D>>>16&255,P===0)pe[o++]=D&65535;else if(P&16){se=D&65535,P&=15,P&&(j<P&&(b+=X[a++]<<j,j+=8),se+=b&(1<<P)-1,b>>>=P,j-=P),j<15&&(b+=X[a++]<<j,j+=8,b+=X[a++]<<j,j+=8),D=T[b&z];n:for(;;){if(P=D>>>24,b>>>=P,j-=P,P=D>>>16&255,P&16){if(he=D&65535,P&=15,j<P&&(b+=X[a++]<<j,j+=8,j<P&&(b+=X[a++]<<j,j+=8)),he+=b&(1<<P)-1,he>f){e.msg="invalid distance too far back",U.mode=Jf;break e}if(b>>>=P,j-=P,P=o-u,he>P){if(P=he-P,P>g&&U.sane){e.msg="invalid distance too far back",U.mode=Jf;break e}if(oe=0,ee=_,v===0){if(oe+=p-P,P<se){se-=P;do pe[o++]=_[oe++];while(--P);oe=o-he,ee=pe}}else if(v<P){if(oe+=p+v-P,P-=v,P<se){se-=P;do pe[o++]=_[oe++];while(--P);if(oe=0,v<se){P=v,se-=P;do pe[o++]=_[oe++];while(--P);oe=o-he,ee=pe}}}else if(oe+=v-P,P<se){se-=P;do pe[o++]=_[oe++];while(--P);oe=o-he,ee=pe}for(;se>2;)pe[o++]=ee[oe++],pe[o++]=ee[oe++],pe[o++]=ee[oe++],se-=3;se&&(pe[o++]=ee[oe++],se>1&&(pe[o++]=ee[oe++]))}else{oe=o-he;do pe[o++]=pe[oe++],pe[o++]=pe[oe++],pe[o++]=pe[oe++],se-=3;while(se>2);se&&(pe[o++]=pe[oe++],se>1&&(pe[o++]=pe[oe++]))}}else if((P&64)===0){D=T[(D&65535)+(b&(1<<P)-1)];continue n}else{e.msg="invalid distance code",U.mode=Jf;break e}break}}else if((P&64)===0){D=E[(D&65535)+(b&(1<<P)-1)];continue t}else if(P&32){U.mode=Mk;break e}else{e.msg="invalid literal/length code",U.mode=Jf;break e}break}}while(a<s&&o<c);se=j>>3,a-=se,j-=se<<3,b&=(1<<j)-1,e.next_in=a,e.next_out=o,e.avail_in=a<s?5+(s-a):5-(a-s),e.avail_out=o<c?257+(c-o):257-(o-c),U.hold=b,U.bits=j};const Bu=15,_b=852,Sb=592,Nb=0,Bg=1,jb=2,zk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Bk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Uk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ik=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),qk=(t,e,n,a,s,o,u,c)=>{const f=c.bits;let p=0,g=0,v=0,_=0,b=0,j=0,E=0,T=0,A=0,z=0,D,P,se,he,oe,ee=null,X;const pe=new Uint16Array(Bu+1),U=new Uint16Array(Bu+1);let Y=null,le,ue,k;for(p=0;p<=Bu;p++)pe[p]=0;for(g=0;g<a;g++)pe[e[n+g]]++;for(b=f,_=Bu;_>=1&&pe[_]===0;_--);if(b>_&&(b=_),_===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,c.bits=1,0;for(v=1;v<_&&pe[v]===0;v++);for(b<v&&(b=v),T=1,p=1;p<=Bu;p++)if(T<<=1,T-=pe[p],T<0)return-1;if(T>0&&(t===Nb||_!==1))return-1;for(U[1]=0,p=1;p<Bu;p++)U[p+1]=U[p]+pe[p];for(g=0;g<a;g++)e[n+g]!==0&&(u[U[e[n+g]]++]=g);if(t===Nb?(ee=Y=u,X=20):t===Bg?(ee=zk,Y=Bk,X=257):(ee=Uk,Y=Ik,X=0),z=0,g=0,p=v,oe=o,j=b,E=0,se=-1,A=1<<b,he=A-1,t===Bg&&A>_b||t===jb&&A>Sb)return 1;for(;;){le=p-E,u[g]+1<X?(ue=0,k=u[g]):u[g]>=X?(ue=Y[u[g]-X],k=ee[u[g]-X]):(ue=96,k=0),D=1<<p-E,P=1<<j,v=P;do P-=D,s[oe+(z>>E)+P]=le<<24|ue<<16|k|0;while(P!==0);for(D=1<<p-1;z&D;)D>>=1;if(D!==0?(z&=D-1,z+=D):z=0,g++,--pe[p]===0){if(p===_)break;p=e[n+u[g]]}if(p>b&&(z&he)!==se){for(E===0&&(E=b),oe+=v,j=p-E,T=1<<j;j+E<_&&(T-=pe[j+E],!(T<=0));)j++,T<<=1;if(A+=1<<j,t===Bg&&A>_b||t===jb&&A>Sb)return 1;se=z&he,s[se]=b<<24|j<<16|oe-o|0}}return z!==0&&(s[oe+z]=p-E<<24|64<<16|0),c.bits=b,0};var hh=qk;const Fk=0,vx=1,yx=2,{Z_FINISH:Ab,Z_BLOCK:Hk,Z_TREES:Zf,Z_OK:Bc,Z_STREAM_END:$k,Z_NEED_DICT:Gk,Z_STREAM_ERROR:ns,Z_DATA_ERROR:bx,Z_MEM_ERROR:wx,Z_BUF_ERROR:Vk,Z_DEFLATED:Eb}=px,Qp=16180,Cb=16181,kb=16182,Lb=16183,Tb=16184,Ob=16185,Rb=16186,Db=16187,Mb=16188,Pb=16189,Op=16190,Vo=16191,Ug=16192,zb=16193,Ig=16194,Bb=16195,Ub=16196,Ib=16197,qb=16198,ep=16199,tp=16200,Fb=16201,Hb=16202,$b=16203,Gb=16204,Vb=16205,qg=16206,Wb=16207,Yb=16208,si=16209,xx=16210,_x=16211,Wk=852,Yk=592,Kk=15,Qk=Kk,Kb=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Xk(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ic=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Qp||e.mode>_x?1:0},Sx=t=>{if(Ic(t))return ns;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Qp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Wk),e.distcode=e.distdyn=new Int32Array(Yk),e.sane=1,e.back=-1,Bc},Nx=t=>{if(Ic(t))return ns;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Sx(t)},jx=(t,e)=>{let n;if(Ic(t))return ns;const a=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ns:(a.window!==null&&a.wbits!==e&&(a.window=null),a.wrap=n,a.wbits=e,Nx(t))},Ax=(t,e)=>{if(!t)return ns;const n=new Xk;t.state=n,n.strm=t,n.window=null,n.mode=Qp;const a=jx(t,e);return a!==Bc&&(t.state=null),a},Jk=t=>Ax(t,Qk);let Qb=!0,Fg,Hg;const Zk=t=>{if(Qb){Fg=new Int32Array(512),Hg=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(hh(vx,t.lens,0,288,Fg,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;hh(yx,t.lens,0,32,Hg,0,t.work,{bits:5}),Qb=!1}t.lencode=Fg,t.lenbits=9,t.distcode=Hg,t.distbits=5},Ex=(t,e,n,a)=>{let s;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),a>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>a&&(s=a),o.window.set(e.subarray(n-a,n-a+s),o.wnext),a-=s,a?(o.window.set(e.subarray(n-a,n),0),o.wnext=a,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},e7=(t,e)=>{let n,a,s,o,u,c,f,p,g,v,_,b,j,E,T=0,A,z,D,P,se,he,oe,ee;const X=new Uint8Array(4);let pe,U;const Y=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ic(t)||!t.output||!t.input&&t.avail_in!==0)return ns;n=t.state,n.mode===Vo&&(n.mode=Ug),u=t.next_out,s=t.output,f=t.avail_out,o=t.next_in,a=t.input,c=t.avail_in,p=n.hold,g=n.bits,v=c,_=f,ee=Bc;e:for(;;)switch(n.mode){case Qp:if(n.wrap===0){n.mode=Ug;break}for(;g<16;){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}if(n.wrap&2&&p===35615){n.wbits===0&&(n.wbits=15),n.check=0,X[0]=p&255,X[1]=p>>>8&255,n.check=so(n.check,X,2,0),p=0,g=0,n.mode=Cb;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((p&255)<<8)+(p>>8))%31){t.msg="incorrect header check",n.mode=si;break}if((p&15)!==Eb){t.msg="unknown compression method",n.mode=si;break}if(p>>>=4,g-=4,oe=(p&15)+8,n.wbits===0&&(n.wbits=oe),oe>15||oe>n.wbits){t.msg="invalid window size",n.mode=si;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=p&512?Pb:Vo,p=0,g=0;break;case Cb:for(;g<16;){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}if(n.flags=p,(n.flags&255)!==Eb){t.msg="unknown compression method",n.mode=si;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=si;break}n.head&&(n.head.text=p>>8&1),n.flags&512&&n.wrap&4&&(X[0]=p&255,X[1]=p>>>8&255,n.check=so(n.check,X,2,0)),p=0,g=0,n.mode=kb;case kb:for(;g<32;){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}n.head&&(n.head.time=p),n.flags&512&&n.wrap&4&&(X[0]=p&255,X[1]=p>>>8&255,X[2]=p>>>16&255,X[3]=p>>>24&255,n.check=so(n.check,X,4,0)),p=0,g=0,n.mode=Lb;case Lb:for(;g<16;){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}n.head&&(n.head.xflags=p&255,n.head.os=p>>8),n.flags&512&&n.wrap&4&&(X[0]=p&255,X[1]=p>>>8&255,n.check=so(n.check,X,2,0)),p=0,g=0,n.mode=Tb;case Tb:if(n.flags&1024){for(;g<16;){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}n.length=p,n.head&&(n.head.extra_len=p),n.flags&512&&n.wrap&4&&(X[0]=p&255,X[1]=p>>>8&255,n.check=so(n.check,X,2,0)),p=0,g=0}else n.head&&(n.head.extra=null);n.mode=Ob;case Ob:if(n.flags&1024&&(b=n.length,b>c&&(b=c),b&&(n.head&&(oe=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(a.subarray(o,o+b),oe)),n.flags&512&&n.wrap&4&&(n.check=so(n.check,a,b,o)),c-=b,o+=b,n.length-=b),n.length))break e;n.length=0,n.mode=Rb;case Rb:if(n.flags&2048){if(c===0)break e;b=0;do oe=a[o+b++],n.head&&oe&&n.length<65536&&(n.head.name+=String.fromCharCode(oe));while(oe&&b<c);if(n.flags&512&&n.wrap&4&&(n.check=so(n.check,a,b,o)),c-=b,o+=b,oe)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Db;case Db:if(n.flags&4096){if(c===0)break e;b=0;do oe=a[o+b++],n.head&&oe&&n.length<65536&&(n.head.comment+=String.fromCharCode(oe));while(oe&&b<c);if(n.flags&512&&n.wrap&4&&(n.check=so(n.check,a,b,o)),c-=b,o+=b,oe)break e}else n.head&&(n.head.comment=null);n.mode=Mb;case Mb:if(n.flags&512){for(;g<16;){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}if(n.wrap&4&&p!==(n.check&65535)){t.msg="header crc mismatch",n.mode=si;break}p=0,g=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Vo;break;case Pb:for(;g<32;){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}t.adler=n.check=Kb(p),p=0,g=0,n.mode=Op;case Op:if(n.havedict===0)return t.next_out=u,t.avail_out=f,t.next_in=o,t.avail_in=c,n.hold=p,n.bits=g,Gk;t.adler=n.check=1,n.mode=Vo;case Vo:if(e===Hk||e===Zf)break e;case Ug:if(n.last){p>>>=g&7,g-=g&7,n.mode=qg;break}for(;g<3;){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}switch(n.last=p&1,p>>>=1,g-=1,p&3){case 0:n.mode=zb;break;case 1:if(Zk(n),n.mode=ep,e===Zf){p>>>=2,g-=2;break e}break;case 2:n.mode=Ub;break;case 3:t.msg="invalid block type",n.mode=si}p>>>=2,g-=2;break;case zb:for(p>>>=g&7,g-=g&7;g<32;){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}if((p&65535)!==(p>>>16^65535)){t.msg="invalid stored block lengths",n.mode=si;break}if(n.length=p&65535,p=0,g=0,n.mode=Ig,e===Zf)break e;case Ig:n.mode=Bb;case Bb:if(b=n.length,b){if(b>c&&(b=c),b>f&&(b=f),b===0)break e;s.set(a.subarray(o,o+b),u),c-=b,o+=b,f-=b,u+=b,n.length-=b;break}n.mode=Vo;break;case Ub:for(;g<14;){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}if(n.nlen=(p&31)+257,p>>>=5,g-=5,n.ndist=(p&31)+1,p>>>=5,g-=5,n.ncode=(p&15)+4,p>>>=4,g-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=si;break}n.have=0,n.mode=Ib;case Ib:for(;n.have<n.ncode;){for(;g<3;){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}n.lens[Y[n.have++]]=p&7,p>>>=3,g-=3}for(;n.have<19;)n.lens[Y[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,pe={bits:n.lenbits},ee=hh(Fk,n.lens,0,19,n.lencode,0,n.work,pe),n.lenbits=pe.bits,ee){t.msg="invalid code lengths set",n.mode=si;break}n.have=0,n.mode=qb;case qb:for(;n.have<n.nlen+n.ndist;){for(;T=n.lencode[p&(1<<n.lenbits)-1],A=T>>>24,z=T>>>16&255,D=T&65535,!(A<=g);){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}if(D<16)p>>>=A,g-=A,n.lens[n.have++]=D;else{if(D===16){for(U=A+2;g<U;){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}if(p>>>=A,g-=A,n.have===0){t.msg="invalid bit length repeat",n.mode=si;break}oe=n.lens[n.have-1],b=3+(p&3),p>>>=2,g-=2}else if(D===17){for(U=A+3;g<U;){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}p>>>=A,g-=A,oe=0,b=3+(p&7),p>>>=3,g-=3}else{for(U=A+7;g<U;){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}p>>>=A,g-=A,oe=0,b=11+(p&127),p>>>=7,g-=7}if(n.have+b>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=si;break}for(;b--;)n.lens[n.have++]=oe}}if(n.mode===si)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=si;break}if(n.lenbits=9,pe={bits:n.lenbits},ee=hh(vx,n.lens,0,n.nlen,n.lencode,0,n.work,pe),n.lenbits=pe.bits,ee){t.msg="invalid literal/lengths set",n.mode=si;break}if(n.distbits=6,n.distcode=n.distdyn,pe={bits:n.distbits},ee=hh(yx,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,pe),n.distbits=pe.bits,ee){t.msg="invalid distances set",n.mode=si;break}if(n.mode=ep,e===Zf)break e;case ep:n.mode=tp;case tp:if(c>=6&&f>=258){t.next_out=u,t.avail_out=f,t.next_in=o,t.avail_in=c,n.hold=p,n.bits=g,Pk(t,_),u=t.next_out,s=t.output,f=t.avail_out,o=t.next_in,a=t.input,c=t.avail_in,p=n.hold,g=n.bits,n.mode===Vo&&(n.back=-1);break}for(n.back=0;T=n.lencode[p&(1<<n.lenbits)-1],A=T>>>24,z=T>>>16&255,D=T&65535,!(A<=g);){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}if(z&&(z&240)===0){for(P=A,se=z,he=D;T=n.lencode[he+((p&(1<<P+se)-1)>>P)],A=T>>>24,z=T>>>16&255,D=T&65535,!(P+A<=g);){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}p>>>=P,g-=P,n.back+=P}if(p>>>=A,g-=A,n.back+=A,n.length=D,z===0){n.mode=Vb;break}if(z&32){n.back=-1,n.mode=Vo;break}if(z&64){t.msg="invalid literal/length code",n.mode=si;break}n.extra=z&15,n.mode=Fb;case Fb:if(n.extra){for(U=n.extra;g<U;){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}n.length+=p&(1<<n.extra)-1,p>>>=n.extra,g-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Hb;case Hb:for(;T=n.distcode[p&(1<<n.distbits)-1],A=T>>>24,z=T>>>16&255,D=T&65535,!(A<=g);){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}if((z&240)===0){for(P=A,se=z,he=D;T=n.distcode[he+((p&(1<<P+se)-1)>>P)],A=T>>>24,z=T>>>16&255,D=T&65535,!(P+A<=g);){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}p>>>=P,g-=P,n.back+=P}if(p>>>=A,g-=A,n.back+=A,z&64){t.msg="invalid distance code",n.mode=si;break}n.offset=D,n.extra=z&15,n.mode=$b;case $b:if(n.extra){for(U=n.extra;g<U;){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}n.offset+=p&(1<<n.extra)-1,p>>>=n.extra,g-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=si;break}n.mode=Gb;case Gb:if(f===0)break e;if(b=_-f,n.offset>b){if(b=n.offset-b,b>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=si;break}b>n.wnext?(b-=n.wnext,j=n.wsize-b):j=n.wnext-b,b>n.length&&(b=n.length),E=n.window}else E=s,j=u-n.offset,b=n.length;b>f&&(b=f),f-=b,n.length-=b;do s[u++]=E[j++];while(--b);n.length===0&&(n.mode=tp);break;case Vb:if(f===0)break e;s[u++]=n.length,f--,n.mode=tp;break;case qg:if(n.wrap){for(;g<32;){if(c===0)break e;c--,p|=a[o++]<<g,g+=8}if(_-=f,t.total_out+=_,n.total+=_,n.wrap&4&&_&&(t.adler=n.check=n.flags?so(n.check,s,_,u-_):G0(n.check,s,_,u-_)),_=f,n.wrap&4&&(n.flags?p:Kb(p))!==n.check){t.msg="incorrect data check",n.mode=si;break}p=0,g=0}n.mode=Wb;case Wb:if(n.wrap&&n.flags){for(;g<32;){if(c===0)break e;c--,p+=a[o++]<<g,g+=8}if(n.wrap&4&&p!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=si;break}p=0,g=0}n.mode=Yb;case Yb:ee=$k;break e;case si:ee=bx;break e;case xx:return wx;case _x:default:return ns}return t.next_out=u,t.avail_out=f,t.next_in=o,t.avail_in=c,n.hold=p,n.bits=g,(n.wsize||_!==t.avail_out&&n.mode<si&&(n.mode<qg||e!==Ab))&&Ex(t,t.output,t.next_out,_-t.avail_out),v-=t.avail_in,_-=t.avail_out,t.total_in+=v,t.total_out+=_,n.total+=_,n.wrap&4&&_&&(t.adler=n.check=n.flags?so(n.check,s,_,t.next_out-_):G0(n.check,s,_,t.next_out-_)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Vo?128:0)+(n.mode===ep||n.mode===Ig?256:0),(v===0&&_===0||e===Ab)&&ee===Bc&&(ee=Vk),ee},t7=t=>{if(Ic(t))return ns;let e=t.state;return e.window&&(e.window=null),t.state=null,Bc},n7=(t,e)=>{if(Ic(t))return ns;const n=t.state;return(n.wrap&2)===0?ns:(n.head=e,e.done=!1,Bc)},i7=(t,e)=>{const n=e.length;let a,s,o;return Ic(t)||(a=t.state,a.wrap!==0&&a.mode!==Op)?ns:a.mode===Op&&(s=1,s=G0(s,e,n,0),s!==a.check)?bx:(o=Ex(t,e,n,n),o?(a.mode=xx,wx):(a.havedict=1,Bc))};var a7=Nx,r7=jx,s7=Sx,o7=Jk,l7=Ax,c7=e7,u7=t7,d7=n7,h7=i7,f7="pako inflate (from Nodeca project)",Yo={inflateReset:a7,inflateReset2:r7,inflateResetKeep:s7,inflateInit:o7,inflateInit2:l7,inflate:c7,inflateEnd:u7,inflateGetHeader:d7,inflateSetDictionary:h7,inflateInfo:f7};function p7(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var m7=p7;const Cx=Object.prototype.toString,{Z_NO_FLUSH:g7,Z_FINISH:v7,Z_OK:Th,Z_STREAM_END:$g,Z_NEED_DICT:Gg,Z_STREAM_ERROR:y7,Z_DATA_ERROR:Xb,Z_MEM_ERROR:b7}=px;function Fh(t){this.options=mx.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Dk,this.strm.avail_out=0;let n=Yo.inflateInit2(this.strm,e.windowBits);if(n!==Th)throw new Error(V0[n]);if(this.header=new m7,Yo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=W0.string2buf(e.dictionary):Cx.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Yo.inflateSetDictionary(this.strm,e.dictionary),n!==Th)))throw new Error(V0[n])}Fh.prototype.push=function(t,e){const n=this.strm,a=this.options.chunkSize,s=this.options.dictionary;let o,u,c;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?v7:g7,Cx.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(a),n.next_out=0,n.avail_out=a),o=Yo.inflate(n,u),o===Gg&&s&&(o=Yo.inflateSetDictionary(n,s),o===Th?o=Yo.inflate(n,u):o===Xb&&(o=Gg));n.avail_in>0&&o===$g&&n.state.wrap>0&&t[n.next_in]!==0;)Yo.inflateReset(n),o=Yo.inflate(n,u);switch(o){case y7:case Xb:case Gg:case b7:return this.onEnd(o),this.ended=!0,!1}if(c=n.avail_out,n.next_out&&(n.avail_out===0||o===$g))if(this.options.to==="string"){let f=W0.utf8border(n.output,n.next_out),p=n.next_out-f,g=W0.buf2string(n.output,f);n.next_out=p,n.avail_out=a-p,p&&n.output.set(n.output.subarray(f,f+p),0),this.onData(g)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===Th&&c===0)){if(o===$g)return o=Yo.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Fh.prototype.onData=function(t){this.chunks.push(t)};Fh.prototype.onEnd=function(t){t===Th&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=mx.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function w7(t,e){const n=new Fh(e);if(n.push(t),n.err)throw n.msg||V0[n.err];return n.result}var x7=Fh,_7=w7,S7={Inflate:x7,inflate:_7};const{Inflate:N7,inflate:j7}=S7;var Jb=N7,A7=j7;const kx=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;kx[t]=e}const Zb=4294967295;function E7(t,e,n){let a=t;for(let s=0;s<n;s++)a=kx[(a^e[s])&255]^a>>>8;return a}function C7(t,e){return(E7(Zb,t,e)^Zb)>>>0}function e5(t,e,n){const a=t.readUint32(),s=C7(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(s!==a)throw new Error(`CRC mismatch for chunk ${n}. Expected ${a}, found ${s}`)}function Lx(t,e,n){for(let a=0;a<n;a++)e[a]=t[a]}function Tx(t,e,n,a){let s=0;for(;s<a;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-a]&255}function Ox(t,e,n,a){let s=0;if(n.length===0)for(;s<a;s++)e[s]=t[s];else for(;s<a;s++)e[s]=t[s]+n[s]&255}function Rx(t,e,n,a,s){let o=0;if(n.length===0){for(;o<s;o++)e[o]=t[o];for(;o<a;o++)e[o]=t[o]+(e[o-s]>>1)&255}else{for(;o<s;o++)e[o]=t[o]+(n[o]>>1)&255;for(;o<a;o++)e[o]=t[o]+(e[o-s]+n[o]>>1)&255}}function Dx(t,e,n,a,s){let o=0;if(n.length===0){for(;o<s;o++)e[o]=t[o];for(;o<a;o++)e[o]=t[o]+e[o-s]&255}else{for(;o<s;o++)e[o]=t[o]+n[o]&255;for(;o<a;o++)e[o]=t[o]+k7(e[o-s],n[o],n[o-s])&255}}function k7(t,e,n){const a=t+e-n,s=Math.abs(a-t),o=Math.abs(a-e),u=Math.abs(a-n);return s<=o&&s<=u?t:o<=u?e:n}function L7(t,e,n,a,s,o){switch(t){case 0:Lx(e,n,s);break;case 1:Tx(e,n,s,o);break;case 2:Ox(e,n,a,s);break;case 3:Rx(e,n,a,s,o);break;case 4:Dx(e,n,a,s,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const T7=new Uint16Array([255]),O7=new Uint8Array(T7.buffer),R7=O7[0]===255;function D7(t){const{data:e,width:n,height:a,channels:s,depth:o}=t,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*s,f=new Uint8Array(a*n*c);let p=0;for(let g=0;g<7;g++){const v=u[g],_=Math.ceil((n-v.x)/v.xStep),b=Math.ceil((a-v.y)/v.yStep);if(_<=0||b<=0)continue;const j=_*c,E=new Uint8Array(j);for(let T=0;T<b;T++){const A=e[p++],z=e.subarray(p,p+j);p+=j;const D=new Uint8Array(j);L7(A,z,D,E,j,c),E.set(D);for(let P=0;P<_;P++){const se=v.x+P*v.xStep,he=v.y+T*v.yStep;if(!(se>=n||he>=a))for(let oe=0;oe<c;oe++)f[(he*n+se)*c+oe]=D[P*c+oe]}}}if(o===16){const g=new Uint16Array(f.buffer);if(R7)for(let v=0;v<g.length;v++)g[v]=M7(g[v]);return g}else return f}function M7(t){return(t&255)<<8|t>>8&255}const P7=new Uint16Array([255]),z7=new Uint8Array(P7.buffer),B7=z7[0]===255,U7=new Uint8Array(0);function t5(t){const{data:e,width:n,height:a,channels:s,depth:o}=t,u=Math.ceil(o/8)*s,c=Math.ceil(o/8*s*n),f=new Uint8Array(a*c);let p=U7,g=0,v,_;for(let b=0;b<a;b++){switch(v=e.subarray(g+1,g+1+c),_=f.subarray(b*c,(b+1)*c),e[g]){case 0:Lx(v,_,c);break;case 1:Tx(v,_,c,u);break;case 2:Ox(v,_,p,c);break;case 3:Rx(v,_,p,c,u);break;case 4:Dx(v,_,p,c,u);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}p=_,g+=c+1}if(o===16){const b=new Uint16Array(f.buffer);if(B7)for(let j=0;j<b.length;j++)b[j]=I7(b[j]);return b}else return f}function I7(t){return(t&255)<<8|t>>8&255}const fp=Uint8Array.of(137,80,78,71,13,10,26,10);function n5(t){if(!q7(t.readBytes(fp.length)))throw new Error("wrong PNG signature")}function q7(t){if(t.length<fp.length)return!1;for(let e=0;e<fp.length;e++)if(t[e]!==fp[e])return!1;return!0}const F7="tEXt",H7=0,Mx=new TextDecoder("latin1");function $7(t){if(V7(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const G7=/^[\u0000-\u00FF]*$/;function V7(t){if(!G7.test(t))throw new Error("invalid latin1 text")}function W7(t,e,n){const a=Px(e);t[a]=Y7(e,n-a.length-1)}function Px(t){for(t.mark();t.readByte()!==H7;);const e=t.offset;t.reset();const n=Mx.decode(t.readBytes(e-t.offset-1));return t.skip(1),$7(n),n}function Y7(t,e){return Mx.decode(t.readBytes(e))}const Lr={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Vg={UNKNOWN:-1,DEFLATE:0},i5={UNKNOWN:-1,ADAPTIVE:0},Wg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},np={NONE:0,BACKGROUND:1,PREVIOUS:2},Yg={SOURCE:0,OVER:1};class K7 extends L1{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new Jb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Vg.UNKNOWN,this._filterMethod=i5.UNKNOWN,this._interlaceMethod=Wg.UNKNOWN,this._colorType=Lr.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(n5(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(n5(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case F7:W7(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?e5(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=a+e;break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?e5(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Q7(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Lr.GREYSCALE:a=1;break;case Lr.TRUECOLOUR:a=3;break;case Lr.INDEXED_COLOUR:a=1;break;case Lr.GREYSCALE_ALPHA:a=2;break;case Lr.TRUECOLOUR_ALPHA:a=4;break;case Lr.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==Vg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const a=[];this._palette=a;for(let s=0;s<n;s++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Lr.GREYSCALE:case Lr.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case Lr.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Lr.UNKNOWN:case Lr.GREYSCALE_ALPHA:case Lr.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=Px(this),a=this.readUint8();if(a!==Vg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const s=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:A7(s)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:e,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(e);if(a){if(a.data=t5({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(a,s,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,a){switch(e.disposeOp){case np.NONE:break;case np.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const u=(s*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[u+c]=0}break;case np.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const a=1<<this._png.depth,s=(o,u)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+u)*this._png.channels,f=(o*n.width+u)*this._png.channels;return{index:c,frameIndex:f}};switch(n.blendOp){case Yg.SOURCE:for(let o=0;o<n.height;o++)for(let u=0;u<n.width;u++){const{index:c,frameIndex:f}=s(o,u);for(let p=0;p<this._png.channels;p++)e.data[c+p]=n.data[f+p]}break;case Yg.OVER:for(let o=0;o<n.height;o++)for(let u=0;u<n.width;u++){const{index:c,frameIndex:f}=s(o,u);for(let p=0;p<this._png.channels;p++){const g=n.data[f+this._png.channels-1]/a,v=p%(this._png.channels-1)===0?1:n.data[f+p],_=Math.floor(g*v+(1-g)*e.data[c+p]);e.data[c+p]+=_}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==i5.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Wg.NO_INTERLACE)this._png.data=t5({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Wg.ADAM7)this._png.data=D7({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:np.NONE,blendOp:Yg.SOURCE,data:e}),this._inflator=new Jb,this._writingDataChunks=!1}}function Q7(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var a5;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(a5||(a5={}));function X7(t,e){return new K7(t,e).decode()}var It=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Kg(){It.console&&typeof It.console.log=="function"&&It.console.log.apply(It.console,arguments)}var Fn={log:Kg,warn:function(t){It.console&&(typeof It.console.warn=="function"?It.console.warn.apply(It.console,arguments):Kg.call(null,arguments))},error:function(t){It.console&&(typeof It.console.error=="function"?It.console.error.apply(It.console,arguments):Kg(t))}};function Qg(t,e,n){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){jc(a.response,e,n)},a.onerror=function(){Fn.error("could not download file")},a.send()}function r5(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function ip(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var jc=It.saveAs||((typeof window>"u"?"undefined":Tn(window))!=="object"||window!==It?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var a=It.URL||It.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?r5(s.href)?Qg(t,e,n):ip(s,s.target="_blank"):ip(s)):(s.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(s.href)},4e4),setTimeout(function(){ip(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(r5(t))Qg(t,e,n);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){ip(a)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:Tn(o)!=="object"&&(Fn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(t,n),e)}:function(t,e,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof t=="string")return Qg(t,e,n);var s=t.type==="application/octet-stream",o=/constructor/i.test(It.HTMLElement)||It.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&o)&&(typeof FileReader>"u"?"undefined":Tn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var g=c.result;g=u?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=g:location=g,a=null},c.readAsDataURL(t)}else{var f=It.URL||It.webkitURL,p=f.createObjectURL(t);a?a.location=p:location.href=p,a=null,setTimeout(function(){f.revokeObjectURL(p)},4e4)}});function zx(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],a=0;a<n.length;a++){var s=n[a].re,o=n[a].process,u=s.exec(t);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),p=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),p.length==1&&(p="0"+p),"#"+c+f+p}}var pp=It.atob.bind(It),s5=It.btoa.bind(It);function Xg(t,e){var n=t[0],a=t[1],s=t[2],o=t[3];n=ka(n,a,s,o,e[0],7,-680876936),o=ka(o,n,a,s,e[1],12,-389564586),s=ka(s,o,n,a,e[2],17,606105819),a=ka(a,s,o,n,e[3],22,-1044525330),n=ka(n,a,s,o,e[4],7,-176418897),o=ka(o,n,a,s,e[5],12,1200080426),s=ka(s,o,n,a,e[6],17,-1473231341),a=ka(a,s,o,n,e[7],22,-45705983),n=ka(n,a,s,o,e[8],7,1770035416),o=ka(o,n,a,s,e[9],12,-1958414417),s=ka(s,o,n,a,e[10],17,-42063),a=ka(a,s,o,n,e[11],22,-1990404162),n=ka(n,a,s,o,e[12],7,1804603682),o=ka(o,n,a,s,e[13],12,-40341101),s=ka(s,o,n,a,e[14],17,-1502002290),n=La(n,a=ka(a,s,o,n,e[15],22,1236535329),s,o,e[1],5,-165796510),o=La(o,n,a,s,e[6],9,-1069501632),s=La(s,o,n,a,e[11],14,643717713),a=La(a,s,o,n,e[0],20,-373897302),n=La(n,a,s,o,e[5],5,-701558691),o=La(o,n,a,s,e[10],9,38016083),s=La(s,o,n,a,e[15],14,-660478335),a=La(a,s,o,n,e[4],20,-405537848),n=La(n,a,s,o,e[9],5,568446438),o=La(o,n,a,s,e[14],9,-1019803690),s=La(s,o,n,a,e[3],14,-187363961),a=La(a,s,o,n,e[8],20,1163531501),n=La(n,a,s,o,e[13],5,-1444681467),o=La(o,n,a,s,e[2],9,-51403784),s=La(s,o,n,a,e[7],14,1735328473),n=Ta(n,a=La(a,s,o,n,e[12],20,-1926607734),s,o,e[5],4,-378558),o=Ta(o,n,a,s,e[8],11,-2022574463),s=Ta(s,o,n,a,e[11],16,1839030562),a=Ta(a,s,o,n,e[14],23,-35309556),n=Ta(n,a,s,o,e[1],4,-1530992060),o=Ta(o,n,a,s,e[4],11,1272893353),s=Ta(s,o,n,a,e[7],16,-155497632),a=Ta(a,s,o,n,e[10],23,-1094730640),n=Ta(n,a,s,o,e[13],4,681279174),o=Ta(o,n,a,s,e[0],11,-358537222),s=Ta(s,o,n,a,e[3],16,-722521979),a=Ta(a,s,o,n,e[6],23,76029189),n=Ta(n,a,s,o,e[9],4,-640364487),o=Ta(o,n,a,s,e[12],11,-421815835),s=Ta(s,o,n,a,e[15],16,530742520),n=Oa(n,a=Ta(a,s,o,n,e[2],23,-995338651),s,o,e[0],6,-198630844),o=Oa(o,n,a,s,e[7],10,1126891415),s=Oa(s,o,n,a,e[14],15,-1416354905),a=Oa(a,s,o,n,e[5],21,-57434055),n=Oa(n,a,s,o,e[12],6,1700485571),o=Oa(o,n,a,s,e[3],10,-1894986606),s=Oa(s,o,n,a,e[10],15,-1051523),a=Oa(a,s,o,n,e[1],21,-2054922799),n=Oa(n,a,s,o,e[8],6,1873313359),o=Oa(o,n,a,s,e[15],10,-30611744),s=Oa(s,o,n,a,e[6],15,-1560198380),a=Oa(a,s,o,n,e[13],21,1309151649),n=Oa(n,a,s,o,e[4],6,-145523070),o=Oa(o,n,a,s,e[11],10,-1120210379),s=Oa(s,o,n,a,e[2],15,718787259),a=Oa(a,s,o,n,e[9],21,-343485551),t[0]=Il(n,t[0]),t[1]=Il(a,t[1]),t[2]=Il(s,t[2]),t[3]=Il(o,t[3])}function Xp(t,e,n,a,s,o){return e=Il(Il(e,t),Il(a,o)),Il(e<<s|e>>>32-s,n)}function ka(t,e,n,a,s,o,u){return Xp(e&n|~e&a,t,e,s,o,u)}function La(t,e,n,a,s,o,u){return Xp(e&a|n&~a,t,e,s,o,u)}function Ta(t,e,n,a,s,o,u){return Xp(e^n^a,t,e,s,o,u)}function Oa(t,e,n,a,s,o,u){return Xp(n^(e|~a),t,e,s,o,u)}function Bx(t){var e,n=t.length,a=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Xg(a,J7(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Xg(a,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,Xg(a,s),a}function J7(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var o5="0123456789abcdef".split("");function Z7(t){for(var e="",n=0;n<4;n++)e+=o5[t>>8*n+4&15]+o5[t>>8*n&15];return e}function eL(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Y0(t){return Bx(t).map(eL).join("")}var tL=(function(t){for(var e=0;e<t.length;e++)t[e]=Z7(t[e]);return t.join("")})(Bx("hello"))!="5d41402abc4b2a76b9719d911017c592";function Il(t,e){if(tL){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function K0(t,e){var n,a,s,o;if(t!==n){for(var u=(s=t,o=1+(256/t.length|0),new Array(o+1).join(s)),c=[],f=0;f<256;f++)c[f]=f;var p=0;for(f=0;f<256;f++){var g=c[f];p=(p+g+u.charCodeAt(f))%256,c[f]=c[p],c[p]=g}n=t,a=c}else c=a;var v=e.length,_=0,b=0,j="";for(f=0;f<v;f++)b=(b+(g=c[_=(_+1)%256]))%256,c[_]=c[b],c[b]=g,u=c[(c[_]+c[b])%256],j+=String.fromCharCode(e.charCodeAt(f)^u);return j}var l5={print:4,modify:8,copy:16,"annot-forms":32};function Gu(t,e,n,a){this.v=1,this.r=2;var s=192;t.forEach(function(c){if(l5.perm!==void 0)throw new Error("Invalid permission: "+c);s+=l5[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^s)),this.encryptionKey=Y0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=K0(this.encryptionKey,this.padding)}function Vu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,a=0;a<n;a++){var s=t.charCodeAt(a);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):t[a]}return e}function c5(t){if(Tn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,a,s){if(s=s||!1,typeof n!="string"||typeof a!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[a,!!s],o},this.unsubscribe=function(n){for(var a in e)if(e[a][n])return delete e[a][n],Object.keys(e[a]).length===0&&delete e[a],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var a=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[n]){var u=e[n][o];try{u[0].apply(t,a)}catch(c){It.console&&Fn.error("jsPDF PubSub Error",c.message,c)}u[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Rp(t){if(!(this instanceof Rp))return new Rp(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Ux(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function kc(t,e,n,a,s){if(!(this instanceof kc))return new kc(t,e,n,a,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,Ux.call(this,a,s)}function Qu(t,e,n,a,s){if(!(this instanceof Qu))return new Qu(t,e,n,a,s);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Ux.call(this,a,s)}function wt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],s=arguments[2],o=arguments[3],u=[],c=1,f=16,p="S",g=null;Tn(t=t||{})==="object"&&(n=t.orientation,a=t.unit||a,s=t.format||s,o=t.compress||t.compressPdf||o,(g=t.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(f=t.floatPrecision),p=t.defaultPathOperation||"S"),u=t.filters||(o===!0?["FlateEncode"]:u),a=a||"mm",n=(""+(n||"P")).toLowerCase();var v=t.putOnlyUsedFonts||!1,_={},b={internal:{},__private__:{}};b.__private__.PubSub=c5;var j="1.3",E=b.__private__.getPdfVersion=function(){return j};b.__private__.setPdfVersion=function(S){j=S};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return T};var A=b.__private__.getPageFormat=function(S){return T[S]};s=s||"a4";var z="compat",D="advanced",P=z;function se(){this.saveGraphicsState(),Z(new ct(Rt,0,0,-Rt,0,hs()*Rt).toString()+" cm"),this.setFontSize(this.getFontSize()/Rt),p="n",P=D}function he(){this.restoreGraphicsState(),p="S",P=z}var oe=b.__private__.combineFontStyleAndFontWeight=function(S,R){if(S=="bold"&&R=="normal"||S=="bold"&&R==400||S=="normal"&&R=="italic"||S=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(S=R==400||R==="normal"?S==="italic"?"italic":"normal":R!=700&&R!=="bold"||S!=="normal"?(R==700?"bold":R)+""+S:"bold"),S};b.advancedAPI=function(S){var R=P===z;return R&&se.call(this),typeof S!="function"||(S(this),R&&he.call(this)),this},b.compatAPI=function(S){var R=P===D;return R&&he.call(this),typeof S!="function"||(S(this),R&&se.call(this)),this},b.isAdvancedAPI=function(){return P===D};var ee,X=function(S){if(P!==D)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},pe=b.roundToPrecision=b.__private__.roundToPrecision=function(S,R){var re=e||R;if(isNaN(S)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(re).replace(/0+$/,"")};ee=b.hpf=b.__private__.hpf=typeof f=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return pe(S,f)}:f==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return pe(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return pe(S,16)};var U=b.f2=b.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return pe(S,2)},Y=b.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return pe(S,3)},le=b.scale=b.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return P===z?S*Rt:P===D?S:void 0},ue=function(S){return le((function(R){return P===z?hs()-R:P===D?R:void 0})(S))};b.__private__.setPrecision=b.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var k,I="00000000000000000000000000000000",te=b.__private__.getFileId=function(){return I},J=b.__private__.setFileId=function(S){return I=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():I.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(Oi=new Gu(g.userPermissions,g.userPassword,g.ownerPassword,I)),I};b.setFileId=function(S){return J(S),this},b.getFileId=function(){return te()};var ve=b.__private__.convertDateToPDFDate=function(S){var R=S.getTimezoneOffset(),re=R<0?"+":"-",me=Math.floor(Math.abs(R/60)),_e=Math.abs(R%60),Me=[re,$(me),"'",$(_e),"'"].join("");return["D:",S.getFullYear(),$(S.getMonth()+1),$(S.getDate()),$(S.getHours()),$(S.getMinutes()),$(S.getSeconds()),Me].join("")},fe=b.__private__.convertPDFDateToDate=function(S){var R=parseInt(S.substr(2,4),10),re=parseInt(S.substr(6,2),10)-1,me=parseInt(S.substr(8,2),10),_e=parseInt(S.substr(10,2),10),Me=parseInt(S.substr(12,2),10),He=parseInt(S.substr(14,2),10);return new Date(R,re,me,_e,Me,He,0)},F=b.__private__.setCreationDate=function(S){var R;if(S===void 0&&(S=new Date),S instanceof Date)R=ve(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=S}return k=R},L=b.__private__.getCreationDate=function(S){var R=k;return S==="jsDate"&&(R=fe(k)),R};b.setCreationDate=function(S){return F(S),this},b.getCreationDate=function(S){return L(S)};var B,$=b.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},ie=b.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},ce=0,Q=[],be=[],xe=0,je=[],Ie=[],Ve=!1,Ge=be;b.__private__.setCustomOutputDestination=function(S){Ve=!0,Ge=S};var Ye=function(S){Ve||(Ge=S)};b.__private__.resetCustomOutputDestination=function(){Ve=!1,Ge=be};var Z=b.__private__.out=function(S){return S=S.toString(),xe+=S.length+1,Ge.push(S),Ge},We=b.__private__.write=function(S){return Z(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Ot=b.__private__.getArrayBuffer=function(S){for(var R=S.length,re=new ArrayBuffer(R),me=new Uint8Array(re);R--;)me[R]=S.charCodeAt(R);return re},ut=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return ut};var Fe=t.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(S){return Fe=P===D?S/Rt:S,this};var nt,Qe=b.__private__.getFontSize=b.getFontSize=function(){return P===z?Fe:Fe*Rt},ht=t.R2L||!1;b.__private__.setR2L=b.setR2L=function(S){return ht=S,this},b.__private__.getR2L=b.getR2L=function(){return ht};var ft,zt=b.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))nt=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');nt=S}else nt=parseInt(S,10)};b.__private__.getZoomMode=function(){return nt};var Vt,ze=b.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');ft=S};b.__private__.getPageMode=function(){return ft};var pt=b.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Vt=S};b.__private__.getLayoutMode=function(){return Vt},b.__private__.setDisplayMode=b.setDisplayMode=function(S,R,re){return zt(S),pt(R),ze(re),this};var mt={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(S){if(Object.keys(mt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return mt[S]},b.__private__.getDocumentProperties=function(){return mt},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(S){for(var R in mt)mt.hasOwnProperty(R)&&S[R]&&(mt[R]=S[R]);return this},b.__private__.setDocumentProperty=function(S,R){if(Object.keys(mt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return mt[S]=R};var Je,Rt,Ze,pn,Wt,St={},Et={},Yt=[],xt={},yn={},At={},Dt={},bn=null,yt=0,Xe=[],Bt=new c5(b),vi=t.hotfixes||[],wn={},Hn={},Wn=[],ct=function S(R,re,me,_e,Me,He){if(!(this instanceof S))return new S(R,re,me,_e,Me,He);isNaN(R)&&(R=1),isNaN(re)&&(re=0),isNaN(me)&&(me=0),isNaN(_e)&&(_e=1),isNaN(Me)&&(Me=0),isNaN(He)&&(He=0),this._matrix=[R,re,me,_e,Me,He]};Object.defineProperty(ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ct.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ee).join(S)},ct.prototype.multiply=function(S){var R=S.sx*this.sx+S.shy*this.shx,re=S.sx*this.shy+S.shy*this.sy,me=S.shx*this.sx+S.sy*this.shx,_e=S.shx*this.shy+S.sy*this.sy,Me=S.tx*this.sx+S.ty*this.shx+this.tx,He=S.tx*this.shy+S.ty*this.sy+this.ty;return new ct(R,re,me,_e,Me,He)},ct.prototype.decompose=function(){var S=this.sx,R=this.shy,re=this.shx,me=this.sy,_e=this.tx,Me=this.ty,He=Math.sqrt(S*S+R*R),rt=(S/=He)*re+(R/=He)*me;re-=S*rt,me-=R*rt;var gt=Math.sqrt(re*re+me*me);return rt/=gt,S*(me/=gt)<R*(re/=gt)&&(S=-S,R=-R,rt=-rt,He=-He),{scale:new ct(He,0,0,gt,0,0),translate:new ct(1,0,0,1,_e,Me),rotate:new ct(S,R,-R,S,0,0),skew:new ct(1,0,rt,1,0,0)}},ct.prototype.toString=function(S){return this.join(" ")},ct.prototype.inversed=function(){var S=this.sx,R=this.shy,re=this.shx,me=this.sy,_e=this.tx,Me=this.ty,He=1/(S*me-R*re),rt=me*He,gt=-R*He,Mt=-re*He,qt=S*He;return new ct(rt,gt,Mt,qt,-rt*_e-Mt*Me,-gt*_e-qt*Me)},ct.prototype.applyToPoint=function(S){var R=S.x*this.sx+S.y*this.shx+this.tx,re=S.x*this.shy+S.y*this.sy+this.ty;return new Wa(R,re)},ct.prototype.applyToRectangle=function(S){var R=this.applyToPoint(S),re=this.applyToPoint(new Wa(S.x+S.w,S.y+S.h));return new os(R.x,R.y,re.x-R.x,re.y-R.y)},ct.prototype.clone=function(){var S=this.sx,R=this.shy,re=this.shx,me=this.sy,_e=this.tx,Me=this.ty;return new ct(S,R,re,me,_e,Me)},b.Matrix=ct;var Nn=b.matrixMult=function(S,R){return R.multiply(S)},Li=new ct(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=Li;var $n=function(S,R){if(!yn[S]){var re=(R instanceof kc?"Sh":"P")+(Object.keys(xt).length+1).toString(10);R.id=re,yn[S]=re,xt[re]=R,Bt.publish("addPattern",R)}};b.ShadingPattern=kc,b.TilingPattern=Qu,b.addShadingPattern=function(S,R){return X("addShadingPattern()"),$n(S,R),this},b.beginTilingPattern=function(S){X("beginTilingPattern()"),_o(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},b.endTilingPattern=function(S,R){X("endTilingPattern()"),R.stream=Ie[B].join(`
`),$n(S,R),Bt.publish("endTilingPattern",R),Wn.pop().restore()};var Yn,mn=b.__private__.newObject=function(){var S=On();return jn(S,!0),S},On=b.__private__.newObjectDeferred=function(){return ce++,Q[ce]=function(){return xe},ce},jn=function(S,R){return R=typeof R=="boolean"&&R,Q[S]=xe,R&&Z(S+" 0 obj"),S},Na=b.__private__.newAdditionalObject=function(){var S={objId:On(),content:""};return je.push(S),S},Ti=On(),An=On(),Kn=b.__private__.decodeColorString=function(S){var R=S.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length!==5||R[4]!=="k"&&R[4]!=="K"||(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var re=parseFloat(R[0]);R=[re,re,re,"r"]}for(var me="#",_e=0;_e<3;_e++)me+=("0"+Math.floor(255*parseFloat(R[_e])).toString(16)).slice(-2);return me},ra=b.__private__.encodeColorString=function(S){var R;typeof S=="string"&&(S={ch1:S});var re=S.ch1,me=S.ch2,_e=S.ch3,Me=S.ch4,He=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var rt=new zx(re);if(rt.ok)re=rt.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var gt=parseInt(re.substr(1),16);re=gt>>16&255,me=gt>>8&255,_e=255&gt}if(me===void 0||Me===void 0&&re===me&&me===_e)R=typeof re=="string"?re+" "+He[0]:S.precision===2?U(re/255)+" "+He[0]:Y(re/255)+" "+He[0];else if(Me===void 0||Tn(Me)==="object"){if(Me&&!isNaN(Me.a)&&Me.a===0)return["1.","1.","1.",He[1]].join(" ");R=typeof re=="string"?[re,me,_e,He[1]].join(" "):S.precision===2?[U(re/255),U(me/255),U(_e/255),He[1]].join(" "):[Y(re/255),Y(me/255),Y(_e/255),He[1]].join(" ")}else R=typeof re=="string"?[re,me,_e,Me,He[2]].join(" "):S.precision===2?[U(re),U(me),U(_e),U(Me),He[2]].join(" "):[Y(re),Y(me),Y(_e),Y(Me),He[2]].join(" ");return R},Da=b.__private__.getFilters=function(){return u},Ga=b.__private__.putStream=function(S){var R=(S=S||{}).data||"",re=S.filters||Da(),me=S.alreadyAppliedFilters||[],_e=S.addLength1||!1,Me=R.length,He=S.objectId,rt=function(Ri){return Ri};if(g!==null&&He===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(rt=Oi.encryptor(He,0));var gt={};re===!0&&(re=["FlateEncode"]);var Mt=S.additionalKeyValues||[],qt=(gt=wt.API.processDataByFilters!==void 0?wt.API.processDataByFilters(R,re):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(me)?me.join(" "):me.toString());if(gt.data.length!==0&&(Mt.push({key:"Length",value:gt.data.length}),_e===!0&&Mt.push({key:"Length1",value:Me})),qt.length!=0)if(qt.split("/").length-1==1)Mt.push({key:"Filter",value:qt});else{Mt.push({key:"Filter",value:"["+qt+"]"});for(var an=0;an<Mt.length;an+=1)if(Mt[an].key==="DecodeParms"){for(var Qn=[],hi=0;hi<gt.reverseChain.split("/").length-1;hi+=1)Qn.push("null");Qn.push(Mt[an].value),Mt[an].value="["+Qn.join(" ")+"]"}}Z("<<");for(var Rn=0;Rn<Mt.length;Rn++)Z("/"+Mt[Rn].key+" "+Mt[Rn].value);Z(">>"),gt.data.length!==0&&(Z("stream"),Z(rt(gt.data)),Z("endstream"))},go=b.__private__.putPage=function(S){var R=S.number,re=S.data,me=S.objId,_e=S.contentsObjId;jn(me,!0),Z("<</Type /Page"),Z("/Parent "+S.rootDictionaryObjId+" 0 R"),Z("/Resources "+S.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(ee(S.mediaBox.bottomLeftX))+" "+parseFloat(ee(S.mediaBox.bottomLeftY))+" "+ee(S.mediaBox.topRightX)+" "+ee(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&Z("/CropBox ["+ee(S.cropBox.bottomLeftX)+" "+ee(S.cropBox.bottomLeftY)+" "+ee(S.cropBox.topRightX)+" "+ee(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&Z("/BleedBox ["+ee(S.bleedBox.bottomLeftX)+" "+ee(S.bleedBox.bottomLeftY)+" "+ee(S.bleedBox.topRightX)+" "+ee(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&Z("/TrimBox ["+ee(S.trimBox.bottomLeftX)+" "+ee(S.trimBox.bottomLeftY)+" "+ee(S.trimBox.topRightX)+" "+ee(S.trimBox.topRightY)+"]"),S.artBox!==null&&Z("/ArtBox ["+ee(S.artBox.bottomLeftX)+" "+ee(S.artBox.bottomLeftY)+" "+ee(S.artBox.topRightX)+" "+ee(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&Z("/UserUnit "+S.userUnit),Bt.publish("putPage",{objId:me,pageContext:Xe[R],pageNumber:R,page:re}),Z("/Contents "+_e+" 0 R"),Z(">>"),Z("endobj");var Me=re.join(`
`);return P===D&&(Me+=`
Q`),jn(_e,!0),Ga({data:Me,filters:Da(),objectId:_e}),Z("endobj"),me},fr=b.__private__.putPages=function(){var S,R,re=[];for(S=1;S<=yt;S++)Xe[S].objId=On(),Xe[S].contentsObjId=On();for(S=1;S<=yt;S++)re.push(go({number:S,data:Ie[S],objId:Xe[S].objId,contentsObjId:Xe[S].contentsObjId,mediaBox:Xe[S].mediaBox,cropBox:Xe[S].cropBox,bleedBox:Xe[S].bleedBox,trimBox:Xe[S].trimBox,artBox:Xe[S].artBox,userUnit:Xe[S].userUnit,rootDictionaryObjId:Ti,resourceDictionaryObjId:An}));jn(Ti,!0),Z("<</Type /Pages");var me="/Kids [";for(R=0;R<yt;R++)me+=re[R]+" 0 R ";Z(me+"]"),Z("/Count "+yt),Z(">>"),Z("endobj"),Bt.publish("postPutPages")},pr=function(S){Bt.publish("putFont",{font:S,out:Z,newObject:mn,putStream:Ga}),S.isAlreadyPutted!==!0&&(S.objectNumber=mn(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+Vu(S.postScriptName)),Z("/Subtype /Type1"),typeof S.encoding=="string"&&Z("/Encoding /"+S.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},qs=function(S){S.objectNumber=mn();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[ee(S.x),ee(S.y),ee(S.x+S.width),ee(S.y+S.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var re=S.pages[1].join(`
`);Ga({data:re,additionalKeyValues:R,objectId:S.objectNumber}),Z("endobj")},mr=function(S,R){R||(R=21);var re=mn(),me=(function(He,rt){var gt,Mt=[],qt=1/(rt-1);for(gt=0;gt<1;gt+=qt)Mt.push(gt);if(Mt.push(1),He[0].offset!=0){var an={offset:0,color:He[0].color};He.unshift(an)}if(He[He.length-1].offset!=1){var Qn={offset:1,color:He[He.length-1].color};He.push(Qn)}for(var hi="",Rn=0,Ri=0;Ri<Mt.length;Ri++){for(gt=Mt[Ri];gt>He[Rn+1].offset;)Rn++;var bi=He[Rn].offset,Yi=(gt-bi)/(He[Rn+1].offset-bi),fs=He[Rn].color,xr=He[Rn+1].color;hi+=ie(Math.round((1-Yi)*fs[0]+Yi*xr[0]).toString(16))+ie(Math.round((1-Yi)*fs[1]+Yi*xr[1]).toString(16))+ie(Math.round((1-Yi)*fs[2]+Yi*xr[2]).toString(16))}return hi.trim()})(S.colors,R),_e=[];_e.push({key:"FunctionType",value:"0"}),_e.push({key:"Domain",value:"[0.0 1.0]"}),_e.push({key:"Size",value:"["+R+"]"}),_e.push({key:"BitsPerSample",value:"8"}),_e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ga({data:me,additionalKeyValues:_e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),Z("endobj"),S.objectNumber=mn(),Z("<< /ShadingType "+S.type),Z("/ColorSpace /DeviceRGB");var Me="/Coords ["+ee(parseFloat(S.coords[0]))+" "+ee(parseFloat(S.coords[1]))+" ";S.type===2?Me+=ee(parseFloat(S.coords[2]))+" "+ee(parseFloat(S.coords[3])):Me+=ee(parseFloat(S.coords[2]))+" "+ee(parseFloat(S.coords[3]))+" "+ee(parseFloat(S.coords[4]))+" "+ee(parseFloat(S.coords[5])),Z(Me+="]"),S.matrix&&Z("/Matrix ["+S.matrix.toString()+"]"),Z("/Function "+re+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},gr=function(S,R){var re=On(),me=mn();R.push({resourcesOid:re,objectOid:me}),S.objectNumber=me;var _e=[];_e.push({key:"Type",value:"/Pattern"}),_e.push({key:"PatternType",value:"1"}),_e.push({key:"PaintType",value:"1"}),_e.push({key:"TilingType",value:"1"}),_e.push({key:"BBox",value:"["+S.boundingBox.map(ee).join(" ")+"]"}),_e.push({key:"XStep",value:ee(S.xStep)}),_e.push({key:"YStep",value:ee(S.yStep)}),_e.push({key:"Resources",value:re+" 0 R"}),S.matrix&&_e.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Ga({data:S.stream,additionalKeyValues:_e,objectId:S.objectNumber}),Z("endobj")},vo=function(S){for(var R in S.objectNumber=mn(),Z("<<"),S)switch(R){case"opacity":Z("/ca "+U(S[R]));break;case"stroke-opacity":Z("/CA "+U(S[R]))}Z(">>"),Z("endobj")},Pr=function(S){jn(S.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var R in Z("/Font <<"),St)St.hasOwnProperty(R)&&(v===!1||v===!0&&_.hasOwnProperty(R))&&Z("/"+R+" "+St[R].objectNumber+" 0 R");Z(">>")})(),(function(){if(Object.keys(xt).length>0){for(var R in Z("/Shading <<"),xt)xt.hasOwnProperty(R)&&xt[R]instanceof kc&&xt[R].objectNumber>=0&&Z("/"+R+" "+xt[R].objectNumber+" 0 R");Bt.publish("putShadingPatternDict"),Z(">>")}})(),(function(R){if(Object.keys(xt).length>0){for(var re in Z("/Pattern <<"),xt)xt.hasOwnProperty(re)&&xt[re]instanceof b.TilingPattern&&xt[re].objectNumber>=0&&xt[re].objectNumber<R&&Z("/"+re+" "+xt[re].objectNumber+" 0 R");Bt.publish("putTilingPatternDict"),Z(">>")}})(S.objectOid),(function(){if(Object.keys(At).length>0){var R;for(R in Z("/ExtGState <<"),At)At.hasOwnProperty(R)&&At[R].objectNumber>=0&&Z("/"+R+" "+At[R].objectNumber+" 0 R");Bt.publish("putGStateDict"),Z(">>")}})(),(function(){for(var R in Z("/XObject <<"),wn)wn.hasOwnProperty(R)&&wn[R].objectNumber>=0&&Z("/"+R+" "+wn[R].objectNumber+" 0 R");Bt.publish("putXobjectDict"),Z(">>")})(),Z(">>"),Z("endobj")},di=function(S){Et[S.fontName]=Et[S.fontName]||{},Et[S.fontName][S.fontStyle]=S.id},Hl=function(S,R,re,me,_e){var Me={id:"F"+(Object.keys(St).length+1).toString(10),postScriptName:S,fontName:R,fontStyle:re,encoding:me,isStandardFont:_e||!1,metadata:{}};return Bt.publish("addFont",{font:Me,instance:this}),St[Me.id]=Me,di(Me),Me.id},Ma=b.__private__.pdfEscape=b.pdfEscape=function(S,R){return(function(re,me){var _e,Me,He,rt,gt,Mt,qt,an,Qn;if(He=(me=me||{}).sourceEncoding||"Unicode",gt=me.outputEncoding,(me.autoencode||gt)&&St[Je].metadata&&St[Je].metadata[He]&&St[Je].metadata[He].encoding&&(rt=St[Je].metadata[He].encoding,!gt&&St[Je].encoding&&(gt=St[Je].encoding),!gt&&rt.codePages&&(gt=rt.codePages[0]),typeof gt=="string"&&(gt=rt[gt]),gt)){for(qt=!1,Mt=[],_e=0,Me=re.length;_e<Me;_e++)(an=gt[re.charCodeAt(_e)])?Mt.push(String.fromCharCode(an)):Mt.push(re[_e]),Mt[_e].charCodeAt(0)>>8&&(qt=!0);re=Mt.join("")}for(_e=re.length;qt===void 0&&_e!==0;)re.charCodeAt(_e-1)>>8&&(qt=!0),_e--;if(!qt)return re;for(Mt=me.noBOM?[]:[254,255],_e=0,Me=re.length;_e<Me;_e++){if((Qn=(an=re.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+re+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Mt.push(Qn),Mt.push(an-(Qn<<8))}return String.fromCharCode.apply(void 0,Mt)})(S,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vr=b.__private__.beginPage=function(S){Ie[++yt]=[],Xe[yt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},Gl(yt),Ye(Ie[B])},as=function(S,R){var re,me,_e;switch(n=R||n,typeof S=="string"&&(re=A(S.toLowerCase()),Array.isArray(re)&&(me=re[0],_e=re[1])),Array.isArray(S)&&(me=S[0]*Rt,_e=S[1]*Rt),isNaN(me)&&(me=s[0],_e=s[1]),(me>14400||_e>14400)&&(Fn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),_e=Math.min(14400,_e)),s=[me,_e],n.substr(0,1)){case"l":_e>me&&(s=[_e,me]);break;case"p":me>_e&&(s=[_e,me])}vr(s),Ct(bo),Z(Ba),nl!==0&&Z(nl+" J"),Ui!==0&&Z(Ui+" j"),Bt.publish("addPage",{pageNumber:yt})},$l=function(S){S>0&&S<=yt&&(Ie.splice(S,1),Xe.splice(S,1),yt--,B>yt&&(B=yt),this.setPage(B))},Gl=function(S){S>0&&S<=yt&&(B=S)},Vl=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Ie.length-1},Fc=function(S,R,re){var me,_e=void 0;return re=re||{},S=S!==void 0?S:St[Je].fontName,R=R!==void 0?R:St[Je].fontStyle,me=S.toLowerCase(),Et[me]!==void 0&&Et[me][R]!==void 0?_e=Et[me][R]:Et[S]!==void 0&&Et[S][R]!==void 0?_e=Et[S][R]:re.disableWarning===!1&&Fn.warn("Unable to look up font label for font '"+S+"', '"+R+"'. Refer to getFontList() for available fonts."),_e||re.noFallback||(_e=Et.times[R])==null&&(_e=Et.times.normal),_e},Pa=b.__private__.putInfo=function(){var S=mn(),R=function(me){return me};for(var re in g!==null&&(R=Oi.encryptor(S,0)),Z("<<"),Z("/Producer ("+Ma(R("jsPDF "+wt.version))+")"),mt)mt.hasOwnProperty(re)&&mt[re]&&Z("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+Ma(R(mt[re]))+")");Z("/CreationDate ("+Ma(R(k))+")"),Z(">>"),Z("endobj")},rs=b.__private__.putCatalog=function(S){var R=(S=S||{}).rootDictionaryObjId||Ti;switch(mn(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+R+" 0 R"),nt||(nt="fullwidth"),nt){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+nt;re.substr(re.length-1)==="%"&&(nt=parseInt(nt)/100),typeof nt=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+U(nt)+"]")}switch(Vt||(Vt="continuous"),Vt){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}ft&&Z("/PageMode /"+ft),Bt.publish("putCatalog"),Z(">>"),Z("endobj")},yr=b.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(ce+1)),Z("/Root "+ce+" 0 R"),Z("/Info "+(ce-1)+" 0 R"),g!==null&&Z("/Encrypt "+Oi.oid+" 0 R"),Z("/ID [ <"+I+"> <"+I+"> ]"),Z(">>")},dn=b.__private__.putHeader=function(){Z("%PDF-"+j),Z("%")},Wl=b.__private__.putXRef=function(){var S="0000000000";Z("xref"),Z("0 "+(ce+1)),Z("0000000000 65535 f ");for(var R=1;R<=ce;R++)typeof Q[R]=="function"?Z((S+Q[R]()).slice(-10)+" 00000 n "):Q[R]!==void 0?Z((S+Q[R]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},zr=b.__private__.buildDocument=function(){var S;ce=0,xe=0,be=[],Q=[],je=[],Ti=On(),An=On(),Ye(be),Bt.publish("buildDocument"),dn(),fr(),(function(){Bt.publish("putAdditionalObjects");for(var re=0;re<je.length;re++){var me=je[re];jn(me.objId,!0),Z(me.content),Z("endobj")}Bt.publish("postPutAdditionalObjects")})(),S=[],(function(){for(var re in St)St.hasOwnProperty(re)&&(v===!1||v===!0&&_.hasOwnProperty(re))&&pr(St[re])})(),(function(){var re;for(re in At)At.hasOwnProperty(re)&&vo(At[re])})(),(function(){for(var re in wn)wn.hasOwnProperty(re)&&qs(wn[re])})(),(function(re){var me;for(me in xt)xt.hasOwnProperty(me)&&(xt[me]instanceof kc?mr(xt[me]):xt[me]instanceof Qu&&gr(xt[me],re))})(S),Bt.publish("putResources"),S.forEach(Pr),Pr({resourcesOid:An,objectOid:Number.MAX_SAFE_INTEGER}),Bt.publish("postPutResources"),g!==null&&(Oi.oid=mn(),Z("<<"),Z("/Filter /Standard"),Z("/V "+Oi.v),Z("/R "+Oi.r),Z("/U <"+Oi.toHexString(Oi.U)+">"),Z("/O <"+Oi.toHexString(Oi.O)+">"),Z("/P "+Oi.P),Z(">>"),Z("endobj")),Pa(),rs();var R=xe;return Wl(),yr(),Z("startxref"),Z(""+R),Z("%%EOF"),Ye(Ie[B]),be.join(`
`)},Fs=b.__private__.getBlob=function(S){return new Blob([Ot(S)],{type:"application/pdf"})},Yl=b.output=b.__private__.output=(Yn=function(S,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",S){case void 0:return zr();case"save":b.save(R.filename);break;case"arraybuffer":return Ot(zr());case"blob":return Fs(zr());case"bloburi":case"bloburl":if(It.URL!==void 0&&typeof It.URL.createObjectURL=="function")return It.URL&&It.URL.createObjectURL(Fs(zr()))||void 0;Fn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",me=zr();try{re=s5(me)}catch{re=s5(unescape(encodeURIComponent(me)))}return"data:application/pdf;filename="+R.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(It)==="[object Window]"){var _e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Me=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(_e=R.pdfObjectUrl,Me="");var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_e+'"'+Me+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",rt=It.open();return rt!==null&&rt.document.write(He),rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(It)==="[object Window]"){var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',Mt=It.open();if(Mt!==null){Mt.document.write(gt);var qt=this;Mt.document.documentElement.querySelector("#pdfViewer").onload=function(){Mt.document.title=R.filename,Mt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(qt.output("bloburl"))}}return Mt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(It)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var an='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',Qn=It.open();if(Qn!==null&&(Qn.document.write(an),Qn.document.title=R.filename),Qn||typeof safari>"u")return Qn;break;case"datauri":case"dataurl":return It.document.location.href=this.output("datauristring",R);default:return null}},Yn.foo=function(){try{return Yn.apply(this,arguments)}catch(re){var S=re.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var R="Error in function "+S.split(`
`)[0].split("<")[0]+": "+re.message;if(!It.console)throw new Error(R);It.console.error(R,re),It.alert&&alert(R)}},Yn.foo.bar=Yn,Yn.foo),pa=function(S){return Array.isArray(vi)===!0&&vi.indexOf(S)>-1};switch(a){case"pt":Rt=1;break;case"mm":Rt=72/25.4;break;case"cm":Rt=72/2.54;break;case"in":Rt=72;break;case"px":Rt=pa("px_scaling")==1?.75:96/72;break;case"pc":case"em":Rt=12;break;case"ex":Rt=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);Rt=a}var Oi=null;F(),J();var yi=b.__private__.getPageInfo=b.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Xe[S].objId,pageNumber:S,pageContext:Xe[S]}},el=b.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in Xe)if(Xe[R].objId===S)break;return yi(R)},Hc=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Xe[B].objId,pageNumber:B,pageContext:Xe[B]}};b.addPage=function(){return as.apply(this,arguments),this},b.setPage=function(){return Gl.apply(this,arguments),Ye.call(this,Ie[B]),this},b.insertPage=function(S){return this.addPage(),this.movePage(B,S),this},b.movePage=function(S,R){var re,me;if(S>R){re=Ie[S],me=Xe[S];for(var _e=S;_e>R;_e--)Ie[_e]=Ie[_e-1],Xe[_e]=Xe[_e-1];Ie[R]=re,Xe[R]=me,this.setPage(R)}else if(S<R){re=Ie[S],me=Xe[S];for(var Me=S;Me<R;Me++)Ie[Me]=Ie[Me+1],Xe[Me]=Xe[Me+1];Ie[R]=re,Xe[R]=me,this.setPage(R)}return this},b.deletePage=function(){return $l.apply(this,arguments),this},b.__private__.text=b.text=function(S,R,re,me,_e){var Me,He,rt,gt,Mt,qt,an,Qn,hi,Rn=(me=me||{}).scope||this;if(typeof S=="number"&&typeof R=="number"&&(typeof re=="string"||Array.isArray(re))){var Ri=re;re=R,R=S,S=Ri}if(arguments[3]instanceof ct==0?(rt=arguments[4],gt=arguments[5],Tn(an=arguments[3])==="object"&&an!==null||(typeof rt=="string"&&(gt=rt,rt=null),typeof an=="string"&&(gt=an,an=null),typeof an=="number"&&(rt=an,an=null),me={flags:an,angle:rt,align:gt})):(X("The transform parameter of text() with a Matrix value"),hi=_e),isNaN(R)||isNaN(re)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Rn;var bi,Yi="",fs=typeof me.lineHeightFactor=="number"?me.lineHeightFactor:ss,xr=Rn.internal.scaleFactor;function ps(hn){return hn=hn.split("	").join(Array(me.TabLen||9).join(" ")),Ma(hn,an)}function ic(hn){for(var rn,Dn=hn.concat(),pi=[],Wr=Dn.length;Wr--;)typeof(rn=Dn.shift())=="string"?pi.push(rn):Array.isArray(hn)&&(rn.length===1||rn[1]===void 0&&rn[2]===void 0)?pi.push(rn[0]):pi.push([rn[0],rn[1],rn[2]]);return pi}function al(hn,rn){var Dn;if(typeof hn=="string")Dn=rn(hn)[0];else if(Array.isArray(hn)){for(var pi,Wr,jr=hn.concat(),Ao=[],sc=jr.length;sc--;)typeof(pi=jr.shift())=="string"?Ao.push(rn(pi)[0]):Array.isArray(pi)&&typeof pi[0]=="string"&&(Wr=rn(pi[0],pi[1],pi[2]),Ao.push([Wr[0],Wr[1],Wr[2]]));Dn=Ao}return Dn}var Ir=!1,_r=!0;if(typeof S=="string")Ir=!0;else if(Array.isArray(S)){var No=S.concat();He=[];for(var ms,Ii=No.length;Ii--;)(typeof(ms=No.shift())!="string"||Array.isArray(ms)&&typeof ms[0]!="string")&&(_r=!1);Ir=_r}if(Ir===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var $s=Fe/Rn.internal.scaleFactor,Gs=$s*(fs-1);switch(me.baseline){case"bottom":re-=Gs;break;case"top":re+=$s-Gs;break;case"hanging":re+=$s-2*Gs;break;case"middle":re+=$s/2-Gs}if((qt=me.maxWidth||0)>0&&(typeof S=="string"?S=Rn.splitTextToSize(S,qt):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(hn,rn){return hn.concat(Rn.splitTextToSize(rn,qt))},[]))),Me={text:S,x:R,y:re,options:me,mutex:{pdfEscape:Ma,activeFontKey:Je,fonts:St,activeFontSize:Fe}},Bt.publish("preProcessText",Me),S=Me.text,rt=(me=Me.options).angle,hi instanceof ct==0&&rt&&typeof rt=="number"){rt*=Math.PI/180,me.rotationDirection===0&&(rt=-rt),P===D&&(rt=-rt);var rl=Math.cos(rt),qr=Math.sin(rt);hi=new ct(rl,qr,-qr,rl,0,0)}else rt&&rt instanceof ct&&(hi=rt);P!==D||hi||(hi=Li),(Mt=me.charSpace||Va)!==void 0&&(Yi+=ee(le(Mt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qn=me.horizontalScale)!==void 0&&(Yi+=ee(100*Qn)+` Tz
`),me.lang;var ga=-1,gs=me.renderingMode!==void 0?me.renderingMode:me.stroke,sl=Rn.internal.getCurrentPageInfo().pageContext;switch(gs){case 0:case!1:case"fill":ga=0;break;case 1:case!0:case"stroke":ga=1;break;case 2:case"fillThenStroke":ga=2;break;case 3:case"invisible":ga=3;break;case 4:case"fillAndAddForClipping":ga=4;break;case 5:case"strokeAndAddPathForClipping":ga=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ga=6;break;case 7:case"addToPathForClipping":ga=7}var ac=sl.usedRenderingMode!==void 0?sl.usedRenderingMode:-1;ga!==-1?Yi+=ga+` Tr
`:ac!==-1&&(Yi+=`0 Tr
`),ga!==-1&&(sl.usedRenderingMode=ga),gt=me.align||"left";var Ua,Sr=Fe*fs,vs=Rn.internal.pageSize.getWidth(),rc=St[Je];Mt=me.charSpace||Va,qt=me.maxWidth||0,an=Object.assign({autoencode:!0,noBOM:!0},me.flags);var Nr=[],Vs=function(hn){return Rn.getStringUnitWidth(hn,{font:rc,charSpace:Mt,fontSize:Fe,doKerning:!1})*Fe/xr};if(Object.prototype.toString.call(S)==="[object Array]"){var Aa;He=ic(S),gt!=="left"&&(Ua=He.map(Vs));var va,Fr=0;if(gt==="right"){R-=Ua[0],S=[],Ii=He.length;for(var Hr=0;Hr<Ii;Hr++)Hr===0?(va=za(R),Aa=Wi(re)):(va=le(Fr-Ua[Hr]),Aa=-Sr),S.push([He[Hr],va,Aa]),Fr=Ua[Hr]}else if(gt==="center"){R-=Ua[0]/2,S=[],Ii=He.length;for(var ys=0;ys<Ii;ys++)ys===0?(va=za(R),Aa=Wi(re)):(va=le((Fr-Ua[ys])/2),Aa=-Sr),S.push([He[ys],va,Aa]),Fr=Ua[ys]}else if(gt==="left"){S=[],Ii=He.length;for(var ol=0;ol<Ii;ol++)S.push(He[ol])}else if(gt==="justify"&&rc.encoding==="Identity-H"){S=[],Ii=He.length,qt=qt!==0?qt:vs;for(var ll=0,fi=0;fi<Ii;fi++)if(Aa=fi===0?Wi(re):-Sr,va=fi===0?za(R):ll,fi<Ii-1){var Jc=le((qt-Ua[fi])/(He[fi].split(" ").length-1)),$r=He[fi].split(" ");S.push([$r[0]+" ",va,Aa]),ll=0;for(var Gr=1;Gr<$r.length;Gr++){var Ki=(Vs($r[Gr-1]+" "+$r[Gr])-Vs($r[Gr]))*xr+Jc;Gr==$r.length-1?S.push([$r[Gr],Ki,0]):S.push([$r[Gr]+" ",Ki,0]),ll-=Ki}}else S.push([He[fi],va,Aa]);S.push(["",ll,0])}else{if(gt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Ii=He.length,qt=qt!==0?qt:vs,fi=0;fi<Ii;fi++){Aa=fi===0?Wi(re):-Sr,va=fi===0?za(R):0;var bs=He[fi].split(" ").length-1,cl=bs>0?(qt-Ua[fi])/bs:0;fi<Ii-1?Nr.push(ee(le(cl))):Nr.push(0),S.push([He[fi],va,Aa])}}}(typeof me.R2L=="boolean"?me.R2L:ht)===!0&&(S=al(S,function(hn,rn,Dn){return[hn.split("").reverse().join(""),rn,Dn]})),Me={text:S,x:R,y:re,options:me,mutex:{pdfEscape:Ma,activeFontKey:Je,fonts:St,activeFontSize:Fe}},Bt.publish("postProcessText",Me),S=Me.text,bi=Me.mutex.isHex||!1;var ul=St[Je].encoding;ul!=="WinAnsiEncoding"&&ul!=="StandardEncoding"||(S=al(S,function(hn,rn,Dn){return[ps(hn),rn,Dn]})),He=ic(S),S=[];for(var ws,xs,Vr,jo=Array.isArray(He[0])?1:0,Ia="",_s=function(hn,rn,Dn){var pi="";return Dn instanceof ct?(Dn=typeof me.angle=="number"?Nn(Dn,new ct(1,0,0,1,hn,rn)):Nn(new ct(1,0,0,1,hn,rn),Dn),P===D&&(Dn=Nn(new ct(1,0,0,-1,0,0),Dn)),pi=Dn.join(" ")+` Tm
`):pi=ee(hn)+" "+ee(rn)+` Td
`,pi},sa=0;sa<He.length;sa++){switch(Ia="",jo){case 1:Vr=(bi?"<":"(")+He[sa][0]+(bi?">":")"),ws=parseFloat(He[sa][1]),xs=parseFloat(He[sa][2]);break;case 0:Vr=(bi?"<":"(")+He[sa]+(bi?">":")"),ws=za(R),xs=Wi(re)}Nr!==void 0&&Nr[sa]!==void 0&&(Ia=Nr[sa]+` Tw
`),sa===0?S.push(Ia+_s(ws,xs,hi)+Vr):jo===0?S.push(Ia+Vr):jo===1&&S.push(Ia+_s(ws,xs,hi)+Vr)}S=jo===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Ya=`BT
/`;return Ya+=Je+" "+Fe+` Tf
`,Ya+=ee(Fe*fs)+` TL
`,Ya+=Br+`
`,Ya+=Yi,Ya+=S,Z(Ya+="ET"),_[Je]=!0,Rn};var Kl=b.__private__.clip=b.clip=function(S){return Z(S==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return Kl("evenodd")},b.__private__.discardPath=b.discardPath=function(){return Z("n"),this};var ma=b.__private__.isValidStyle=function(S){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(R=!0),R};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(S){return ma(S)&&(p=S),this};var Ql=b.__private__.getStyle=b.getStyle=function(S){var R=p;switch(S){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=S}return R},Xl=b.close=function(){return Z("h"),this};b.stroke=function(){return Z("S"),this},b.fill=function(S){return br("f",S),this},b.fillEvenOdd=function(S){return br("f*",S),this},b.fillStroke=function(S){return br("B",S),this},b.fillStrokeEvenOdd=function(S){return br("B*",S),this};var br=function(S,R){Tn(R)==="object"?Gc(R,S):Z(S)},yo=function(S){S===null||P===D&&S===void 0||(S=Ql(S),Z(S))};function $c(S,R,re,me,_e){var Me=new Qu(R||this.boundingBox,re||this.xStep,me||this.yStep,this.gState,_e||this.matrix);Me.stream=this.stream;var He=S+"$$"+this.cloneIndex+++"$$";return $n(He,Me),Me}var Gc=function(S,R){var re=yn[S.key],me=xt[re];if(me instanceof kc)Z("q"),Z(Jl(R)),me.gState&&b.setGState(me.gState),Z(S.matrix.toString()+" cm"),Z("/"+re+" sh"),Z("Q");else if(me instanceof Qu){var _e=new ct(1,0,0,-1,0,hs());S.matrix&&(_e=_e.multiply(S.matrix||Li),re=$c.call(me,S.key,S.boundingBox,S.xStep,S.yStep,_e).id),Z("q"),Z("/Pattern cs"),Z("/"+re+" scn"),me.gState&&b.setGState(me.gState),Z(R),Z("Q")}},Jl=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Zl=b.moveTo=function(S,R){return Z(ee(le(S))+" "+ee(ue(R))+" m"),this},Vc=b.lineTo=function(S,R){return Z(ee(le(S))+" "+ee(ue(R))+" l"),this},ja=b.curveTo=function(S,R,re,me,_e,Me){return Z([ee(le(S)),ee(ue(R)),ee(le(re)),ee(ue(me)),ee(le(_e)),ee(ue(Me)),"c"].join(" ")),this};b.__private__.line=b.line=function(S,R,re,me,_e){if(isNaN(S)||isNaN(R)||isNaN(re)||isNaN(me)||!ma(_e))throw new Error("Invalid arguments passed to jsPDF.line");return P===z?this.lines([[re-S,me-R]],S,R,[1,1],_e||"S"):this.lines([[re-S,me-R]],S,R,[1,1]).stroke()},b.__private__.lines=b.lines=function(S,R,re,me,_e,Me){var He,rt,gt,Mt,qt,an,Qn,hi,Rn,Ri,bi,Yi;if(typeof S=="number"&&(Yi=re,re=R,R=S,S=Yi),me=me||[1,1],Me=Me||!1,isNaN(R)||isNaN(re)||!Array.isArray(S)||!Array.isArray(me)||!ma(_e)||typeof Me!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Zl(R,re),He=me[0],rt=me[1],Mt=S.length,Ri=R,bi=re,gt=0;gt<Mt;gt++)(qt=S[gt]).length===2?(Ri=qt[0]*He+Ri,bi=qt[1]*rt+bi,Vc(Ri,bi)):(an=qt[0]*He+Ri,Qn=qt[1]*rt+bi,hi=qt[2]*He+Ri,Rn=qt[3]*rt+bi,Ri=qt[4]*He+Ri,bi=qt[5]*rt+bi,ja(an,Qn,hi,Rn,Ri,bi));return Me&&Xl(),yo(_e),this},b.path=function(S){for(var R=0;R<S.length;R++){var re=S[R],me=re.c;switch(re.op){case"m":Zl(me[0],me[1]);break;case"l":Vc(me[0],me[1]);break;case"c":ja.apply(this,me);break;case"h":Xl()}}return this},b.__private__.rect=b.rect=function(S,R,re,me,_e){if(isNaN(S)||isNaN(R)||isNaN(re)||isNaN(me)||!ma(_e))throw new Error("Invalid arguments passed to jsPDF.rect");return P===z&&(me=-me),Z([ee(le(S)),ee(ue(R)),ee(le(re)),ee(le(me)),"re"].join(" ")),yo(_e),this},b.__private__.triangle=b.triangle=function(S,R,re,me,_e,Me,He){if(isNaN(S)||isNaN(R)||isNaN(re)||isNaN(me)||isNaN(_e)||isNaN(Me)||!ma(He))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-S,me-R],[_e-re,Me-me],[S-_e,R-Me]],S,R,[1,1],He,!0),this},b.__private__.roundedRect=b.roundedRect=function(S,R,re,me,_e,Me,He){if(isNaN(S)||isNaN(R)||isNaN(re)||isNaN(me)||isNaN(_e)||isNaN(Me)||!ma(He))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var rt=4/3*(Math.SQRT2-1);return _e=Math.min(_e,.5*re),Me=Math.min(Me,.5*me),this.lines([[re-2*_e,0],[_e*rt,0,_e,Me-Me*rt,_e,Me],[0,me-2*Me],[0,Me*rt,-_e*rt,Me,-_e,Me],[2*_e-re,0],[-_e*rt,0,-_e,-Me*rt,-_e,-Me],[0,2*Me-me],[0,-Me*rt,_e*rt,-Me,_e,-Me]],S+_e,R,[1,1],He,!0),this},b.__private__.ellipse=b.ellipse=function(S,R,re,me,_e){if(isNaN(S)||isNaN(R)||isNaN(re)||isNaN(me)||!ma(_e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Me=4/3*(Math.SQRT2-1)*re,He=4/3*(Math.SQRT2-1)*me;return Zl(S+re,R),ja(S+re,R-He,S+Me,R-me,S,R-me),ja(S-Me,R-me,S-re,R-He,S-re,R),ja(S-re,R+He,S-Me,R+me,S,R+me),ja(S+Me,R+me,S+re,R+He,S+re,R),yo(_e),this},b.__private__.circle=b.circle=function(S,R,re,me){if(isNaN(S)||isNaN(R)||isNaN(re)||!ma(me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,R,re,re,me)},b.setFont=function(S,R,re){return re&&(R=oe(R,re)),Je=Fc(S,R,{disableWarning:!1}),this};var wr=b.__private__.getFont=b.getFont=function(){return St[Fc.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var S,R,re={};for(S in Et)if(Et.hasOwnProperty(S))for(R in re[S]=[],Et[S])Et[S].hasOwnProperty(R)&&re[S].push(R);return re},b.addFont=function(S,R,re,me,_e){var Me=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Me.indexOf(arguments[3])!==-1?_e=arguments[3]:arguments[3]&&Me.indexOf(arguments[3])==-1&&(re=oe(re,me)),Hl.call(this,S,R,re,_e=_e||"Identity-H")};var ss,bo=t.lineWidth||.200025,Hs=b.__private__.getLineWidth=b.getLineWidth=function(){return bo},Ct=b.__private__.setLineWidth=b.setLineWidth=function(S){return bo=S,Z(ee(le(S))+" w"),this};b.__private__.setLineDash=wt.API.setLineDash=wt.API.setLineDashPattern=function(S,R){if(S=S||[],R=R||0,isNaN(R)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(re){return ee(le(re))}).join(" "),R=ee(le(R)),Z("["+S+"] "+R+" d"),this};var Wc=b.__private__.getLineHeight=b.getLineHeight=function(){return Fe*ss};b.__private__.getLineHeight=b.getLineHeight=function(){return Fe*ss};var ec=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(ss=S),this},Yc=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return ss};ec(t.lineHeight);var za=b.__private__.getHorizontalCoordinate=function(S){return le(S)},Wi=b.__private__.getVerticalCoordinate=function(S){return P===D?S:Xe[B].mediaBox.topRightY-Xe[B].mediaBox.bottomLeftY-le(S)},tc=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(S){return ee(za(S))},wo=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(S){return ee(Wi(S))},Ba=t.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Kn(Ba)},b.__private__.setStrokeColor=b.setDrawColor=function(S,R,re,me){return Ba=ra({ch1:S,ch2:R,ch3:re,ch4:me,pdfColorType:"draw",precision:2}),Z(Ba),this};var xo=t.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Kn(xo)},b.__private__.setFillColor=b.setFillColor=function(S,R,re,me){return xo=ra({ch1:S,ch2:R,ch3:re,ch4:me,pdfColorType:"fill",precision:2}),Z(xo),this};var Br=t.textColor||"0 g",Kc=b.__private__.getTextColor=b.getTextColor=function(){return Kn(Br)};b.__private__.setTextColor=b.setTextColor=function(S,R,re,me){return Br=ra({ch1:S,ch2:R,ch3:re,ch4:me,pdfColorType:"text",precision:3}),this};var Va=t.charSpace,tl=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Va||0)};b.__private__.setCharSpace=b.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Va=S,this};var nl=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(S){var R=b.CapJoinStyles[S];if(R===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nl=R,Z(R+" J"),this};var Ui=0;b.__private__.setLineJoin=b.setLineJoin=function(S){var R=b.CapJoinStyles[S];if(R===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ui=R,Z(R+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(ee(le(S))+" M"),this},b.GState=Rp,b.setGState=function(S){(S=typeof S=="string"?At[Dt[S]]:Ur(null,S)).equals(bn)||(Z("/"+S.id+" gs"),bn=S)};var Ur=function(S,R){if(!S||!Dt[S]){var re=!1;for(var me in At)if(At.hasOwnProperty(me)&&At[me].equals(R)){re=!0;break}if(re)R=At[me];else{var _e="GS"+(Object.keys(At).length+1).toString(10);At[_e]=R,R.id=_e}return S&&(Dt[S]=R.id),Bt.publish("addGState",R),R}};b.addGState=function(S,R){return Ur(S,R),this},b.saveGraphicsState=function(){return Z("q"),Yt.push({key:Je,size:Fe,color:Br}),this},b.restoreGraphicsState=function(){Z("Q");var S=Yt.pop();return Je=S.key,Fe=S.size,Br=S.color,bn=null,this},b.setCurrentTransformationMatrix=function(S){return Z(S.toString()+" cm"),this},b.comment=function(S){return Z("#"+S),this};var Wa=function(S,R){var re=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(Me){isNaN(Me)||(re=parseFloat(Me))}});var me=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function(Me){isNaN(Me)||(me=parseFloat(Me))}});var _e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _e},set:function(Me){_e=Me.toString()}}),this},os=function(S,R,re,me){Wa.call(this,S,R),this.type="rect";var _e=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _e},set:function(He){isNaN(He)||(_e=parseFloat(He))}});var Me=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Me},set:function(He){isNaN(He)||(Me=parseFloat(He))}}),this},il=function(){this.page=yt,this.currentPage=B,this.pages=Ie.slice(0),this.pagesContext=Xe.slice(0),this.x=Ze,this.y=pn,this.matrix=Wt,this.width=cs(B),this.height=nc(B),this.outputDestination=Ge,this.id="",this.objectNumber=-1};il.prototype.restore=function(){yt=this.page,B=this.currentPage,Xe=this.pagesContext,Ie=this.pages,Ze=this.x,pn=this.y,Wt=this.matrix,So(B,this.width),us(B,this.height),Ge=this.outputDestination};var _o=function(S,R,re,me,_e){Wn.push(new il),yt=B=0,Ie=[],Ze=S,pn=R,Wt=_e,vr([re,me])};for(var ls in b.beginFormObject=function(S,R,re,me,_e){return _o(S,R,re,me,_e),this},b.endFormObject=function(S){return(function(R){if(Hn[R])Wn.pop().restore();else{var re=new il,me="Xo"+(Object.keys(wn).length+1).toString(10);re.id=me,Hn[R]=me,wn[me]=re,Bt.publish("addFormObject",re),Wn.pop().restore()}})(S),this},b.doFormObject=function(S,R){var re=wn[Hn[S]];return Z("q"),Z(R.toString()+" cm"),Z("/"+re.id+" Do"),Z("Q"),this},b.getFormObject=function(S){var R=wn[Hn[S]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},b.save=function(S,R){return S=S||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(jc(Fs(zr()),S),typeof jc.unload=="function"&&It.setTimeout&&setTimeout(jc.unload,911),this):new Promise(function(re,me){try{var _e=jc(Fs(zr()),S);typeof jc.unload=="function"&&It.setTimeout&&setTimeout(jc.unload,911),re(_e)}catch(Me){me(Me.message)}})},wt.API)wt.API.hasOwnProperty(ls)&&(ls==="events"&&wt.API.events.length?(function(S,R){var re,me,_e;for(_e=R.length-1;_e!==-1;_e--)re=R[_e][0],me=R[_e][1],S.subscribe.apply(S,[re].concat(typeof me=="function"?[me]:me))})(Bt,wt.API.events):b[ls]=wt.API[ls]);function cs(S){return Xe[S].mediaBox.topRightX-Xe[S].mediaBox.bottomLeftX}function So(S,R){Xe[S].mediaBox.topRightX=R+Xe[S].mediaBox.bottomLeftX}function nc(S){return Xe[S].mediaBox.topRightY-Xe[S].mediaBox.bottomLeftY}function us(S,R){Xe[S].mediaBox.topRightY=R+Xe[S].mediaBox.bottomLeftY}var ds=b.getPageWidth=function(S){return cs(S=S||B)/Rt},Qc=b.setPageWidth=function(S,R){So(S,R*Rt)},hs=b.getPageHeight=function(S){return nc(S=S||B)/Rt},Xc=b.setPageHeight=function(S,R){us(S,R*Rt)};return b.internal={pdfEscape:Ma,getStyle:Ql,getFont:wr,getFontSize:Qe,getCharSpace:tl,getTextColor:Kc,getLineHeight:Wc,getLineHeightFactor:Yc,getLineWidth:Hs,write:We,getHorizontalCoordinate:za,getVerticalCoordinate:Wi,getCoordinateString:tc,getVerticalCoordinateString:wo,collections:{},newObject:mn,newAdditionalObject:Na,newObjectDeferred:On,newObjectDeferredBegin:jn,getFilters:Da,putStream:Ga,events:Bt,scaleFactor:Rt,pageSize:{getWidth:function(){return ds(B)},setWidth:function(S){Qc(B,S)},getHeight:function(){return hs(B)},setHeight:function(S){Xc(B,S)}},encryptionOptions:g,encryption:Oi,getEncryptor:function(S){return g!==null?Oi.encryptor(S,0):function(R){return R}},output:Yl,getNumberOfPages:Vl,get pages(){return Ie},out:Z,f2:U,f3:Y,getPageInfo:yi,getPageInfoByObjId:el,getCurrentPageInfo:Hc,getPDFVersion:E,Point:Wa,Rectangle:os,Matrix:ct,hasHotfix:pa},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return ds(B)},set:function(S){Qc(B,S)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return hs(B)},set:function(S){Xc(B,S)},enumerable:!0,configurable:!0}),(function(S){for(var R=0,re=ut.length;R<re;R++){var me=Hl.call(this,S[R][0],S[R][1],S[R][2],ut[R][3],!0);v===!1&&(_[me]=!0);var _e=S[R][0].split("-");di({id:me,fontName:_e[0],fontStyle:_e[1]||""})}Bt.publish("addFonts",{fonts:St,dictionary:Et})}).call(b,ut),Je="F1",as(s,n),Bt.publish("initialized"),b}Gu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Gu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Gu.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Gu.prototype.processOwnerPassword=function(t,e){return K0(Y0(e).substr(0,5),t)},Gu.prototype.encryptor=function(t,e){var n=Y0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(a){return K0(n,a)}},Rp.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Tn(t)!==Tn(this))return!1;var a=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;a++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&a--;return a===0},wt.API={events:[]},wt.version="4.2.0";var Ai=wt.API,T1=1,qc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Uu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Uc=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var n=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},$t=function(t){return t.toFixed(2)},Pl=function(t){return t.toFixed(5)};Ai.__acroform__={};var dr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},u5=function(t){return t*T1},oo=function(t){var e=new qx,n=lt.internal.getHeight(t)||0,a=lt.internal.getWidth(t)||0;return e.BBox=[0,0,Number($t(a)),Number($t(n))],e},nL=Ai.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},iL=Ai.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},aL=Ai.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Pi=Ai.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return aL(t,e-1)},zi=Ai.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return nL(t,e-1)},Bi=Ai.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return iL(t,e-1)},rL=Ai.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,a=e.internal.getVerticalCoordinate,s=t[0],o=t[1],u=t[2],c=t[3],f={};return f.lowerLeft_X=n(s)||0,f.lowerLeft_Y=a(o+c)||0,f.upperRight_X=n(s+u)||0,f.upperRight_Y=a(o)||0,[Number($t(f.lowerLeft_X)),Number($t(f.lowerLeft_Y)),Number($t(f.upperRight_X)),Number($t(f.upperRight_Y))]},sL=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,a=Q0(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+$t(a.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=oo(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},Q0=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,a={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(U){return U.split(`
`)}):s.map(function(U){return[U]});var o=n,u=lt.internal.getHeight(t)||0;u=u<0?-u:u;var c=lt.internal.getWidth(t)||0;c=c<0?-c:c;var f=function(U,Y,le){if(U+1<s.length){var ue=Y+" "+s[U+1][0];return ap(ue,t,le).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var p,g,v=ap("3",t,o).height,_=t.multiline?u-o:(u-v)/2,b=_+=2,j=0,E=0,T=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+ap(e,t,o=12).width+", FieldWidth:"+c+`
`;break}for(var A="",z=0,D=0;D<s.length;D++)if(s.hasOwnProperty(D)){var P=!1;if(s[D].length!==1&&T!==s[D].length-1){if((v+2)*(z+2)+2>u)continue e;A+=s[D][T],P=!0,E=D,D--}else{A=(A+=s[D][T]+" ").substr(A.length-1)==" "?A.substr(0,A.length-1):A;var se=parseInt(D),he=f(se,A,o),oe=D>=s.length-1;if(he&&!oe){A+=" ",T=0;continue}if(he||oe){if(oe)E=se;else if(t.multiline&&(v+2)*(z+2)+2>u)continue e}else{if(!t.multiline||(v+2)*(z+2)+2>u)continue e;E=se}}for(var ee="",X=j;X<=E;X++){var pe=s[X];if(t.multiline){if(X===E){ee+=pe[T]+" ",T=(T+1)%pe.length;continue}if(X===j){ee+=pe[pe.length-1]+" ";continue}}ee+=pe[0]+" "}switch(ee=ee.substr(ee.length-1)==" "?ee.substr(0,ee.length-1):ee,g=ap(ee,t,o).width,t.textAlign){case"right":p=c-g-2;break;case"center":p=(c-g)/2;break;default:p=2}e+=$t(p)+" "+$t(b)+` Td
`,e+="("+qc(ee)+`) Tj
`,e+=-$t(p)+` 0 Td
`,b=-(o+2),g=0,j=P?E:E+1,z++,A=""}break}return a.text=e,a.fontSize=o,a},ap=function(t,e,n){var a=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},oL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},lL=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(a){return a.type===n.type&&a.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},cL=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Us.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(oL)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");T1=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Fx,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];o.objId=void 0,o.hasAnnotation&&lL(o,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(a,s){var o=!a;for(var u in a||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(u)){var c=a[u],f=[],p=c.Rect;if(c.Rect&&(c.Rect=rL(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=lt.createDefaultAppearanceStream(c),Tn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=p,c.hasAppearanceStream&&!c.appearanceStreamContent){var g=sL(c);f.push({key:"AP",value:"<</N "+g+">>"}),s.internal.acroformPlugin.xForms.push(g)}if(c.appearanceStreamContent){var v="";for(var _ in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(_)){var b=c.appearanceStreamContent[_];if(v+="/"+_+" ",v+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var u in b)if(b.hasOwnProperty(u)){var j=b[u];typeof j=="function"&&(j=j.call(s,c)),v+="/"+u+" "+j+" ",s.internal.acroformPlugin.xForms.indexOf(j)>=0||s.internal.acroformPlugin.xForms.push(j)}}else typeof(j=b)=="function"&&(j=j.call(s,c)),v+="/"+u+" "+j,s.internal.acroformPlugin.xForms.indexOf(j)>=0||s.internal.acroformPlugin.xForms.push(j);v+=">>"}f.push({key:"AP",value:`<<
`+v+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:c.objId}),s.internal.out("endobj")}o&&(function(E,T){for(var A in E)if(E.hasOwnProperty(A)){var z=A,D=E[A];T.internal.newObjectDeferredBegin(D.objId,!0),Tn(D)==="object"&&typeof D.putStream=="function"&&D.putStream(),delete E[z]}})(s.internal.acroformPlugin.xForms,s)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Ix=Ai.__acroform__.arrayToPdfArray=function(t,e,n){var a=function(u){return u};if(Array.isArray(t)){for(var s="[",o=0;o<t.length;o++)switch(o!==0&&(s+=" "),Tn(t[o])){case"boolean":case"number":case"object":s+=t[o].toString();break;case"string":t[o].substr(0,1)==="/"?s+="/"+Uc(t[o].substr(1)):(e!==void 0&&n&&(a=n.internal.getEncryptor(e)),s+="("+qc(a(t[o].toString()))+")")}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Jg=function(t,e,n){var a=function(s){return s};return e!==void 0&&n&&(a=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+qc(a(t))+")"},co=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};co.prototype.toString=function(){return this.objId+" 0 R"},co.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},co.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var a=e[n],s=this[a];s&&(Array.isArray(s)?t.push({key:a,value:Ix(s,this.objId,this.scope)}):s instanceof co?(s.scope=this.scope,t.push({key:a,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:a,value:s}))}return t};var qx=function(){co.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};dr(qx,co);var Fx=function(){co.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(a){return a};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+qc(n(t))+")"}},set:function(n){t=n}})};dr(Fx,co);var Us=function t(){co.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute F supplied.');e=A}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Pi(e,3)},set:function(A){A?this.F=zi(e,3):this.F=Bi(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute Ff supplied.');n=A}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(A){a=A!==void 0?A:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(A){a[0]=A}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(A){a[1]=A}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(A){a[2]=A}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(A){a[3]=A}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(A){switch(A){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=A;break;default:throw new Error('Invalid value "'+A+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Dp)return;o="FieldObject"+t.FieldNum++}var A=function(z){return z};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+qc(A(o))+")"},set:function(A){o=A.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(A){o=A}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(A){u=A}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(A){c=A}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(A){f=A}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/T1:p},set:function(A){p=A}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(A){g=A}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof Dp||this instanceof Rc))return Jg(v,this.objId,this.scope)},set:function(A){A=A.toString(),v=A}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof ha==0?Jg(_,this.objId,this.scope):_},set:function(A){A=A.toString(),_=this instanceof ha==0?A.substr(0,1)==="("?Uu(A.substr(1,A.length-2)):Uu(A):A}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ha==1?Uu(_.substr(1,_.length-1)):_},set:function(A){A=A.toString(),_=this instanceof ha==1?"/"+Uc(A):A}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(A){this.V=A}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof ha==0?Jg(b,this.objId,this.scope):b},set:function(A){A=A.toString(),b=this instanceof ha==0?A.substr(0,1)==="("?Uu(A.substr(1,A.length-2)):Uu(A):A}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ha==1?Uu(b.substr(1,b.length-1)):b},set:function(A){A=A.toString(),b=this instanceof ha==1?"/"+Uc(A):A}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(A){A=!!A,E=A}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(A){j=A}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,1)},set:function(A){A?this.Ff=zi(this.Ff,1):this.Ff=Bi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,2)},set:function(A){A?this.Ff=zi(this.Ff,2):this.Ff=Bi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,3)},set:function(A){A?this.Ff=zi(this.Ff,3):this.Ff=Bi(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(A){if([0,1,2].indexOf(A)===-1)throw new Error('Invalid value "'+A+'" for attribute Q supplied.');T=A}}),Object.defineProperty(this,"textAlign",{get:function(){var A;switch(T){case 0:default:A="left";break;case 1:A="center";break;case 2:A="right"}return A},configurable:!0,enumerable:!0,set:function(A){switch(A){case"right":case 2:T=2;break;case"center":case 1:T=1;break;default:T=0}}})};dr(Us,co);var Ju=function(){Us.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ix(e,this.objId,this.scope)},set:function(n){var a,s;s=[],typeof(a=n)=="string"&&(s=(function(o,u,c){c||(c=1);for(var f,p=[];f=u.exec(o);)p.push(f[c]);return p})(a,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,a){for(a=a||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,18)},set:function(n){n?this.Ff=zi(this.Ff,18):this.Ff=Bi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=zi(this.Ff,19):this.Ff=Bi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,20)},set:function(n){n?(this.Ff=zi(this.Ff,20),e.sort()):this.Ff=Bi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,22)},set:function(n){n?this.Ff=zi(this.Ff,22):this.Ff=Bi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,23)},set:function(n){n?this.Ff=zi(this.Ff,23):this.Ff=Bi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,27)},set:function(n){n?this.Ff=zi(this.Ff,27):this.Ff=Bi(this.Ff,27)}}),this.hasAppearanceStream=!1};dr(Ju,Us);var Zu=function(){Ju.call(this),this.fontName="helvetica",this.combo=!1};dr(Zu,Ju);var ed=function(){Zu.call(this),this.combo=!0};dr(ed,Zu);var mp=function(){ed.call(this),this.edit=!0};dr(mp,ed);var ha=function(){Us.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,15)},set:function(n){n?this.Ff=zi(this.Ff,15):this.Ff=Bi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,16)},set:function(n){n?this.Ff=zi(this.Ff,16):this.Ff=Bi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,17)},set:function(n){n?this.Ff=zi(this.Ff,17):this.Ff=Bi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,26)},set:function(n){n?this.Ff=zi(this.Ff,26):this.Ff=Bi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var a,s=[];for(a in s.push("<<"),e)s.push("/"+a+" ("+qc(n(e[a]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){Tn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){var a=n==null?"":n.toString();a.substr(0,1)==="/"&&(a=a.substr(1)),t="/"+Uc(a)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+Uc(n)}})};dr(ha,Us);var gp=function(){ha.call(this),this.pushButton=!0};dr(gp,ha);var td=function(){ha.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};dr(td,ha);var Dp=function(){var t,e;Us.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var n,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),a)u.push("/"+o+" ("+qc(s(a[o]))+")");return u.push(">>"),u.join(`
`)},set:function(s){Tn(s)==="object"&&(a=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(s){typeof s=="string"&&(a.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){var o=s==null?"":s.toString();o.substr(0,1)==="/"&&(o=o.substr(1)),n="/"+Uc(o)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){var o=s==null?"":s.toString();o.substr(0,1)==="/"&&(o=o.substr(1)),n="/"+Uc(o)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=lt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};dr(Dp,Us),td.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},td.prototype.createOption=function(t){var e=new Dp;return e.Parent=this,e.optionName=t,this.Kids.push(e),uL.call(this.scope,e),e};var vp=function(){ha.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=lt.CheckBox.createAppearanceStream()};dr(vp,ha);var Rc=function(){Us.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,13)},set:function(e){e?this.Ff=zi(this.Ff,13):this.Ff=Bi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,21)},set:function(e){e?this.Ff=zi(this.Ff,21):this.Ff=Bi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,23)},set:function(e){e?this.Ff=zi(this.Ff,23):this.Ff=Bi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,24)},set:function(e){e?this.Ff=zi(this.Ff,24):this.Ff=Bi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,25)},set:function(e){e?this.Ff=zi(this.Ff,25):this.Ff=Bi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,26)},set:function(e){e?this.Ff=zi(this.Ff,26):this.Ff=Bi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};dr(Rc,Us);var yp=function(){Rc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,14)},set:function(t){t?this.Ff=zi(this.Ff,14):this.Ff=Bi(this.Ff,14)}}),this.password=!0};dr(yp,Rc);var lt={CheckBox:{createAppearanceStream:function(){return{N:{On:lt.CheckBox.YesNormal},D:{On:lt.CheckBox.YesPushDown,Off:lt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=oo(t);e.scope=t.scope;var n=[],a=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),o=Q0(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+$t(lt.internal.getWidth(t))+" "+$t(lt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+a+" "+$t(o.fontSize)+" Tf "+s),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=oo(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),s=[],o=lt.internal.getHeight(t),u=lt.internal.getWidth(t),c=Q0(t,t.caption);return s.push("1 g"),s.push("0 0 "+$t(u)+" "+$t(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+$t(u-1)+" "+$t(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+$t(c.fontSize)+" Tf "+a),s.push(c.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=oo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+$t(lt.internal.getWidth(t))+" "+$t(lt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:lt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=lt.RadioButton.Circle.YesNormal,e.D[t]=lt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=oo(t);e.scope=t.scope;var n=[],a=lt.internal.getWidth(t)<=lt.internal.getHeight(t)?lt.internal.getWidth(t)/4:lt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var s=lt.internal.Bezier_C,o=Number((a*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Pl(lt.internal.getWidth(t)/2)+" "+Pl(lt.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),n.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),n.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),n.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=oo(t);e.scope=t.scope;var n=[],a=lt.internal.getWidth(t)<=lt.internal.getHeight(t)?lt.internal.getWidth(t)/4:lt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),o=Number((s*lt.internal.Bezier_C).toFixed(5)),u=Number((a*lt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Pl(lt.internal.getWidth(t)/2)+" "+Pl(lt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Pl(lt.internal.getWidth(t)/2)+" "+Pl(lt.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+u+" "+u+" "+a+" 0 "+a+" c"),n.push("-"+u+" "+a+" -"+a+" "+u+" -"+a+" 0 c"),n.push("-"+a+" -"+u+" -"+u+" -"+a+" 0 -"+a+" c"),n.push(u+" -"+a+" "+a+" -"+u+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=oo(t);e.scope=t.scope;var n=[],a=lt.internal.getWidth(t)<=lt.internal.getHeight(t)?lt.internal.getWidth(t)/4:lt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),o=Number((s*lt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Pl(lt.internal.getWidth(t)/2)+" "+Pl(lt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:lt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=lt.RadioButton.Cross.YesNormal,e.D[t]=lt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=oo(t);e.scope=t.scope;var n=[],a=lt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+$t(lt.internal.getWidth(t)-2)+" "+$t(lt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push($t(a.x1.x)+" "+$t(a.x1.y)+" m"),n.push($t(a.x2.x)+" "+$t(a.x2.y)+" l"),n.push($t(a.x4.x)+" "+$t(a.x4.y)+" m"),n.push($t(a.x3.x)+" "+$t(a.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=oo(t);e.scope=t.scope;var n=lt.internal.calculateCross(t),a=[];return a.push("0.749023 g"),a.push("0 0 "+$t(lt.internal.getWidth(t))+" "+$t(lt.internal.getHeight(t))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+$t(lt.internal.getWidth(t)-2)+" "+$t(lt.internal.getHeight(t)-2)+" re"),a.push("W"),a.push("n"),a.push($t(n.x1.x)+" "+$t(n.x1.y)+" m"),a.push($t(n.x2.x)+" "+$t(n.x2.y)+" l"),a.push($t(n.x4.x)+" "+$t(n.x4.y)+" m"),a.push($t(n.x3.x)+" "+$t(n.x3.y)+" l"),a.push("s"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=oo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+$t(lt.internal.getWidth(t))+" "+$t(lt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};lt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=lt.internal.getWidth(t),n=lt.internal.getHeight(t),a=Math.min(e,n);return{x1:{x:(e-a)/2,y:(n-a)/2+a},x2:{x:(e-a)/2+a,y:(n-a)/2},x3:{x:(e-a)/2,y:(n-a)/2},x4:{x:(e-a)/2+a,y:(n-a)/2+a}}}},lt.internal.getWidth=function(t){var e=0;return Tn(t)==="object"&&(e=u5(t.Rect[2])),e},lt.internal.getHeight=function(t){var e=0;return Tn(t)==="object"&&(e=u5(t.Rect[3])),e};var uL=Ai.addField=function(t){if(cL(this,t),!(t instanceof Us))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ai.AcroFormChoiceField=Ju,Ai.AcroFormListBox=Zu,Ai.AcroFormComboBox=ed,Ai.AcroFormEditBox=mp,Ai.AcroFormButton=ha,Ai.AcroFormPushButton=gp,Ai.AcroFormRadioButton=td,Ai.AcroFormCheckBox=vp,Ai.AcroFormTextField=Rc,Ai.AcroFormPasswordField=yp,Ai.AcroFormAppearance=lt,Ai.AcroForm={ChoiceField:Ju,ListBox:Zu,ComboBox:ed,EditBox:mp,Button:ha,PushButton:gp,RadioButton:td,CheckBox:vp,TextField:Rc,PasswordField:yp,Appearance:lt},wt.AcroForm={ChoiceField:Ju,ListBox:Zu,ComboBox:ed,EditBox:mp,Button:ha,PushButton:gp,RadioButton:td,CheckBox:vp,TextField:Rc,PasswordField:yp,Appearance:lt};wt.AcroForm;function Hx(t){return t.reduce(function(e,n,a){return e[n]=a,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(U,Y){var le,ue,k,I,te,J=n;if((Y=Y||n)==="RGBA"||U.data!==void 0&&U.data instanceof Uint8ClampedArray&&"height"in U&&"width"in U)return"RGBA";if(he(U))for(te in a)for(k=a[te],le=0;le<k.length;le+=1){for(I=!0,ue=0;ue<k[le].length;ue+=1)if(k[le][ue]!==void 0&&k[le][ue]!==U[ue]){I=!1;break}if(I===!0){J=te;break}}else for(te in a)for(k=a[te],le=0;le<k.length;le+=1){for(I=!0,ue=0;ue<k[le].length;ue+=1)if(k[le][ue]!==void 0&&k[le][ue]!==U.charCodeAt(ue)){I=!1;break}if(I===!0){J=te;break}}return J===n&&Y!==n&&(J=Y),J},o=function U(Y){for(var le=this.internal.write,ue=this.internal.putStream,k=(0,this.internal.getFilters)();k.indexOf("FlateEncode")!==-1;)k.splice(k.indexOf("FlateEncode"),1);Y.objectId=this.internal.newObject();var I=[];if(I.push({key:"Type",value:"/XObject"}),I.push({key:"Subtype",value:"/Image"}),I.push({key:"Width",value:Y.width}),I.push({key:"Height",value:Y.height}),Y.colorSpace===A.INDEXED?I.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Y.palette.length/3-1)+" "+("sMask"in Y&&Y.sMask!==void 0?Y.objectId+2:Y.objectId+1)+" 0 R]"}):(I.push({key:"ColorSpace",value:"/"+Y.colorSpace}),Y.colorSpace===A.DEVICE_CMYK&&I.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),I.push({key:"BitsPerComponent",value:Y.bitsPerComponent}),"decodeParameters"in Y&&Y.decodeParameters!==void 0&&I.push({key:"DecodeParms",value:"<<"+Y.decodeParameters+">>"}),"transparency"in Y&&Array.isArray(Y.transparency)&&Y.transparency.length>0){for(var te="",J=0,ve=Y.transparency.length;J<ve;J++)te+=Y.transparency[J]+" "+Y.transparency[J]+" ";I.push({key:"Mask",value:"["+te+"]"})}Y.sMask!==void 0&&I.push({key:"SMask",value:Y.objectId+1+" 0 R"});var fe=Y.filter!==void 0?["/"+Y.filter]:void 0;if(ue({data:Y.data,additionalKeyValues:I,alreadyAppliedFilters:fe,objectId:Y.objectId}),le("endobj"),"sMask"in Y&&Y.sMask!==void 0){var F,L=(F=Y.sMaskBitsPerComponent)!==null&&F!==void 0?F:Y.bitsPerComponent,B={width:Y.width,height:Y.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:Y.sMask};"filter"in Y&&(B.decodeParameters="/Predictor ".concat(Y.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(Y.width),B.filter=Y.filter),U.call(this,B)}if(Y.colorSpace===A.INDEXED){var $=this.internal.newObject();ue({data:ee(new Uint8Array(Y.palette)),objectId:$}),le("endobj")}},u=function(){var U=this.internal.collections[e+"images"];for(var Y in U)o.call(this,U[Y])},c=function(){var U,Y=this.internal.collections[e+"images"],le=this.internal.write;for(var ue in Y)le("/I"+(U=Y[ue]).index,U.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",c))},p=function(){var U=this.internal.collections[e+"images"];return f.call(this),U},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},v=function(U){return typeof t["process"+U.toUpperCase()]=="function"},_=function(U){return Tn(U)==="object"&&U.nodeType===1},b=function(U,Y){if(U.nodeName==="IMG"&&U.hasAttribute("src")){var le=""+U.getAttribute("src");if(le.indexOf("data:image/")===0)return pp(unescape(le).split("base64,").pop());var ue=t.loadFile(le,!0);if(ue!==void 0)return ue}if(U.nodeName==="CANVAS"){if(U.width===0||U.height===0)throw new Error("Given canvas must have data. Canvas width: "+U.width+", height: "+U.height);var k;switch(Y){case"PNG":k="image/png";break;case"WEBP":k="image/webp";break;default:k="image/jpeg"}return pp(U.toDataURL(k,1).split("base64,").pop())}},j=function(U){var Y=this.internal.collections[e+"images"];if(Y){for(var le in Y)if(U===Y[le].alias)return Y[le]}},E=function(U,Y,le){return U||Y||(U=-96,Y=-96),U<0&&(U=-1*le.width*72/U/this.internal.scaleFactor),Y<0&&(Y=-1*le.height*72/Y/this.internal.scaleFactor),U===0&&(U=Y*le.width/le.height),Y===0&&(Y=U*le.height/le.width),[U,Y]},T=function(U,Y,le,ue,k,I){var te=E.call(this,le,ue,k),J=this.internal.getCoordinateString,ve=this.internal.getVerticalCoordinateString,fe=p.call(this);if(le=te[0],ue=te[1],fe[k.index]=k,I){I*=Math.PI/180;var F=Math.cos(I),L=Math.sin(I),B=function(ie){return ie.toFixed(4)},$=[B(F),B(L),B(-1*L),B(F),0,0,"cm"]}this.internal.write("q"),I?(this.internal.write([1,"0","0",1,J(U),ve(Y+ue),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([J(le),"0","0",J(ue),"0","0","cm"].join(" "))):this.internal.write([J(le),"0","0",J(ue),J(U),ve(Y+ue),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+k.index+" Do"),this.internal.write("Q")},A=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var z=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=t.__addimage__.sHashCode=function(U){var Y,le,ue=0;if(typeof U=="string")for(le=U.length,Y=0;Y<le;Y++)ue=(ue<<5)-ue+U.charCodeAt(Y),ue|=0;else if(he(U))for(le=U.byteLength/2,Y=0;Y<le;Y++)ue=(ue<<5)-ue+U[Y],ue|=0;return ue},P=t.__addimage__.validateStringAsBase64=function(U){(U=U||"").toString().trim();var Y=!0;return U.length===0&&(Y=!1),U.length%4!=0&&(Y=!1),/^[A-Za-z0-9+/]+$/.test(U.substr(0,U.length-2))===!1&&(Y=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(U.substr(-2))===!1&&(Y=!1),Y},se=t.__addimage__.extractImageFromDataUrl=function(U){if(U==null||!(U=U.trim()).startsWith("data:"))return null;var Y=U.indexOf(",");return Y<0?null:U.substring(0,Y).trim().endsWith("base64")?U.substring(Y+1):null};t.__addimage__.isArrayBuffer=function(U){return U instanceof ArrayBuffer};var he=t.__addimage__.isArrayBufferView=function(U){return U instanceof Int8Array||U instanceof Uint8Array||U instanceof Uint8ClampedArray||U instanceof Int16Array||U instanceof Uint16Array||U instanceof Int32Array||U instanceof Uint32Array||U instanceof Float32Array||U instanceof Float64Array},oe=t.__addimage__.binaryStringToUint8Array=function(U){for(var Y=U.length,le=new Uint8Array(Y),ue=0;ue<Y;ue++)le[ue]=U.charCodeAt(ue);return le},ee=t.__addimage__.arrayBufferToBinaryString=function(U){for(var Y="",le=he(U)?U:new Uint8Array(U),ue=0;ue<le.length;ue+=8192)Y+=String.fromCharCode.apply(null,le.subarray(ue,ue+8192));return Y};t.addImage=function(){var U,Y,le,ue,k,I,te,J,ve;if(typeof arguments[1]=="number"?(Y=n,le=arguments[1],ue=arguments[2],k=arguments[3],I=arguments[4],te=arguments[5],J=arguments[6],ve=arguments[7]):(Y=arguments[1],le=arguments[2],ue=arguments[3],k=arguments[4],I=arguments[5],te=arguments[6],J=arguments[7],ve=arguments[8]),Tn(U=arguments[0])==="object"&&!_(U)&&"imageData"in U){var fe=U;U=fe.imageData,Y=fe.format||Y||n,le=fe.x||le||0,ue=fe.y||ue||0,k=fe.w||fe.width||k,I=fe.h||fe.height||I,te=fe.alias||te,J=fe.compression||J,ve=fe.rotation||fe.angle||ve}var F=this.internal.getFilters();if(J===void 0&&F.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(le)||isNaN(ue))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var L=X.call(this,U,Y,te,J);return T.call(this,le,ue,k,I,L,ve),this};var X=function(U,Y,le,ue){var k,I,te;if(typeof U=="string"&&s(U)===n){U=unescape(U);var J=pe(U,!1);(J!==""||(J=t.loadFile(U,!0))!==void 0)&&(U=J)}if(_(U)&&(U=b(U,Y)),Y=s(U,Y),!v(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(((te=le)==null||te.length===0)&&(le=(function(ve){return typeof ve=="string"||he(ve)?D(ve):he(ve.data)?D(ve.data):null})(U)),(k=j.call(this,le))||(U instanceof Uint8Array||Y==="RGBA"||(I=U,U=oe(U)),k=this["process"+Y.toUpperCase()](U,g.call(this),le,(function(ve){return ve&&typeof ve=="string"&&(ve=ve.toUpperCase()),ve in t.image_compression?ve:z.NONE})(ue),I)),!k)throw new Error("An unknown error occurred whilst processing the image.");return k},pe=t.__addimage__.convertBase64ToBinaryString=function(U,Y){Y=typeof Y!="boolean"||Y;var le,ue="";if(typeof U=="string"){var k;le=(k=se(U))!==null&&k!==void 0?k:U;try{ue=pp(le)}catch(I){if(Y)throw P(le)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+I.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ue};t.getImageProperties=function(U){var Y,le,ue="";if(_(U)&&(U=b(U)),typeof U=="string"&&s(U)===n&&((ue=pe(U,!1))===""&&(ue=t.loadFile(U)||""),U=ue),le=s(U),!v(le))throw new Error("addImage does not support files of type '"+le+"', please ensure that a plugin for '"+le+"' support is added.");if(U instanceof Uint8Array||(U=oe(U)),!(Y=this["process"+le.toUpperCase()](U)))throw new Error("An unknown error occurred whilst processing the image");return Y.fileType=le,Y}})(wt.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};wt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var a,s,o,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(n.objId),p=n.pageContext.annotations,g=!1,v=0;v<p.length&&!g;v++)switch((a=p[v]).type){case"link":(e(a.options.url)||e(a.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var _=0;_<p.length;_++){a=p[_];var b=this.internal.pdfEscape,j=this.internal.getEncryptor(n.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(E.objId),z=a.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(a.bounds.x)+" "+c(a.bounds.y+a.bounds.h)+" "+u(a.bounds.x+a.bounds.w)+" "+c(a.bounds.y)+"] ")+"/Contents ("+b(A(a.contents))+")",o+=" /Popup "+T.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+b(A(z))+") >>",E.content=o;var D=E.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(a.bounds.x+30)+" "+c(a.bounds.y+a.bounds.h)+" "+u(a.bounds.x+a.bounds.w+30)+" "+c(a.bounds.y)+"] ")+" /Parent "+D,a.open&&(o+=" /Open true"),o+=" >>",T.content=o,this.internal.write(E.objId,"0 R",T.objId,"0 R");break;case"freetext":s="/Rect ["+u(a.bounds.x)+" "+c(a.bounds.y)+" "+u(a.bounds.x+a.bounds.w)+" "+c(a.bounds.y+a.bounds.h)+"] ";var P=a.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+b(j(a.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(a.options.name){var se=this.annotations._nameMap[a.options.name];a.options.pageNumber=se.page,a.options.top=se.y}else a.options.top||(a.options.top=0);if(s="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",o="",a.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+b(j(a.options.url))+") >>";else if(a.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,o+=" /FitV "+a.options.left+"]";break;default:var he=c(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),o+=" /XYZ "+a.options.left+" "+he+" "+a.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var a=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":a.pageContext.annotations.push(n)}},t.link=function(n,a,s,o,u){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(n),y:p(a),w:f(n+s),h:p(a+o)},options:u,type:"link"})},t.textWithLink=function(n,a,s,o){var u,c,f=this.getTextWidth(n),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var g=this.splitTextToSize(n,c).length;u=Math.ceil(p*g)}else c=f,u=p;return this.text(n,a,s,o),s+=.2*p,o.align==="center"&&(a-=f/2),o.align==="right"&&(a-=f),this.link(a,s-p,c,u,o),f},t.getTextWidth=function(n){var a=this.internal.getFontSize();return this.getStringUnitWidth(n)*a/this.internal.scaleFactor}})(wt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},u=t.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},c=t.__arabicParser__.isArabicEndLetter=function(E){return u(E)&&o(E)&&e[E.charCodeAt(0)].length<=2},f=t.__arabicParser__.isArabicAlfLetter=function(E){return u(E)&&s.indexOf(E.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return u(E)&&o(E)&&e[E.charCodeAt(0)].length>=1};var p=t.__arabicParser__.arabicLetterHasFinalForm=function(E){return u(E)&&o(E)&&e[E.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(E){return u(E)&&o(E)&&e[E.charCodeAt(0)].length>=3};var g=t.__arabicParser__.arabicLetterHasMedialForm=function(E){return u(E)&&o(E)&&e[E.charCodeAt(0)].length==4},v=t.__arabicParser__.resolveLigatures=function(E){var T=0,A=n,z="",D=0;for(T=0;T<E.length;T+=1)A[E.charCodeAt(T)]!==void 0?(D++,typeof(A=A[E.charCodeAt(T)])=="number"&&(z+=String.fromCharCode(A),A=n,D=0),T===E.length-1&&(A=n,z+=E.charAt(T-(D-1)),T-=D-1,D=0)):(A=n,z+=E.charAt(T-D),T-=D,D=0);return z};t.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&a[E.charCodeAt(0)]!==void 0};var _=t.__arabicParser__.getCorrectForm=function(E,T,A){return u(E)?o(E)===!1?-1:!p(E)||!u(T)&&!u(A)||!u(A)&&c(T)||c(E)&&!u(T)||c(E)&&f(T)||c(E)&&c(T)?0:g(E)&&u(T)&&!c(T)&&u(A)&&p(A)?3:c(E)||!u(A)?1:2:-1},b=function(E){var T=0,A=0,z=0,D="",P="",se="",he=(E=E||"").split("\\s+"),oe=[];for(T=0;T<he.length;T+=1){for(oe.push(""),A=0;A<he[T].length;A+=1)D=he[T][A],P=he[T][A-1],se=he[T][A+1],u(D)?(z=_(D,P,se),oe[T]+=z!==-1?String.fromCharCode(e[D.charCodeAt(0)][z]):D):oe[T]+=D;oe[T]=v(oe[T])}return oe.join(" ")},j=t.__arabicParser__.processArabic=t.processArabic=function(){var E,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,A=[];if(Array.isArray(T)){var z=0;for(A=[],z=0;z<T.length;z+=1)Array.isArray(T[z])?A.push([b(T[z][0]),T[z][1],T[z][2]]):A.push([b(T[z])]);E=A}else E=b(T);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};t.events.push(["preProcessText",j])})(wt.API),wt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,a){var s;if((n=n||"2d")!=="2d")return null;for(s in a)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=a[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(wt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(E){f=E}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(E){p=E}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(E){g=E}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(E){v=E}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(E){_=E}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(E){b=E}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(E){j=E}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(f){return a.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},t.getTextDimensions=function(f,p){a.call(this);var g=(p=p||{}).fontSize||this.getFontSize(),v=p.font||this.getFont(),_=p.scaleFactor||this.internal.scaleFactor,b=0,j=0,E=0,T=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var A=p.maxWidth;A>0?typeof f=="string"?f=this.splitTextToSize(f,A):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(D,P){return D.concat(T.splitTextToSize(P,A))},[])):f=Array.isArray(f)?f:[f];for(var z=0;z<f.length;z++)b<(E=this.getStringUnitWidth(f[z],{font:v})*g)&&(b=E);return b!==0&&(j=f.length),{w:b/=_,h:Math.max((j*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/_,0)}},t.cellAddPage=function(){a.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=t.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),a.call(this);var p=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,v=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===f.lineNumber?(f.x=(p.x||0)+(p.width||0),f.y=p.y||0):p.y+p.height+f.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=v.top,b&&_&&(this.printHeaderRow(f.lineNumber,!0),f.y+=_[0].height)):f.y=p.y+p.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,n===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-g,f.y+g,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+g,{align:"center",baseline:"top",maxWidth:f.width-g-g}):this.text(f.text,f.x+g,f.y+g,{align:"left",baseline:"top",maxWidth:f.width-g-g})),this.internal.__cell__.lastCell=f,this};t.table=function(f,p,g,v,_){if(a.call(this),!g)throw new Error("No data for PDF table.");var b,j,E,T,A=[],z=[],D=[],P={},se={},he=[],oe=[],ee=(_=_||{}).autoSize||!1,X=_.printHeaders!==!1,pe=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,U=_.margins||Object.assign({width:this.getPageWidth()},e),Y=typeof _.padding=="number"?_.padding:3,le=_.headerBackgroundColor||"#c8c8c8",ue=_.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=X,this.internal.__cell__.margins=U,this.internal.__cell__.table_font_size=pe,this.internal.__cell__.padding=Y,this.internal.__cell__.headerBackgroundColor=le,this.internal.__cell__.headerTextColor=ue,this.setFontSize(pe),v==null)z=A=Object.keys(g[0]),D=A.map(function(){return"left"});else if(Array.isArray(v)&&Tn(v[0])==="object")for(A=v.map(function(fe){return fe.name}),z=v.map(function(fe){return fe.prompt||fe.name||""}),D=v.map(function(fe){return fe.align||"left"}),b=0;b<v.length;b+=1)se[v[b].name]=.7499990551181103*v[b].width;else Array.isArray(v)&&typeof v[0]=="string"&&(z=A=v,D=A.map(function(){return"left"}));if(ee||Array.isArray(v)&&typeof v[0]=="string")for(b=0;b<A.length;b+=1){for(P[T=A[b]]=g.map(function(fe){return fe[T]}),this.setFont(void 0,"bold"),he.push(this.getTextDimensions(z[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=P[T],this.setFont(void 0,"normal"),E=0;E<j.length;E+=1)he.push(this.getTextDimensions(j[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);se[T]=Math.max.apply(null,he)+Y+Y,he=[]}if(X){var k={};for(b=0;b<A.length;b+=1)k[A[b]]={},k[A[b]].text=z[b],k[A[b]].align=D[b];var I=c.call(this,k,se);oe=A.map(function(fe){return new o(f,p,se[fe],I,k[fe].text,void 0,k[fe].align)}),this.setTableHeaderRow(oe),this.printHeaderRow(1,!1)}var te=v.reduce(function(fe,F){return fe[F.name]=F.align,fe},{});for(b=0;b<g.length;b+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:b,data:g[b]},this);var J=c.call(this,g[b],se);for(E=0;E<A.length;E+=1){var ve=g[b][A[E]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:b,col:E,data:ve},this),u.call(this,new o(f,p,se[A[E]],J,ve,b+2,te[A[E]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=p,this};var c=function(f,p){var g=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(f).map(function(b){var j=f[b];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,p[b]-g-g)},this).map(function(b){return this.getLineHeightFactor()*b.length*v/_+g+g},this).reduce(function(b,j){return Math.max(b,j)},0)};t.setTableHeaderRow=function(f){a.call(this),this.internal.__cell__.tableHeaderRow=f},t.printHeaderRow=function(f,p){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){g=this.internal.__cell__.tableHeaderRow[b].clone(),p&&(g.y=this.internal.__cell__.margins.top||0,_.push(g)),g.lineNumber=f;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,g),this.setTextColor(j)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),n=!1}})(wt.API);var $x={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Gx=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],X0=Hx(Gx),Vx=[100,200,300,400,500,600,700,800,900],dL=Hx(Vx);function Zg(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(o){return $x[o=o||"normal"]?o:"normal"})(t.style),a=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(t.weight),s=(function(o){return typeof X0[o=o||"normal"]=="number"?o:"normal"})(t.stretch);return{family:e,style:n,weight:a,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,n,a].join(" ")}}}function d5(t,e,n,a){var s;for(s=n;s>=0&&s<e.length;s+=a)if(t[e[s]])return t[e[s]];for(s=n;s>=0&&s<e.length;s-=a)if(t[e[s]])return t[e[s]]}var hL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},h5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function f5(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function p5(t){return t.trimLeft()}function fL(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function pL(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Iu,rp,m5,g5,v5,e0=["times"];function y5(t,e,n,a,s){var o=4,u=w5;switch(s){case wt.API.image_compression.FAST:o=1,u=b5;break;case wt.API.image_compression.MEDIUM:o=6,u=x5;break;case wt.API.image_compression.SLOW:o=9,u=_5}t=(function(f,p,g,v){for(var _,b=f.length/p,j=new Uint8Array(f.length+b),E=[mL,b5,w5,x5,_5],T=0;T<b;T+=1){var A=T*p,z=f.subarray(A,A+p);if(v)j.set(v(z,g,_),A+T);else{for(var D=E.length,P=[],se=0;se<D;se+=1)P[se]=E[se](z,g,_);var he=vL(P.concat());j.set(P[he],A+T)}_=z}return j})(t,e,Math.ceil(n*a/8),u);var c=$0(t,{level:o});return wt.API.__addimage__.arrayBufferToBinaryString(c)}function mL(t){var e=Array.apply([],t);return e.unshift(0),e}function b5(t,e){var n=t.length,a=[];a[0]=1;for(var s=0;s<n;s+=1){var o=t[s-e]||0;a[s+1]=t[s]-o+256&255}return a}function w5(t,e,n){var a=t.length,s=[];s[0]=2;for(var o=0;o<a;o+=1){var u=n&&n[o]||0;s[o+1]=t[o]-u+256&255}return s}function x5(t,e,n){var a=t.length,s=[];s[0]=3;for(var o=0;o<a;o+=1){var u=t[o-e]||0,c=n&&n[o]||0;s[o+1]=t[o]+256-(u+c>>>1)&255}return s}function _5(t,e,n){var a=t.length,s=[];s[0]=4;for(var o=0;o<a;o+=1){var u=gL(t[o-e]||0,n&&n[o]||0,n&&n[o-e]||0);s[o+1]=t[o]-u+256&255}return s}function gL(t,e,n){if(t===e&&e===n)return t;var a=Math.abs(e-n),s=Math.abs(t-n),o=Math.abs(t+e-n-n);return a<=s&&a<=o?t:s<=o?e:n}function vL(t){var e=t.map(function(n){return n.reduce(function(a,s){return a+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function t0(t,e,n){var a=e*n,s=Math.floor(a/8),o=16-(a-8*s+n),u=(1<<n)-1;return Wx(t,s)>>o&u}function S5(t,e,n,a){var s=n*a,o=Math.floor(s/8),u=16-(s-8*o+a),c=(1<<a)-1,f=(e&c)<<u;(function(p,g,v){if(g+1<p.byteLength)p.setUint16(g,v,!1);else{var _=v>>8&255;p.setUint8(g,_)}})(t,o,Wx(t,o)&~(c<<u)&65535|f)}function Wx(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function yL(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,a=t[e++]|t[e++]<<8,s=t[e++],o=s>>7,u=1<<1+(7&s);t[e++],t[e++];var c=null,f=null;o&&(c=e,f=u,e+=3*u);var p=!0,g=[],v=0,_=null,b=0,j=null;for(this.width=n,this.height=a;p&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,j=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((U=t[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=t[e++];v=t[e++]|t[e++]<<8,_=t[e++],1&E||(_=null),b=E>>2&7,e++;break;case 254:for(;;){if(!((U=t[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var T=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,z=t[e++]|t[e++]<<8,D=t[e++]|t[e++]<<8,P=t[e++],se=P>>6&1,he=1<<1+(7&P),oe=c,ee=f,X=!1;P>>7&&(X=!0,oe=e,ee=he,e+=3*he);var pe=e;for(e++;;){var U;if(!((U=t[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}g.push({x:T,y:A,width:z,height:D,has_local_palette:X,palette_offset:oe,palette_size:ee,data_offset:pe,data_length:e-pe,transparent_index:_,interlaced:!!se,delay:v,disposal:b});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return j},this.frameInfo=function(Y){if(Y<0||Y>=g.length)throw new Error("Frame index out of range.");return g[Y]},this.decodeAndBlitFrameBGRA=function(Y,le){var ue=this.frameInfo(Y),k=ue.width*ue.height;if(k>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var I=new Uint8Array(k);N5(t,ue.data_offset,I,k);var te=ue.palette_offset,J=ue.transparent_index;J===null&&(J=256);var ve=ue.width,fe=n-ve,F=ve,L=4*(ue.y*n+ue.x),B=4*((ue.y+ue.height)*n+ue.x),$=L,ie=4*fe;ue.interlaced===!0&&(ie+=4*n*7);for(var ce=8,Q=0,be=I.length;Q<be;++Q){var xe=I[Q];if(F===0&&(F=ve,($+=ie)>=B&&(ie=4*fe+4*n*(ce-1),$=L+(ve+fe)*(ce<<1),ce>>=1)),xe===J)$+=4;else{var je=t[te+3*xe],Ie=t[te+3*xe+1],Ve=t[te+3*xe+2];le[$++]=Ve,le[$++]=Ie,le[$++]=je,le[$++]=255}--F}},this.decodeAndBlitFrameRGBA=function(Y,le){var ue=this.frameInfo(Y),k=ue.width*ue.height;if(k>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var I=new Uint8Array(k);N5(t,ue.data_offset,I,k);var te=ue.palette_offset,J=ue.transparent_index;J===null&&(J=256);var ve=ue.width,fe=n-ve,F=ve,L=4*(ue.y*n+ue.x),B=4*((ue.y+ue.height)*n+ue.x),$=L,ie=4*fe;ue.interlaced===!0&&(ie+=4*n*7);for(var ce=8,Q=0,be=I.length;Q<be;++Q){var xe=I[Q];if(F===0&&(F=ve,($+=ie)>=B&&(ie=4*fe+4*n*(ce-1),$=L+(ve+fe)*(ce<<1),ce>>=1)),xe===J)$+=4;else{var je=t[te+3*xe],Ie=t[te+3*xe+1],Ve=t[te+3*xe+2];le[$++]=je,le[$++]=Ie,le[$++]=Ve,le[$++]=255}--F}}}function N5(t,e,n,a){for(var s=t[e++],o=1<<s,u=o+1,c=u+1,f=s+1,p=(1<<f)-1,g=0,v=0,_=0,b=t[e++],j=new Int32Array(4096),E=null;;){for(;g<16&&b!==0;)v|=t[e++]<<g,g+=8,b===1?b=t[e++]:--b;if(g<f)break;var T=v&p;if(v>>=f,g-=f,T!==o){if(T===u)break;for(var A=T<c?T:E,z=0,D=A;D>o;)D=j[D]>>8,++z;var P=D;if(_+z+(A!==T?1:0)>a)return void Fn.log("Warning, gif stream longer than expected.");n[_++]=P;var se=_+=z;for(A!==T&&(n[_++]=P),D=A;z--;)D=j[D],n[--se]=255&D,D>>=8;E!==null&&c<4096&&(j[c++]=E<<8|P,c>=p+1&&f<12&&(++f,p=p<<1|1)),E=T}else c=u+1,p=(1<<(f=s+1))-1,E=null}return _!==a&&Fn.log("Warning, gif stream shorter than expected."),n}function n0(t){var e,n,a,s,o,u=Math.floor,c=new Array(64),f=new Array(64),p=new Array(64),g=new Array(64),v=new Array(65535),_=new Array(65535),b=new Array(64),j=new Array(64),E=[],T=0,A=7,z=new Array(64),D=new Array(64),P=new Array(64),se=new Array(256),he=new Array(2048),oe=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ee=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],pe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],U=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Y=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],le=[0,1,2,3,4,5,6,7,8,9,10,11],ue=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],k=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function I(L,B){for(var $=0,ie=0,ce=new Array,Q=1;Q<=16;Q++){for(var be=1;be<=L[Q];be++)ce[B[ie]]=[],ce[B[ie]][0]=$,ce[B[ie]][1]=Q,ie++,$++;$*=2}return ce}function te(L){for(var B=L[0],$=L[1]-1;$>=0;)B&1<<$&&(T|=1<<A),$--,--A<0&&(T==255?(J(255),J(0)):J(T),A=7,T=0)}function J(L){E.push(L)}function ve(L){J(L>>8&255),J(255&L)}function fe(L,B,$,ie,ce){for(var Q,be=ce[0],xe=ce[240],je=(function(Fe,nt){var Qe,ht,ft,zt,Vt,ze,pt,mt,Je,Rt,Ze=0;for(Je=0;Je<8;++Je){Qe=Fe[Ze],ht=Fe[Ze+1],ft=Fe[Ze+2],zt=Fe[Ze+3],Vt=Fe[Ze+4],ze=Fe[Ze+5],pt=Fe[Ze+6];var pn=Qe+(mt=Fe[Ze+7]),Wt=Qe-mt,St=ht+pt,Et=ht-pt,Yt=ft+ze,xt=ft-ze,yn=zt+Vt,At=zt-Vt,Dt=pn+yn,bn=pn-yn,yt=St+Yt,Xe=St-Yt;Fe[Ze]=Dt+yt,Fe[Ze+4]=Dt-yt;var Bt=.707106781*(Xe+bn);Fe[Ze+2]=bn+Bt,Fe[Ze+6]=bn-Bt;var vi=.382683433*((Dt=At+xt)-(Xe=Et+Wt)),wn=.5411961*Dt+vi,Hn=1.306562965*Xe+vi,Wn=.707106781*(yt=xt+Et),ct=Wt+Wn,Nn=Wt-Wn;Fe[Ze+5]=Nn+wn,Fe[Ze+3]=Nn-wn,Fe[Ze+1]=ct+Hn,Fe[Ze+7]=ct-Hn,Ze+=8}for(Ze=0,Je=0;Je<8;++Je){Qe=Fe[Ze],ht=Fe[Ze+8],ft=Fe[Ze+16],zt=Fe[Ze+24],Vt=Fe[Ze+32],ze=Fe[Ze+40],pt=Fe[Ze+48];var Li=Qe+(mt=Fe[Ze+56]),$n=Qe-mt,Yn=ht+pt,mn=ht-pt,On=ft+ze,jn=ft-ze,Na=zt+Vt,Ti=zt-Vt,An=Li+Na,Kn=Li-Na,ra=Yn+On,Da=Yn-On;Fe[Ze]=An+ra,Fe[Ze+32]=An-ra;var Ga=.707106781*(Da+Kn);Fe[Ze+16]=Kn+Ga,Fe[Ze+48]=Kn-Ga;var go=.382683433*((An=Ti+jn)-(Da=mn+$n)),fr=.5411961*An+go,pr=1.306562965*Da+go,qs=.707106781*(ra=jn+mn),mr=$n+qs,gr=$n-qs;Fe[Ze+40]=gr+fr,Fe[Ze+24]=gr-fr,Fe[Ze+8]=mr+pr,Fe[Ze+56]=mr-pr,Ze++}for(Je=0;Je<64;++Je)Rt=Fe[Je]*nt[Je],b[Je]=Rt>0?Rt+.5|0:Rt-.5|0;return b})(L,B),Ie=0;Ie<64;++Ie)j[oe[Ie]]=je[Ie];var Ve=j[0]-$;$=j[0],Ve==0?te(ie[0]):(te(ie[_[Q=32767+Ve]]),te(v[Q]));for(var Ge=63;Ge>0&&j[Ge]==0;)Ge--;if(Ge==0)return te(be),$;for(var Ye,Z=1;Z<=Ge;){for(var We=Z;j[Z]==0&&Z<=Ge;)++Z;var Ot=Z-We;if(Ot>=16){Ye=Ot>>4;for(var ut=1;ut<=Ye;++ut)te(xe);Ot&=15}Q=32767+j[Z],te(ce[(Ot<<4)+_[Q]]),te(v[Q]),Z++}return Ge!=63&&te(be),$}function F(L){L=Math.min(Math.max(L,1),100),o!=L&&((function(B){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var ce=u(($[ie]*B+50)/100);ce=Math.min(Math.max(ce,1),255),c[oe[ie]]=ce}for(var Q=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var xe=u((Q[be]*B+50)/100);xe=Math.min(Math.max(xe,1),255),f[oe[be]]=xe}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ie=0,Ve=0;Ve<8;Ve++)for(var Ge=0;Ge<8;Ge++)p[Ie]=1/(c[oe[Ie]]*je[Ve]*je[Ge]*8),g[Ie]=1/(f[oe[Ie]]*je[Ve]*je[Ge]*8),Ie++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),o=L)}this.encode=function(L,B){B&&F(B),E=new Array,T=0,A=7,ve(65496),ve(65504),ve(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),ve(1),ve(1),J(0),J(0),(function(){ve(65499),ve(132),J(0);for(var ht=0;ht<64;ht++)J(c[ht]);J(1);for(var ft=0;ft<64;ft++)J(f[ft])})(),(function(ht,ft){ve(65472),ve(17),J(8),ve(ft),ve(ht),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)})(L.width,L.height),(function(){ve(65476),ve(418),J(0);for(var ht=0;ht<16;ht++)J(ee[ht+1]);for(var ft=0;ft<=11;ft++)J(X[ft]);J(16);for(var zt=0;zt<16;zt++)J(pe[zt+1]);for(var Vt=0;Vt<=161;Vt++)J(U[Vt]);J(1);for(var ze=0;ze<16;ze++)J(Y[ze+1]);for(var pt=0;pt<=11;pt++)J(le[pt]);J(17);for(var mt=0;mt<16;mt++)J(ue[mt+1]);for(var Je=0;Je<=161;Je++)J(k[Je])})(),ve(65498),ve(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var $=0,ie=0,ce=0;T=0,A=7,this.encode.displayName="_encode_";for(var Q,be,xe,je,Ie,Ve,Ge,Ye,Z,We=L.data,Ot=L.width,ut=L.height,Fe=4*Ot,nt=0;nt<ut;){for(Q=0;Q<Fe;){for(Ie=Fe*nt+Q,Ge=-1,Ye=0,Z=0;Z<64;Z++)Ve=Ie+(Ye=Z>>3)*Fe+(Ge=4*(7&Z)),nt+Ye>=ut&&(Ve-=Fe*(nt+1+Ye-ut)),Q+Ge>=Fe&&(Ve-=Q+Ge-Fe+4),be=We[Ve++],xe=We[Ve++],je=We[Ve++],z[Z]=(he[be]+he[xe+256|0]+he[je+512|0]>>16)-128,D[Z]=(he[be+768|0]+he[xe+1024|0]+he[je+1280|0]>>16)-128,P[Z]=(he[be+1280|0]+he[xe+1536|0]+he[je+1792|0]>>16)-128;$=fe(z,p,$,e,a),ie=fe(D,g,ie,n,s),ce=fe(P,g,ce,n,s),Q+=32}nt+=8}if(A>=0){var Qe=[];Qe[1]=A+1,Qe[0]=(1<<A+1)-1,te(Qe)}return ve(65497),new Uint8Array(E)},t=t||50,(function(){for(var L=String.fromCharCode,B=0;B<256;B++)se[B]=L(B)})(),e=I(ee,X),n=I(Y,le),a=I(pe,U),s=I(ue,k),(function(){for(var L=1,B=2,$=1;$<=15;$++){for(var ie=L;ie<B;ie++)_[32767+ie]=$,v[32767+ie]=[],v[32767+ie][1]=$,v[32767+ie][0]=ie;for(var ce=-(B-1);ce<=-L;ce++)_[32767+ce]=$,v[32767+ce]=[],v[32767+ce][1]=$,v[32767+ce][0]=B-1+ce;L<<=1,B<<=1}})(),(function(){for(var L=0;L<256;L++)he[L]=19595*L,he[L+256|0]=38470*L,he[L+512|0]=7471*L+32768,he[L+768|0]=-11059*L,he[L+1024|0]=-21709*L,he[L+1280|0]=32768*L+8421375,he[L+1536|0]=-27439*L,he[L+1792|0]=-5329*L})(),F(t)}function Ts(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function j5(t){function e(X){if(!X)throw Error("assert :P")}function n(X,pe,U){for(var Y=0;4>Y;Y++)if(X[pe+Y]!=U.charCodeAt(Y))return!0;return!1}function a(X,pe,U,Y,le){for(var ue=0;ue<le;ue++)X[pe+ue]=U[Y+ue]}function s(X,pe,U,Y){for(var le=0;le<Y;le++)X[pe+le]=U}function o(X){return new Int32Array(X)}function u(X,pe){for(var U=[],Y=0;Y<X;Y++)U.push(new pe);return U}function c(X,pe){var U=[];return(function Y(le,ue,k){for(var I=k[ue],te=0;te<I&&(le.push(k.length>ue+1?[]:new pe),!(k.length<ue+1));te++)Y(le[te],ue+1,k)})(U,0,X),U}var f=function(){var X=this;function pe(m,w){for(var N=1<<w-1>>>0;m&N;)N>>>=1;return N?(m&N-1)+N:m}function U(m,w,N,C,M){e(!(C%N));do m[w+(C-=N)]=M;while(0<C)}function Y(m,w,N,C,M){if(e(2328>=M),512>=M)var q=o(512);else if((q=o(M))==null)return 0;return(function(H,W,K,ae,ge,Ee){var ne,we,Ne=W,Re=1<<K,Ae=o(16),Oe=o(16);for(e(ge!=0),e(ae!=null),e(H!=null),e(0<K),we=0;we<ge;++we){if(15<ae[we])return 0;++Ae[ae[we]]}if(Ae[0]==ge)return 0;for(Oe[1]=0,ne=1;15>ne;++ne){if(Ae[ne]>1<<ne)return 0;Oe[ne+1]=Oe[ne]+Ae[ne]}for(we=0;we<ge;++we)ne=ae[we],0<ae[we]&&(Ee[Oe[ne]++]=we);if(Oe[15]==1)return(ae=new le).g=0,ae.value=Ee[0],U(H,Ne,1,Re,ae),Re;var Pe,$e=-1,qe=Re-1,ot=0,et=1,Ut=1,it=1<<K;for(we=0,ne=1,ge=2;ne<=K;++ne,ge<<=1){if(et+=Ut<<=1,0>(Ut-=Ae[ne]))return 0;for(;0<Ae[ne];--Ae[ne])(ae=new le).g=ne,ae.value=Ee[we++],U(H,Ne+ot,ge,it,ae),ot=pe(ot,ne)}for(ne=K+1,ge=2;15>=ne;++ne,ge<<=1){if(et+=Ut<<=1,0>(Ut-=Ae[ne]))return 0;for(;0<Ae[ne];--Ae[ne]){if(ae=new le,(ot&qe)!=$e){for(Ne+=it,Pe=1<<($e=ne)-K;15>$e&&!(0>=(Pe-=Ae[$e]));)++$e,Pe<<=1;Re+=it=1<<(Pe=$e-K),H[W+($e=ot&qe)].g=Pe+K,H[W+$e].value=Ne-W-$e}ae.g=ne-K,ae.value=Ee[we++],U(H,Ne+(ot>>K),ge,it,ae),ot=pe(ot,ne)}}return et!=2*Oe[15]-1?0:Re})(m,w,N,C,M,q)}function le(){this.value=this.g=0}function ue(){this.value=this.g=0}function k(){this.G=u(5,le),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Vs,ue)}function I(m,w,N,C){e(m!=null),e(w!=null),e(2147483648>C),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=w,m.pa=N,m.Jd=w,m.Yc=N+C,m.Zc=4<=C?N+C-4+1:N,be(m)}function te(m,w){for(var N=0;0<w--;)N|=je(m,128)<<w;return N}function J(m,w){var N=te(m,w);return xe(m)?-N:N}function ve(m,w,N,C){var M,q=0;for(e(m!=null),e(w!=null),e(4294967288>C),m.Sb=C,m.Ra=0,m.u=0,m.h=0,4<C&&(C=4),M=0;M<C;++M)q+=w[N+M]<<8*M;m.Ra=q,m.bb=C,m.oa=w,m.pa=N}function fe(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Fr-8>>>0,++m.bb,m.u-=8;ie(m)&&(m.h=1,m.u=0)}function F(m,w){if(e(0<=w),!m.h&&w<=va){var N=$(m)&Aa[w];return m.u+=w,fe(m),N}return m.h=1,m.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function B(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(m){return m.Ra>>>(m.u&Fr-1)>>>0}function ie(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Fr}function ce(m,w){m.u=w,m.h=ie(m)}function Q(m){m.u>=Hr&&(e(m.u>=Hr),fe(m))}function be(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function xe(m){return te(m,1)}function je(m,w){var N=m.Ca;0>m.b&&be(m);var C=m.b,M=N*w>>>8,q=(m.I>>>C>M)+0;for(q?(N-=M,m.I-=M+1<<C>>>0):N=M+1,C=N,M=0;256<=C;)M+=8,C>>=8;return C=7^M+ys[C],m.b-=C,m.Ca=(N<<C)-1,q}function Ie(m,w,N){m[w+0]=N>>24&255,m[w+1]=N>>16&255,m[w+2]=N>>8&255,m[w+3]=255&N}function Ve(m,w){return m[w+0]|m[w+1]<<8}function Ge(m,w){return Ve(m,w)|m[w+2]<<16}function Ye(m,w){return Ve(m,w)|Ve(m,w+2)<<16}function Z(m,w){var N=1<<w;return e(m!=null),e(0<w),m.X=o(N),m.X==null?0:(m.Mb=32-w,m.Xa=w,1)}function We(m,w){e(m!=null),e(w!=null),e(m.Xa==w.Xa),a(w.X,0,m.X,0,1<<w.Xa)}function Ot(){this.X=[],this.Xa=this.Mb=0}function ut(m,w,N,C){e(N!=null),e(C!=null);var M=N[0],q=C[0];return M==0&&(M=(m*q+w/2)/w),q==0&&(q=(w*M+m/2)/m),0>=M||0>=q?0:(N[0]=M,C[0]=q,1)}function Fe(m,w){return m+(1<<w)-1>>>w}function nt(m,w){return((4278255360&m)+(4278255360&w)>>>0&4278255360)+((16711935&m)+(16711935&w)>>>0&16711935)>>>0}function Qe(m,w){X[w]=function(N,C,M,q,H,W,K){var ae;for(ae=0;ae<H;++ae){var ge=X[m](W[K+ae-1],M,q+ae);W[K+ae]=nt(N[C+ae],ge)}}}function ht(){this.ud=this.hd=this.jd=0}function ft(m,w){return((4278124286&(m^w))>>>1)+(m&w)>>>0}function zt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Vt(m,w){return zt(m+(m-w+.5>>1))}function ze(m,w,N){return Math.abs(w-N)-Math.abs(m-N)}function pt(m,w,N,C,M,q,H){for(C=q[H-1],N=0;N<M;++N)q[H+N]=C=nt(m[w+N],C)}function mt(m,w,N,C,M){var q;for(q=0;q<N;++q){var H=m[w+q],W=H>>8&255,K=16711935&(K=(K=16711935&H)+((W<<16)+W));C[M+q]=(4278255360&H)+K>>>0}}function Je(m,w){w.jd=255&m,w.hd=m>>8&255,w.ud=m>>16&255}function Rt(m,w,N,C,M,q){var H;for(H=0;H<C;++H){var W=w[N+H],K=W>>>8,ae=W,ge=255&(ge=(ge=W>>>16)+((m.jd<<24>>24)*(K<<24>>24)>>>5));ae=255&(ae=(ae+=(m.hd<<24>>24)*(K<<24>>24)>>>5)+((m.ud<<24>>24)*(ge<<24>>24)>>>5)),M[q+H]=(4278255360&W)+(ge<<16)+ae}}function Ze(m,w,N,C,M){X[w]=function(q,H,W,K,ae,ge,Ee,ne,we){for(K=Ee;K<ne;++K)for(Ee=0;Ee<we;++Ee)ae[ge++]=M(W[C(q[H++])])},X[m]=function(q,H,W,K,ae,ge,Ee){var ne=8>>q.b,we=q.Ea,Ne=q.K[0],Re=q.w;if(8>ne)for(q=(1<<q.b)-1,Re=(1<<ne)-1;H<W;++H){var Ae,Oe=0;for(Ae=0;Ae<we;++Ae)Ae&q||(Oe=C(K[ae++])),ge[Ee++]=M(Ne[Oe&Re]),Oe>>=ne}else X["VP8LMapColor"+N](K,ae,Ne,Re,ge,Ee,H,W,we)}}function pn(m,w,N,C,M){for(N=w+N;w<N;){var q=m[w++];C[M++]=q>>16&255,C[M++]=q>>8&255,C[M++]=255&q}}function Wt(m,w,N,C,M){for(N=w+N;w<N;){var q=m[w++];C[M++]=q>>16&255,C[M++]=q>>8&255,C[M++]=255&q,C[M++]=q>>24&255}}function St(m,w,N,C,M){for(N=w+N;w<N;){var q=(H=m[w++])>>16&240|H>>12&15,H=240&H|H>>28&15;C[M++]=q,C[M++]=H}}function Et(m,w,N,C,M){for(N=w+N;w<N;){var q=(H=m[w++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;C[M++]=q,C[M++]=H}}function Yt(m,w,N,C,M){for(N=w+N;w<N;){var q=m[w++];C[M++]=255&q,C[M++]=q>>8&255,C[M++]=q>>16&255}}function xt(m,w,N,C,M,q){if(q==0)for(N=w+N;w<N;)Ie(C,((q=m[w++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),M+=32;else a(C,M,m,w,N)}function yn(m,w){X[w][0]=X[m+"0"],X[w][1]=X[m+"1"],X[w][2]=X[m+"2"],X[w][3]=X[m+"3"],X[w][4]=X[m+"4"],X[w][5]=X[m+"5"],X[w][6]=X[m+"6"],X[w][7]=X[m+"7"],X[w][8]=X[m+"8"],X[w][9]=X[m+"9"],X[w][10]=X[m+"10"],X[w][11]=X[m+"11"],X[w][12]=X[m+"12"],X[w][13]=X[m+"13"],X[w][14]=X[m+"0"],X[w][15]=X[m+"0"]}function At(m){return m==hc||m==iu||m==hl||m==au}function Dt(){this.eb=[],this.size=this.A=this.fb=0}function bn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Dt,this.f.kb=new bn,this.sd=null}function Xe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Bt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function vi(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function wn(m,w){var N=m.T,C=w.ba.f.RGBA,M=C.eb,q=C.fb+m.ka*C.A,H=Ji[w.ba.S],W=m.y,K=m.O,ae=m.f,ge=m.N,Ee=m.ea,ne=m.W,we=w.cc,Ne=w.dc,Re=w.Mc,Ae=w.Nc,Oe=m.ka,Pe=m.ka+m.T,$e=m.U,qe=$e+1>>1;for(Oe==0?H(W,K,null,null,ae,ge,Ee,ne,ae,ge,Ee,ne,M,q,null,null,$e):(H(w.ec,w.fc,W,K,we,Ne,Re,Ae,ae,ge,Ee,ne,M,q-C.A,M,q,$e),++N);Oe+2<Pe;Oe+=2)we=ae,Ne=ge,Re=Ee,Ae=ne,ge+=m.Rc,ne+=m.Rc,q+=2*C.A,H(W,(K+=2*m.fa)-m.fa,W,K,we,Ne,Re,Ae,ae,ge,Ee,ne,M,q-C.A,M,q,$e);return K+=m.fa,m.j+Pe<m.o?(a(w.ec,w.fc,W,K,$e),a(w.cc,w.dc,ae,ge,qe),a(w.Mc,w.Nc,Ee,ne,qe),N--):1&Pe||H(W,K,null,null,ae,ge,Ee,ne,ae,ge,Ee,ne,M,q+C.A,null,null,$e),N}function Hn(m,w,N){var C=m.F,M=[m.J];if(C!=null){var q=m.U,H=w.ba.S,W=H==dc||H==hl;w=w.ba.f.RGBA;var K=[0],ae=m.ka;K[0]=m.T,m.Kb&&(ae==0?--K[0]:(--ae,M[0]-=m.width),m.j+m.ka+m.T==m.o&&(K[0]=m.o-m.j-ae));var ge=w.eb;ae=w.fb+ae*w.A,m=oc(C,M[0],m.width,q,K,ge,ae+(W?0:3),w.A),e(N==K),m&&At(H)&&Eo(ge,ae,W,q,K,w.A)}return 0}function Wn(m){var w=m.ma,N=w.ba.S,C=11>N,M=N==la||N==Qa||N==dc||N==dl||N==12||At(N);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!vs(w.Oa,m,M?11:12))return 0;if(M&&At(N)&&ic(),m.da)alert("todo:use_scaling");else{if(C){if(w.Ib=vi,m.Kb){if(N=m.U+1>>1,w.memory=o(m.U+2*N),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+m.U,w.Mc=w.cc,w.Nc=w.dc+N,w.Ib=wn,ic()}}else alert("todo:EmitYUV");M&&(w.Jb=Hn,C&&xr())}if(C&&!Zs){for(m=0;256>m;++m)Zi[m]=89858*(m-128)+ml>>nr,sm[m]=-22014*(m-128)+ml,Xh[m]=-45773*(m-128),cu[m]=113618*(m-128)+ml>>nr;for(m=To;m<Js;++m)w=76283*(m-16)+ml>>nr,om[m-To]=Pa(w,255),lm[m-To]=Pa(w+8>>4,15);Zs=1}return 1}function ct(m){var w=m.ma,N=m.U,C=m.T;return e(!(1&m.ka)),0>=N||0>=C?0:(N=w.Ib(m,w),w.Jb!=null&&w.Jb(m,w,N),w.Dc+=N,1)}function Nn(m){m.ma.memory=null}function Li(m,w,N,C){return F(m,8)!=47?0:(w[0]=F(m,14)+1,N[0]=F(m,14)+1,C[0]=F(m,1),F(m,3)!=0?0:!m.h)}function $n(m,w){if(4>m)return m+1;var N=m-2>>1;return(2+(1&m)<<N)+F(w,N)+1}function Yn(m,w){return 120<w?w-120:1<=(N=((N=Ja[w-1])>>4)*m+(8-(15&N)))?N:1;var N}function mn(m,w,N){var C=$(N),M=m[w+=255&C].g-8;return 0<M&&(ce(N,N.u+8),C=$(N),w+=m[w].value,w+=C&(1<<M)-1),ce(N,N.u+m[w].g),m[w].value}function On(m,w,N){return N.g+=m.g,N.value+=m.value<<w>>>0,e(8>=N.g),m.g}function jn(m,w,N){var C=m.xc;return e((w=C==0?0:m.vc[m.md*(N>>C)+(w>>C)])<m.Wb),m.Ya[w]}function Na(m,w,N,C){var M=m.ab,q=m.c*w,H=m.C;w=H+w;var W=N,K=C;for(C=m.Ta,N=m.Ua;0<M--;){var ae=m.gc[M],ge=H,Ee=w,ne=W,we=K,Ne=(K=C,W=N,ae.Ea);switch(e(ge<Ee),e(Ee<=ae.nc),ae.hc){case 2:fi(ne,we,(Ee-ge)*Ne,K,W);break;case 0:var Re=ge,Ae=Ee,Oe=K,Pe=W,$e=(it=ae).Ea;Re==0&&(ol(ne,we,null,null,1,Oe,Pe),pt(ne,we+1,0,0,$e-1,Oe,Pe+1),we+=$e,Pe+=$e,++Re);for(var qe=1<<it.b,ot=qe-1,et=Fe($e,it.b),Ut=it.K,it=it.w+(Re>>it.b)*et;Re<Ae;){var Xt=Ut,In=it,Ft=1;for(ll(ne,we,Oe,Pe-$e,1,Oe,Pe);Ft<$e;){var tt=(Ft&~ot)+qe;tt>$e&&(tt=$e),(0,bs[Xt[In++]>>8&15])(ne,we+ +Ft,Oe,Pe+Ft-$e,tt-Ft,Oe,Pe+Ft),Ft=tt}we+=$e,Pe+=$e,++Re&ot||(it+=et)}Ee!=ae.nc&&a(K,W-Ne,K,W+(Ee-ge-1)*Ne,Ne);break;case 1:for(Ne=ne,Ae=we,$e=(ne=ae.Ea)-(Pe=ne&~(Oe=(we=1<<ae.b)-1)),Re=Fe(ne,ae.b),qe=ae.K,ae=ae.w+(ge>>ae.b)*Re;ge<Ee;){for(ot=qe,et=ae,Ut=new ht,it=Ae+Pe,Xt=Ae+ne;Ae<it;)Je(ot[et++],Ut),cl(Ut,Ne,Ae,we,K,W),Ae+=we,W+=we;Ae<Xt&&(Je(ot[et++],Ut),cl(Ut,Ne,Ae,$e,K,W),Ae+=$e,W+=$e),++ge&Oe||(ae+=Re)}break;case 3:if(ne==K&&we==W&&0<ae.b){for(Ae=K,ne=Ne=W+(Ee-ge)*Ne-(Pe=(Ee-ge)*Fe(ae.Ea,ae.b)),we=K,Oe=W,Re=[],Pe=($e=Pe)-1;0<=Pe;--Pe)Re[Pe]=we[Oe+Pe];for(Pe=$e-1;0<=Pe;--Pe)Ae[ne+Pe]=Re[Pe];Jc(ae,ge,Ee,K,Ne,K,W)}else Jc(ae,ge,Ee,ne,we,K,W)}W=C,K=N}K!=N&&a(C,N,W,K,q)}function Ti(m,w){var N=m.V,C=m.Ba+m.c*m.C,M=w-m.C;if(e(w<=m.l.o),e(16>=M),0<M){var q=m.l,H=m.Ta,W=m.Ua,K=q.width;if(Na(m,M,N,C),M=W=[W],e((N=m.C)<(C=w)),e(q.v<q.va),C>q.o&&(C=q.o),N<q.j){var ae=q.j-N;N=q.j,M[0]+=ae*K}if(N>=C?N=0:(M[0]+=4*q.v,q.ka=N-q.j,q.U=q.va-q.v,q.T=C-N,N=1),N){if(W=W[0],11>(N=m.ca).S){var ge=N.f.RGBA,Ee=(C=N.S,M=q.U,q=q.T,ae=ge.eb,ge.A),ne=q;for(ge=ge.fb+m.Ma*ge.A;0<ne--;){var we=H,Ne=W,Re=M,Ae=ae,Oe=ge;switch(C){case tu:ul(we,Ne,Re,Ae,Oe);break;case la:ws(we,Ne,Re,Ae,Oe);break;case hc:ws(we,Ne,Re,Ae,Oe),Eo(Ae,Oe,0,Re,1,0);break;case nu:jo(we,Ne,Re,Ae,Oe);break;case Qa:xt(we,Ne,Re,Ae,Oe,1);break;case iu:xt(we,Ne,Re,Ae,Oe,1),Eo(Ae,Oe,0,Re,1,0);break;case dc:xt(we,Ne,Re,Ae,Oe,0);break;case hl:xt(we,Ne,Re,Ae,Oe,0),Eo(Ae,Oe,1,Re,1,0);break;case dl:xs(we,Ne,Re,Ae,Oe);break;case au:xs(we,Ne,Re,Ae,Oe),Ka(Ae,Oe,Re,1,0);break;case Ws:Vr(we,Ne,Re,Ae,Oe);break;default:e(0)}W+=K,ge+=Ee}m.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=N.height)}}m.C=w,e(m.C<=m.i)}function An(m){var w;if(0<m.ua)return 0;for(w=0;w<m.Wb;++w){var N=m.Ya[w].G,C=m.Ya[w].H;if(0<N[1][C[1]+0].g||0<N[2][C[2]+0].g||0<N[3][C[3]+0].g)return 0}return 1}function Kn(m,w,N,C,M,q){if(m.Z!=0){var H=m.qd,W=m.rd;for(e(Ns[m.Z]!=null);w<N;++w)Ns[m.Z](H,W,C,M,C,M,q),H=C,W=M,M+=q;m.qd=H,m.rd=W}}function ra(m,w){var N=m.l.ma,C=N.Z==0||N.Z==1?m.l.j:m.C;if(C=m.C<C?C:m.C,e(w<=m.l.o),w>C){var M=m.l.width,q=N.ca,H=N.tb+M*C,W=m.V,K=m.Ba+m.c*C,ae=m.gc;e(m.ab==1),e(ae[0].hc==3),Gr(ae[0],C,w,W,K,q,H),Kn(N,C,w,q,H,M)}m.C=m.Ma=w}function Da(m,w,N,C,M,q,H){var W=m.$/C,K=m.$%C,ae=m.m,ge=m.s,Ee=N+m.$,ne=Ee;M=N+C*M;var we=N+C*q,Ne=280+ge.ua,Re=m.Pb?W:16777216,Ae=0<ge.ua?ge.Wa:null,Oe=ge.wc,Pe=Ee<we?jn(ge,K,W):null;e(m.C<q),e(we<=M);var $e=!1;e:for(;;){for(;$e||Ee<we;){var qe=0;if(W>=Re){var ot=Ee-N;e((Re=m).Pb),Re.wd=Re.m,Re.xd=ot,0<Re.s.ua&&We(Re.s.Wa,Re.s.vb),Re=W+Ys}if(K&Oe||(Pe=jn(ge,K,W)),e(Pe!=null),Pe.Qb&&(w[Ee]=Pe.qb,$e=!0),!$e)if(Q(ae),Pe.jc){qe=ae,ot=w;var et=Ee,Ut=Pe.pd[$(qe)&Vs-1];e(Pe.jc),256>Ut.g?(ce(qe,qe.u+Ut.g),ot[et]=Ut.value,qe=0):(ce(qe,qe.u+Ut.g-256),e(256<=Ut.value),qe=Ut.value),qe==0&&($e=!0)}else qe=mn(Pe.G[0],Pe.H[0],ae);if(ae.h)break;if($e||256>qe){if(!$e)if(Pe.nd)w[Ee]=(Pe.qb|qe<<8)>>>0;else{if(Q(ae),$e=mn(Pe.G[1],Pe.H[1],ae),Q(ae),ot=mn(Pe.G[2],Pe.H[2],ae),et=mn(Pe.G[3],Pe.H[3],ae),ae.h)break;w[Ee]=(et<<24|$e<<16|qe<<8|ot)>>>0}if($e=!1,++Ee,++K>=C&&(K=0,++W,H!=null&&W<=q&&!(W%16)&&H(m,W),Ae!=null))for(;ne<Ee;)qe=w[ne++],Ae.X[(506832829*qe&4294967295)>>>Ae.Mb]=qe}else if(280>qe){if(qe=$n(qe-256,ae),ot=mn(Pe.G[4],Pe.H[4],ae),Q(ae),ot=Yn(C,ot=$n(ot,ae)),ae.h)break;if(Ee-N<ot||M-Ee<qe)break e;for(et=0;et<qe;++et)w[Ee+et]=w[Ee+et-ot];for(Ee+=qe,K+=qe;K>=C;)K-=C,++W,H!=null&&W<=q&&!(W%16)&&H(m,W);if(e(Ee<=M),K&Oe&&(Pe=jn(ge,K,W)),Ae!=null)for(;ne<Ee;)qe=w[ne++],Ae.X[(506832829*qe&4294967295)>>>Ae.Mb]=qe}else{if(!(qe<Ne))break e;for($e=qe-280,e(Ae!=null);ne<Ee;)qe=w[ne++],Ae.X[(506832829*qe&4294967295)>>>Ae.Mb]=qe;qe=Ee,e(!($e>>>(ot=Ae).Xa)),w[qe]=ot.X[$e],$e=!0}$e||e(ae.h==ie(ae))}if(m.Pb&&ae.h&&Ee<M)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&We(m.s.vb,m.s.Wa);else{if(ae.h)break e;H?.(m,W>q?q:W),m.a=0,m.$=Ee-N}return 1}return m.a=3,0}function Ga(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var w=m.Wa;w!=null&&(w.X=null),m.vb=null,e(m!=null)}function go(){var m=new Mt;return m==null?null:(m.a=0,m.xb=xd,yn("Predictor","VP8LPredictors"),yn("Predictor","VP8LPredictors_C"),yn("PredictorAdd","VP8LPredictorsAdd"),yn("PredictorAdd","VP8LPredictorsAdd_C"),fi=mt,cl=Rt,ul=pn,ws=Wt,xs=St,Vr=Et,jo=Yt,X.VP8LMapColor32b=$r,X.VP8LMapColor8b=Ki,m)}function fr(m,w,N,C,M){var q=1,H=[m],W=[w],K=C.m,ae=C.s,ge=null,Ee=0;e:for(;;){if(N)for(;q&&F(K,1);){var ne=H,we=W,Ne=C,Re=1,Ae=Ne.m,Oe=Ne.gc[Ne.ab],Pe=F(Ae,2);if(Ne.Oc&1<<Pe)q=0;else{switch(Ne.Oc|=1<<Pe,Oe.hc=Pe,Oe.Ea=ne[0],Oe.nc=we[0],Oe.K=[null],++Ne.ab,e(4>=Ne.ab),Pe){case 0:case 1:Oe.b=F(Ae,3)+2,Re=fr(Fe(Oe.Ea,Oe.b),Fe(Oe.nc,Oe.b),0,Ne,Oe.K),Oe.K=Oe.K[0];break;case 3:var $e,qe=F(Ae,8)+1,ot=16<qe?0:4<qe?1:2<qe?2:3;if(ne[0]=Fe(Oe.Ea,ot),Oe.b=ot,$e=Re=fr(qe,1,0,Ne,Oe.K)){var et,Ut=qe,it=Oe,Xt=1<<(8>>it.b),In=o(Xt);if(In==null)$e=0;else{var Ft=it.K[0],tt=it.w;for(In[0]=it.K[0][0],et=1;et<1*Ut;++et)In[et]=nt(Ft[tt+et],In[et-1]);for(;et<4*Xt;++et)In[et]=0;it.K[0]=null,it.K[0]=In,$e=1}}Re=$e;break;case 2:break;default:e(0)}q=Re}}if(H=H[0],W=W[0],q&&F(K,1)&&!(q=1<=(Ee=F(K,4))&&11>=Ee)){C.a=3;break e}var Ke;if(Ke=q)t:{var Xn,kt,Gt,xn=C,Di=H,ea=W,Mn=Ee,wi=N,ca=xn.m,xi=xn.s,Qt=[null],ln=1,Jn=0,fn=Za[Mn];n:for(;;){if(wi&&F(ca,1)){var Mi=F(ca,3)+2,Zn=Fe(Di,Mi),cn=Fe(ea,Mi),gi=Zn*cn;if(!fr(Zn,cn,0,xn,Qt))break n;for(Qt=Qt[0],xi.xc=Mi,Xn=0;Xn<gi;++Xn){var _n=Qt[Xn]>>8&65535;Qt[Xn]=_n,_n>=ln&&(ln=_n+1)}}if(ca.h)break n;for(kt=0;5>kt;++kt){var _i=ko[kt];!kt&&0<Mn&&(_i+=1<<Mn),Jn<_i&&(Jn=_i)}var Si=u(ln*fn,le),En=ln,sn=u(En,k);if(sn==null)var ua=null;else e(65536>=En),ua=sn;var ii=o(Jn);if(ua==null||ii==null||Si==null){xn.a=1;break n}var _t=Si;for(Xn=Gt=0;Xn<ln;++Xn){var Nt=ua[Xn],un=Nt.G,Ea=Nt.H,ir=0,ba=1,Ni=0;for(kt=0;5>kt;++kt){_i=ko[kt],un[kt]=_t,Ea[kt]=Gt,!kt&&0<Mn&&(_i+=1<<Mn);a:{var eo,to=_i,du=xn,Pn=ii,Sd=_t,Nd=Gt,hu=0,js=du.m,cm=F(js,1);if(s(Pn,0,0,to),cm){var jd=F(js,1)+1,Ad=F(js,1),fu=F(js,Ad==0?1:8);Pn[fu]=1,jd==2&&(Pn[fu=F(js,8)]=1);var qi=1}else{var ai=o(19),gc=F(js,4)+4;if(19<gc){du.a=3;var no=0;break a}for(eo=0;eo<gc;++eo)ai[fc[eo]]=F(js,3);var vl=void 0,Oo=void 0,Kr=du,pu=ai,yl=to,mu=Pn,gu=0,As=Kr.m,Ed=8,Cd=u(128,le);i:for(;Y(Cd,0,7,pu,19);){if(F(As,1)){var Jh=2+2*F(As,3);if((vl=2+F(As,Jh))>yl)break i}else vl=yl;for(Oo=0;Oo<yl&&vl--;){Q(As);var kd=Cd[0+(127&$(As))];ce(As,As.u+kd.g);var io=kd.value;if(16>io)mu[Oo++]=io,io!=0&&(Ed=io);else{var Zh=io==16,ef=io-16,tf=fl[ef],Ld=F(As,Xa[ef])+tf;if(Oo+Ld>yl)break i;for(var nf=Zh?Ed:0;0<Ld--;)mu[Oo++]=nf}}gu=1;break i}gu||(Kr.a=3),qi=gu}(qi=qi&&!js.h)&&(hu=Y(Sd,Nd,8,Pn,to)),qi&&hu!=0?no=hu:(du.a=3,no=0)}if(no==0)break n;if(ba&&ru[kt]==1&&(ba=_t[Gt].g==0),ir+=_t[Gt].g,Gt+=no,3>=kt){var Ro,vu=ii[0];for(Ro=1;Ro<_i;++Ro)ii[Ro]>vu&&(vu=ii[Ro]);Ni+=vu}}if(Nt.nd=ba,Nt.Qb=0,ba&&(Nt.qb=(un[3][Ea[3]+0].value<<24|un[1][Ea[1]+0].value<<16|un[2][Ea[2]+0].value)>>>0,ir==0&&256>un[0][Ea[0]+0].value&&(Nt.Qb=1,Nt.qb+=un[0][Ea[0]+0].value<<8)),Nt.jc=!Nt.Qb&&6>Ni,Nt.jc){var vc,Qr=Nt;for(vc=0;vc<Vs;++vc){var Es=vc,Cs=Qr.pd[Es],yu=Qr.G[0][Qr.H[0]+Es];256<=yu.value?(Cs.g=yu.g+256,Cs.value=yu.value):(Cs.g=0,Cs.value=0,Es>>=On(yu,8,Cs),Es>>=On(Qr.G[1][Qr.H[1]+Es],16,Cs),Es>>=On(Qr.G[2][Qr.H[2]+Es],0,Cs),On(Qr.G[3][Qr.H[3]+Es],24,Cs))}}}xi.vc=Qt,xi.Wb=ln,xi.Ya=ua,xi.yc=Si,Ke=1;break t}Ke=0}if(!(q=Ke)){C.a=3;break e}if(0<Ee){if(ae.ua=1<<Ee,!Z(ae.Wa,Ee)){C.a=1,q=0;break e}}else ae.ua=0;var bu=C,Do=H,af=W,bl=bu.s,wl=bl.xc;if(bu.c=Do,bu.i=af,bl.md=Fe(Do,wl),bl.wc=wl==0?-1:(1<<wl)-1,N){C.xb=Ks;break e}if((ge=o(H*W))==null){C.a=1,q=0;break e}q=(q=Da(C,ge,0,H,W,W,null))&&!K.h;break e}return q?(M!=null?M[0]=ge:(e(ge==null),e(N)),C.$=0,N||Ga(ae)):Ga(ae),q}function pr(m,w){var N=m.c*m.i,C=N+w+16*w;return e(m.c<=w),m.V=o(C),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+N+w,1)}function qs(m,w){var N=m.C,C=w-N,M=m.V,q=m.Ba+m.c*N;for(e(w<=m.l.o);0<C;){var H=16<C?16:C,W=m.l.ma,K=m.l.width,ae=K*H,ge=W.ca,Ee=W.tb+K*N,ne=m.Ta,we=m.Ua;Na(m,H,M,q),qa(ne,we,ge,Ee,ae),Kn(W,N,N+H,ge,Ee,K),C-=H,M+=H*m.c,N+=H}e(N==w),m.C=m.Ma=w}function mr(){this.ub=this.yd=this.td=this.Rb=0}function gr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function vo(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Pr(){this.Yb=(function(){var m=[];return(function w(N,C,M){for(var q=M[C],H=0;H<q&&(N.push(M.length>C+1?[]:0),!(M.length<C+1));H++)w(N[H],C+1,M)})(m,0,[3,11]),m})()}function di(){this.jb=o(3),this.Wc=c([4,8],Pr),this.Xc=c([4,17],Pr)}function Hl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ma(){this.ld=this.La=this.dd=this.tc=0}function vr(){this.Na=this.la=0}function as(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $l(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Gl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ma),this.Y=0,this.ya=Array(new $l),this.aa=0,this.l=new rs}function Vl(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Fc(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new mr,this.Kc=new gr,this.ed=new Hl,this.Qa=new vo,this.Ic=this.$c=this.Aa=0,this.D=new Gl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,L),this.ia=0,this.pb=u(4,as),this.Pa=new di,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Vl),this.Hd=0,this.rb=Array(new vr),this.sb=0,this.wa=Array(new Ma),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $l),this.L=this.aa=0,this.gd=c([4,2],Ma),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Pa(m,w){return 0>m?0:m>w?w:m}function rs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function yr(){var m=new Fc;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Fa||(Fa=Fs)),m}function dn(m,w,N){return m.a==0&&(m.a=w,m.sc=N,m.cb=0),0}function Wl(m,w,N){return 3<=N&&m[w+0]==157&&m[w+1]==1&&m[w+2]==42}function zr(m,w){if(m==null)return 0;if(m.a=0,m.sc="OK",w==null)return dn(m,2,"null VP8Io passed to VP8GetHeaders()");var N=w.data,C=w.w,M=w.ha;if(4>M)return dn(m,7,"Truncated header.");var q=N[C+0]|N[C+1]<<8|N[C+2]<<16,H=m.Od;if(H.Rb=!(1&q),H.td=q>>1&7,H.yd=q>>4&1,H.ub=q>>5,3<H.td)return dn(m,3,"Incorrect keyframe parameters.");if(!H.yd)return dn(m,4,"Frame not displayable.");C+=3,M-=3;var W=m.Kc;if(H.Rb){if(7>M)return dn(m,7,"cannot parse picture header");if(!Wl(N,C,M))return dn(m,3,"Bad code word");W.c=16383&(N[C+4]<<8|N[C+3]),W.Td=N[C+4]>>6,W.i=16383&(N[C+6]<<8|N[C+5]),W.Ud=N[C+6]>>6,C+=7,M-=7,m.za=W.c+15>>4,m.Ub=W.i+15>>4,w.width=W.c,w.height=W.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,s((q=m.Pa).jb,0,255,q.jb.length),e((q=m.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,s(q.Zb,0,0,q.Zb.length),s(q.Lb,0,0,q.Lb)}if(H.ub>M)return dn(m,7,"bad partition length");I(q=m.m,N,C,H.ub),C+=H.ub,M-=H.ub,H.Rb&&(W.Ld=xe(q),W.Kd=xe(q)),W=m.Qa;var K,ae=m.Pa;if(e(q!=null),e(W!=null),W.Cb=xe(q),W.Cb){if(W.Bb=xe(q),xe(q)){for(W.Fb=xe(q),K=0;4>K;++K)W.Zb[K]=xe(q)?J(q,7):0;for(K=0;4>K;++K)W.Lb[K]=xe(q)?J(q,6):0}if(W.Bb)for(K=0;3>K;++K)ae.jb[K]=xe(q)?te(q,8):255}else W.Bb=0;if(q.Ka)return dn(m,3,"cannot parse segment header");if((W=m.ed).zd=xe(q),W.Tb=te(q,6),W.wb=te(q,3),W.Pc=xe(q),W.Pc&&xe(q)){for(ae=0;4>ae;++ae)xe(q)&&(W.vd[ae]=J(q,6));for(ae=0;4>ae;++ae)xe(q)&&(W.od[ae]=J(q,6))}if(m.L=W.Tb==0?0:W.zd?1:2,q.Ka)return dn(m,3,"cannot parse filter header");var ge=M;if(M=K=C,C=K+ge,W=ge,m.Xb=(1<<te(m.m,2))-1,ge<3*(ae=m.Xb))N=7;else{for(K+=3*ae,W-=3*ae,ge=0;ge<ae;++ge){var Ee=N[M+0]|N[M+1]<<8|N[M+2]<<16;Ee>W&&(Ee=W),I(m.Jc[+ge],N,K,Ee),K+=Ee,W-=Ee,M+=3}I(m.Jc[+ae],N,K,W),N=K<C?0:5}if(N!=0)return dn(m,N,"cannot parse partitions");for(N=te(K=m.m,7),M=xe(K)?J(K,4):0,C=xe(K)?J(K,4):0,W=xe(K)?J(K,4):0,ae=xe(K)?J(K,4):0,K=xe(K)?J(K,4):0,ge=m.Qa,Ee=0;4>Ee;++Ee){if(ge.Cb){var ne=ge.Zb[Ee];ge.Fb||(ne+=N)}else{if(0<Ee){m.pb[Ee]=m.pb[0];continue}ne=N}var we=m.pb[Ee];we.Sc[0]=er[Pa(ne+M,127)],we.Sc[1]=tr[Pa(ne+0,127)],we.Eb[0]=2*er[Pa(ne+C,127)],we.Eb[1]=101581*tr[Pa(ne+W,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=er[Pa(ne+ae,117)],we.Qc[1]=tr[Pa(ne+K,127)],we.lc=ne+K}if(!H.Rb)return dn(m,4,"Not a key frame.");for(xe(q),H=m.Pa,N=0;4>N;++N){for(M=0;8>M;++M)for(C=0;3>C;++C)for(W=0;11>W;++W)ae=je(q,Un[N][M][C][W])?te(q,8):Qh[N][M][C][W],H.Wc[N][M].Yb[C][W]=ae;for(M=0;17>M;++M)H.Xc[N][M]=H.Wc[N][Jt[M]]}return m.kc=xe(q),m.kc&&(m.Bd=te(q,8)),m.cb=1}function Fs(m,w,N,C,M,q,H){var W=w[M].Yb[N];for(N=0;16>M;++M){if(!je(m,W[N+0]))return M;for(;!je(m,W[N+1]);)if(W=w[++M].Yb[0],N=0,M==16)return 16;var K=w[M+1].Yb;if(je(m,W[N+2])){var ae=m,ge=0;if(je(ae,(ne=W)[(Ee=N)+3]))if(je(ae,ne[Ee+6])){for(W=0,Ee=2*(ge=je(ae,ne[Ee+8]))+(ne=je(ae,ne[Ee+9+ge])),ge=0,ne=Kh[Ee];ne[W];++W)ge+=ge+je(ae,ne[W]);ge+=3+(8<<Ee)}else je(ae,ne[Ee+7])?(ge=7+2*je(ae,165),ge+=je(ae,145)):ge=5+je(ae,159);else ge=je(ae,ne[Ee+4])?3+je(ae,ne[Ee+5]):2;W=K[2]}else ge=1,W=K[1];K=H+wd[M],0>(ae=m).b&&be(ae);var Ee,ne=ae.b,we=(Ee=ae.Ca>>1)-(ae.I>>ne)>>31;--ae.b,ae.Ca+=we,ae.Ca|=1,ae.I-=(Ee+1&we)<<ne,q[K]=((ge^we)-we)*C[(0<M)+0]}return 16}function Yl(m){var w=m.rb[m.sb-1];w.la=0,w.Na=0,s(m.zc,0,0,m.zc.length),m.ja=0}function pa(m,w,N,C,M){M=m[w+N+32*C]+(M>>3),m[w+N+32*C]=-256&M?0>M?0:255:M}function Oi(m,w,N,C,M,q){pa(m,w,0,N,C+M),pa(m,w,1,N,C+q),pa(m,w,2,N,C-q),pa(m,w,3,N,C-M)}function yi(m){return(20091*m>>16)+m}function el(m,w,N,C){var M,q=0,H=o(16);for(M=0;4>M;++M){var W=m[w+0]+m[w+8],K=m[w+0]-m[w+8],ae=(35468*m[w+4]>>16)-yi(m[w+12]),ge=yi(m[w+4])+(35468*m[w+12]>>16);H[q+0]=W+ge,H[q+1]=K+ae,H[q+2]=K-ae,H[q+3]=W-ge,q+=4,w++}for(M=q=0;4>M;++M)W=(m=H[q+0]+4)+H[q+8],K=m-H[q+8],ae=(35468*H[q+4]>>16)-yi(H[q+12]),pa(N,C,0,0,W+(ge=yi(H[q+4])+(35468*H[q+12]>>16))),pa(N,C,1,0,K+ae),pa(N,C,2,0,K-ae),pa(N,C,3,0,W-ge),q++,C+=32}function Hc(m,w,N,C){var M=m[w+0]+4,q=35468*m[w+4]>>16,H=yi(m[w+4]),W=35468*m[w+1]>>16;Oi(N,C,0,M+H,m=yi(m[w+1]),W),Oi(N,C,1,M+q,m,W),Oi(N,C,2,M-q,m,W),Oi(N,C,3,M-H,m,W)}function Kl(m,w,N,C,M){el(m,w,N,C),M&&el(m,w+16,N,C+4)}function ma(m,w,N,C){_s(m,w+0,N,C,1),_s(m,w+32,N,C+128,1)}function Ql(m,w,N,C){var M;for(m=m[w+0]+4,M=0;4>M;++M)for(w=0;4>w;++w)pa(N,C,w,M,m)}function Xl(m,w,N,C){m[w+0]&&hn(m,w+0,N,C),m[w+16]&&hn(m,w+16,N,C+4),m[w+32]&&hn(m,w+32,N,C+128),m[w+48]&&hn(m,w+48,N,C+128+4)}function br(m,w,N,C){var M,q=o(16);for(M=0;4>M;++M){var H=m[w+0+M]+m[w+12+M],W=m[w+4+M]+m[w+8+M],K=m[w+4+M]-m[w+8+M],ae=m[w+0+M]-m[w+12+M];q[0+M]=H+W,q[8+M]=H-W,q[4+M]=ae+K,q[12+M]=ae-K}for(M=0;4>M;++M)H=(m=q[0+4*M]+3)+q[3+4*M],W=q[1+4*M]+q[2+4*M],K=q[1+4*M]-q[2+4*M],ae=m-q[3+4*M],N[C+0]=H+W>>3,N[C+16]=ae+K>>3,N[C+32]=H-W>>3,N[C+48]=ae-K>>3,C+=64}function yo(m,w,N){var C,M=w-32,q=oa,H=255-m[M-1];for(C=0;C<N;++C){var W,K=q,ae=H+m[w-1];for(W=0;W<N;++W)m[w+W]=K[ae+m[M+W]];w+=32}}function $c(m,w){yo(m,w,4)}function Gc(m,w){yo(m,w,8)}function Jl(m,w){yo(m,w,16)}function Zl(m,w){var N;for(N=0;16>N;++N)a(m,w+32*N,m,w-32,16)}function Vc(m,w){var N;for(N=16;0<N;--N)s(m,w,m[w-1],16),w+=32}function ja(m,w,N){var C;for(C=0;16>C;++C)s(w,N+32*C,m,16)}function wr(m,w){var N,C=16;for(N=0;16>N;++N)C+=m[w-1+32*N]+m[w+N-32];ja(C>>5,m,w)}function ss(m,w){var N,C=8;for(N=0;16>N;++N)C+=m[w-1+32*N];ja(C>>4,m,w)}function bo(m,w){var N,C=8;for(N=0;16>N;++N)C+=m[w+N-32];ja(C>>4,m,w)}function Hs(m,w){ja(128,m,w)}function Ct(m,w,N){return m+2*w+N+2>>2}function Wc(m,w){var N,C=w-32;for(C=new Uint8Array([Ct(m[C-1],m[C+0],m[C+1]),Ct(m[C+0],m[C+1],m[C+2]),Ct(m[C+1],m[C+2],m[C+3]),Ct(m[C+2],m[C+3],m[C+4])]),N=0;4>N;++N)a(m,w+32*N,C,0,C.length)}function ec(m,w){var N=m[w-1],C=m[w-1+32],M=m[w-1+64],q=m[w-1+96];Ie(m,w+0,16843009*Ct(m[w-1-32],N,C)),Ie(m,w+32,16843009*Ct(N,C,M)),Ie(m,w+64,16843009*Ct(C,M,q)),Ie(m,w+96,16843009*Ct(M,q,q))}function Yc(m,w){var N,C=4;for(N=0;4>N;++N)C+=m[w+N-32]+m[w-1+32*N];for(C>>=3,N=0;4>N;++N)s(m,w+32*N,C,4)}function za(m,w){var N=m[w-1+0],C=m[w-1+32],M=m[w-1+64],q=m[w-1-32],H=m[w+0-32],W=m[w+1-32],K=m[w+2-32],ae=m[w+3-32];m[w+0+96]=Ct(C,M,m[w-1+96]),m[w+1+96]=m[w+0+64]=Ct(N,C,M),m[w+2+96]=m[w+1+64]=m[w+0+32]=Ct(q,N,C),m[w+3+96]=m[w+2+64]=m[w+1+32]=m[w+0+0]=Ct(H,q,N),m[w+3+64]=m[w+2+32]=m[w+1+0]=Ct(W,H,q),m[w+3+32]=m[w+2+0]=Ct(K,W,H),m[w+3+0]=Ct(ae,K,W)}function Wi(m,w){var N=m[w+1-32],C=m[w+2-32],M=m[w+3-32],q=m[w+4-32],H=m[w+5-32],W=m[w+6-32],K=m[w+7-32];m[w+0+0]=Ct(m[w+0-32],N,C),m[w+1+0]=m[w+0+32]=Ct(N,C,M),m[w+2+0]=m[w+1+32]=m[w+0+64]=Ct(C,M,q),m[w+3+0]=m[w+2+32]=m[w+1+64]=m[w+0+96]=Ct(M,q,H),m[w+3+32]=m[w+2+64]=m[w+1+96]=Ct(q,H,W),m[w+3+64]=m[w+2+96]=Ct(H,W,K),m[w+3+96]=Ct(W,K,K)}function tc(m,w){var N=m[w-1+0],C=m[w-1+32],M=m[w-1+64],q=m[w-1-32],H=m[w+0-32],W=m[w+1-32],K=m[w+2-32],ae=m[w+3-32];m[w+0+0]=m[w+1+64]=q+H+1>>1,m[w+1+0]=m[w+2+64]=H+W+1>>1,m[w+2+0]=m[w+3+64]=W+K+1>>1,m[w+3+0]=K+ae+1>>1,m[w+0+96]=Ct(M,C,N),m[w+0+64]=Ct(C,N,q),m[w+0+32]=m[w+1+96]=Ct(N,q,H),m[w+1+32]=m[w+2+96]=Ct(q,H,W),m[w+2+32]=m[w+3+96]=Ct(H,W,K),m[w+3+32]=Ct(W,K,ae)}function wo(m,w){var N=m[w+0-32],C=m[w+1-32],M=m[w+2-32],q=m[w+3-32],H=m[w+4-32],W=m[w+5-32],K=m[w+6-32],ae=m[w+7-32];m[w+0+0]=N+C+1>>1,m[w+1+0]=m[w+0+64]=C+M+1>>1,m[w+2+0]=m[w+1+64]=M+q+1>>1,m[w+3+0]=m[w+2+64]=q+H+1>>1,m[w+0+32]=Ct(N,C,M),m[w+1+32]=m[w+0+96]=Ct(C,M,q),m[w+2+32]=m[w+1+96]=Ct(M,q,H),m[w+3+32]=m[w+2+96]=Ct(q,H,W),m[w+3+64]=Ct(H,W,K),m[w+3+96]=Ct(W,K,ae)}function Ba(m,w){var N=m[w-1+0],C=m[w-1+32],M=m[w-1+64],q=m[w-1+96];m[w+0+0]=N+C+1>>1,m[w+2+0]=m[w+0+32]=C+M+1>>1,m[w+2+32]=m[w+0+64]=M+q+1>>1,m[w+1+0]=Ct(N,C,M),m[w+3+0]=m[w+1+32]=Ct(C,M,q),m[w+3+32]=m[w+1+64]=Ct(M,q,q),m[w+3+64]=m[w+2+64]=m[w+0+96]=m[w+1+96]=m[w+2+96]=m[w+3+96]=q}function xo(m,w){var N=m[w-1+0],C=m[w-1+32],M=m[w-1+64],q=m[w-1+96],H=m[w-1-32],W=m[w+0-32],K=m[w+1-32],ae=m[w+2-32];m[w+0+0]=m[w+2+32]=N+H+1>>1,m[w+0+32]=m[w+2+64]=C+N+1>>1,m[w+0+64]=m[w+2+96]=M+C+1>>1,m[w+0+96]=q+M+1>>1,m[w+3+0]=Ct(W,K,ae),m[w+2+0]=Ct(H,W,K),m[w+1+0]=m[w+3+32]=Ct(N,H,W),m[w+1+32]=m[w+3+64]=Ct(C,N,H),m[w+1+64]=m[w+3+96]=Ct(M,C,N),m[w+1+96]=Ct(q,M,C)}function Br(m,w){var N;for(N=0;8>N;++N)a(m,w+32*N,m,w-32,8)}function Kc(m,w){var N;for(N=0;8>N;++N)s(m,w,m[w-1],8),w+=32}function Va(m,w,N){var C;for(C=0;8>C;++C)s(w,N+32*C,m,8)}function tl(m,w){var N,C=8;for(N=0;8>N;++N)C+=m[w+N-32]+m[w-1+32*N];Va(C>>4,m,w)}function nl(m,w){var N,C=4;for(N=0;8>N;++N)C+=m[w+N-32];Va(C>>3,m,w)}function Ui(m,w){var N,C=4;for(N=0;8>N;++N)C+=m[w-1+32*N];Va(C>>3,m,w)}function Ur(m,w){Va(128,m,w)}function Wa(m,w,N){var C=m[w-N],M=m[w+0],q=3*(M-C)+Ss[1020+m[w-2*N]-m[w+N]],H=uc[112+(q+4>>3)];m[w-N]=oa[255+C+uc[112+(q+3>>3)]],m[w+0]=oa[255+M-H]}function os(m,w,N,C){var M=m[w+0],q=m[w+N];return Qi[255+m[w-2*N]-m[w-N]]>C||Qi[255+q-M]>C}function il(m,w,N,C){return 4*Qi[255+m[w-N]-m[w+0]]+Qi[255+m[w-2*N]-m[w+N]]<=C}function _o(m,w,N,C,M){var q=m[w-3*N],H=m[w-2*N],W=m[w-N],K=m[w+0],ae=m[w+N],ge=m[w+2*N],Ee=m[w+3*N];return 4*Qi[255+W-K]+Qi[255+H-ae]>C?0:Qi[255+m[w-4*N]-q]<=M&&Qi[255+q-H]<=M&&Qi[255+H-W]<=M&&Qi[255+Ee-ge]<=M&&Qi[255+ge-ae]<=M&&Qi[255+ae-K]<=M}function ls(m,w,N,C){var M=2*C+1;for(C=0;16>C;++C)il(m,w+C,N,M)&&Wa(m,w+C,N)}function cs(m,w,N,C){var M=2*C+1;for(C=0;16>C;++C)il(m,w+C*N,1,M)&&Wa(m,w+C*N,1)}function So(m,w,N,C){var M;for(M=3;0<M;--M)ls(m,w+=4*N,N,C)}function nc(m,w,N,C){var M;for(M=3;0<M;--M)cs(m,w+=4,N,C)}function us(m,w,N,C,M,q,H,W){for(q=2*q+1;0<M--;){if(_o(m,w,N,q,H))if(os(m,w,N,W))Wa(m,w,N);else{var K=m,ae=w,ge=N,Ee=K[ae-2*ge],ne=K[ae-ge],we=K[ae+0],Ne=K[ae+ge],Re=K[ae+2*ge],Ae=27*(Pe=Ss[1020+3*(we-ne)+Ss[1020+Ee-Ne]])+63>>7,Oe=18*Pe+63>>7,Pe=9*Pe+63>>7;K[ae-3*ge]=oa[255+K[ae-3*ge]+Pe],K[ae-2*ge]=oa[255+Ee+Oe],K[ae-ge]=oa[255+ne+Ae],K[ae+0]=oa[255+we-Ae],K[ae+ge]=oa[255+Ne-Oe],K[ae+2*ge]=oa[255+Re-Pe]}w+=C}}function ds(m,w,N,C,M,q,H,W){for(q=2*q+1;0<M--;){if(_o(m,w,N,q,H))if(os(m,w,N,W))Wa(m,w,N);else{var K=m,ae=w,ge=N,Ee=K[ae-ge],ne=K[ae+0],we=K[ae+ge],Ne=uc[112+(4+(Re=3*(ne-Ee))>>3)],Re=uc[112+(Re+3>>3)],Ae=Ne+1>>1;K[ae-2*ge]=oa[255+K[ae-2*ge]+Ae],K[ae-ge]=oa[255+Ee+Re],K[ae+0]=oa[255+ne-Ne],K[ae+ge]=oa[255+we-Ae]}w+=C}}function Qc(m,w,N,C,M,q){us(m,w,N,1,16,C,M,q)}function hs(m,w,N,C,M,q){us(m,w,1,N,16,C,M,q)}function Xc(m,w,N,C,M,q){var H;for(H=3;0<H;--H)ds(m,w+=4*N,N,1,16,C,M,q)}function S(m,w,N,C,M,q){var H;for(H=3;0<H;--H)ds(m,w+=4,1,N,16,C,M,q)}function R(m,w,N,C,M,q,H,W){us(m,w,M,1,8,q,H,W),us(N,C,M,1,8,q,H,W)}function re(m,w,N,C,M,q,H,W){us(m,w,1,M,8,q,H,W),us(N,C,1,M,8,q,H,W)}function me(m,w,N,C,M,q,H,W){ds(m,w+4*M,M,1,8,q,H,W),ds(N,C+4*M,M,1,8,q,H,W)}function _e(m,w,N,C,M,q,H,W){ds(m,w+4,1,M,8,q,H,W),ds(N,C+4,1,M,8,q,H,W)}function Me(){this.ba=new yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Bt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function He(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function gt(){this.ua=0,this.Wa=new Ot,this.vb=new Ot,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new k,this.yc=new le}function Mt(){this.xb=this.a=0,this.l=new rs,this.ca=new yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new B,this.Pb=0,this.wd=new B,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new gt,this.ab=0,this.gc=u(4,rt),this.Oc=0}function qt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new rs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function an(m,w,N,C,M,q,H){for(m=m==null?0:m[w+0],w=0;w<H;++w)M[q+w]=m+N[C+w]&255,m=M[q+w]}function Qn(m,w,N,C,M,q,H){var W;if(m==null)an(null,null,N,C,M,q,H);else for(W=0;W<H;++W)M[q+W]=m[w+W]+N[C+W]&255}function hi(m,w,N,C,M,q,H){if(m==null)an(null,null,N,C,M,q,H);else{var W,K=m[w+0],ae=K,ge=K;for(W=0;W<H;++W)ae=ge+(K=m[w+W])-ae,ge=N[C+W]+(-256&ae?0>ae?0:255:ae)&255,ae=K,M[q+W]=ge}}function Rn(m,w,N,C){var M=w.width,q=w.o;if(e(m!=null&&w!=null),0>N||0>=C||N+C>q)return null;if(!m.Cc){if(m.ga==null){var H;if(m.ga=new qt,(H=m.ga==null)||(H=w.width*w.o,e(m.Gb.length==0),m.Gb=o(H),m.Uc=0,m.Gb==null?H=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,H=1),H=!H),!H){H=m.ga;var W=m.Fa,K=m.P,ae=m.qc,ge=m.mb,Ee=m.nb,ne=K+1,we=ae-1,Ne=H.l;if(e(W!=null&&ge!=null&&w!=null),Ns[0]=null,Ns[1]=an,Ns[2]=Qn,Ns[3]=hi,H.ca=ge,H.tb=Ee,H.c=w.width,H.i=w.height,e(0<H.c&&0<H.i),1>=ae)w=0;else if(H.$a=3&W[K+0],H.Z=W[K+0]>>2&3,H.Lc=W[K+0]>>4&3,K=W[K+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||K)w=0;else if(Ne.put=ct,Ne.ac=Wn,Ne.bc=Nn,Ne.ma=H,Ne.width=w.width,Ne.height=w.height,Ne.Da=w.Da,Ne.v=w.v,Ne.va=w.va,Ne.j=w.j,Ne.o=w.o,H.$a)e:{e(H.$a==1),w=go();t:for(;;){if(w==null){w=0;break e}if(e(H!=null),H.mc=w,w.c=H.c,w.i=H.i,w.l=H.l,w.l.ma=H,w.l.width=H.c,w.l.height=H.i,w.a=0,ve(w.m,W,ne,we),!fr(H.c,H.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&An(w.s)?(H.ic=1,W=w.c*w.i,w.Ta=null,w.Ua=0,w.V=o(W),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(H.ic=0,w=pr(w,H.c)),!w))break t;w=1;break e}H.mc=null,w=0}else w=we>=H.c*H.i;H=!w}if(H)return null;m.ga.Lc!=1?m.Ga=0:C=q-N}e(m.ga!=null),e(N+C<=q);e:{if(w=(W=m.ga).c,q=W.l.o,W.$a==0){if(ne=m.rc,we=m.Vc,Ne=m.Fa,K=m.P+1+N*w,ae=m.mb,ge=m.nb+N*w,e(K<=m.P+m.qc),W.Z!=0)for(e(Ns[W.Z]!=null),H=0;H<C;++H)Ns[W.Z](ne,we,Ne,K,ae,ge,w),ne=ae,we=ge,ge+=w,K+=w;else for(H=0;H<C;++H)a(ae,ge,Ne,K,w),ne=ae,we=ge,ge+=w,K+=w;m.rc=ne,m.Vc=we}else{if(e(W.mc!=null),w=N+C,e((H=W.mc)!=null),e(w<=H.i),H.C>=w)w=1;else if(W.ic||xr(),W.ic){W=H.V,ne=H.Ba,we=H.c;var Re=H.i,Ae=(Ne=1,K=H.$/we,ae=H.$%we,ge=H.m,Ee=H.s,H.$),Oe=we*Re,Pe=we*w,$e=Ee.wc,qe=Ae<Pe?jn(Ee,ae,K):null;e(Ae<=Oe),e(w<=Re),e(An(Ee));t:for(;;){for(;!ge.h&&Ae<Pe;){if(ae&$e||(qe=jn(Ee,ae,K)),e(qe!=null),Q(ge),256>(Re=mn(qe.G[0],qe.H[0],ge)))W[ne+Ae]=Re,++Ae,++ae>=we&&(ae=0,++K<=w&&!(K%16)&&ra(H,K));else{if(!(280>Re)){Ne=0;break t}Re=$n(Re-256,ge);var ot,et=mn(qe.G[4],qe.H[4],ge);if(Q(ge),!(Ae>=(et=Yn(we,et=$n(et,ge)))&&Oe-Ae>=Re)){Ne=0;break t}for(ot=0;ot<Re;++ot)W[ne+Ae+ot]=W[ne+Ae+ot-et];for(Ae+=Re,ae+=Re;ae>=we;)ae-=we,++K<=w&&!(K%16)&&ra(H,K);Ae<Pe&&ae&$e&&(qe=jn(Ee,ae,K))}e(ge.h==ie(ge))}ra(H,K>w?w:K);break t}!Ne||ge.h&&Ae<Oe?(Ne=0,H.a=ge.h?5:3):H.$=Ae,w=Ne}else w=Da(H,H.V,H.Ba,H.c,H.i,w,qs);if(!w){C=0;break e}}N+C>=q&&(m.Cc=1),C=1}if(!C)return null;if(m.Cc&&((C=m.ga)!=null&&(C.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+N*M}function Ri(m,w,N,C,M,q){for(;0<M--;){var H,W=m,K=w+(N?1:0),ae=m,ge=w+(N?0:3);for(H=0;H<C;++H){var Ee=ae[ge+4*H];Ee!=255&&(Ee*=32897,W[K+4*H+0]=W[K+4*H+0]*Ee>>23,W[K+4*H+1]=W[K+4*H+1]*Ee>>23,W[K+4*H+2]=W[K+4*H+2]*Ee>>23)}w+=q}}function bi(m,w,N,C,M){for(;0<C--;){var q;for(q=0;q<N;++q){var H=m[w+2*q+0],W=15&(ae=m[w+2*q+1]),K=4369*W,ae=(240&ae|ae>>4)*K>>16;m[w+2*q+0]=(240&H|H>>4)*K>>16&240|(15&H|H<<4)*K>>16>>4&15,m[w+2*q+1]=240&ae|W}w+=M}}function Yi(m,w,N,C,M,q,H,W){var K,ae,ge=255;for(ae=0;ae<M;++ae){for(K=0;K<C;++K){var Ee=m[w+K];q[H+4*K]=Ee,ge&=Ee}w+=N,H+=W}return ge!=255}function fs(m,w,N,C,M){var q;for(q=0;q<M;++q)N[C+q]=m[w+q]>>8}function xr(){Eo=Ri,Ka=bi,oc=Yi,qa=fs}function ps(m,w,N){X[m]=function(C,M,q,H,W,K,ae,ge,Ee,ne,we,Ne,Re,Ae,Oe,Pe,$e){var qe,ot=$e-1>>1,et=W[K+0]|ae[ge+0]<<16,Ut=Ee[ne+0]|we[Ne+0]<<16;e(C!=null);var it=3*et+Ut+131074>>2;for(w(C[M+0],255&it,it>>16,Re,Ae),q!=null&&(it=3*Ut+et+131074>>2,w(q[H+0],255&it,it>>16,Oe,Pe)),qe=1;qe<=ot;++qe){var Xt=W[K+qe]|ae[ge+qe]<<16,In=Ee[ne+qe]|we[Ne+qe]<<16,Ft=et+Xt+Ut+In+524296,tt=Ft+2*(Xt+Ut)>>3;it=tt+et>>1,et=(Ft=Ft+2*(et+In)>>3)+Xt>>1,w(C[M+2*qe-1],255&it,it>>16,Re,Ae+(2*qe-1)*N),w(C[M+2*qe-0],255&et,et>>16,Re,Ae+(2*qe-0)*N),q!=null&&(it=Ft+Ut>>1,et=tt+In>>1,w(q[H+2*qe-1],255&it,it>>16,Oe,Pe+(2*qe-1)*N),w(q[H+2*qe+0],255&et,et>>16,Oe,Pe+(2*qe+0)*N)),et=Xt,Ut=In}1&$e||(it=3*et+Ut+131074>>2,w(C[M+$e-1],255&it,it>>16,Re,Ae+($e-1)*N),q!=null&&(it=3*Ut+et+131074>>2,w(q[H+$e-1],255&it,it>>16,Oe,Pe+($e-1)*N)))}}function ic(){Ji[tu]=Lo,Ji[la]=pl,Ji[nu]=_d,Ji[Qa]=ou,Ji[dc]=Qs,Ji[dl]=Yr,Ji[Ws]=Xs,Ji[hc]=pl,Ji[iu]=ou,Ji[hl]=Qs,Ji[au]=Yr}function al(m){return m&-16384?0>m?0:255:m>>lu}function Ir(m,w){return al((19077*m>>8)+(26149*w>>8)-14234)}function _r(m,w,N){return al((19077*m>>8)-(6419*w>>8)-(13320*N>>8)+8708)}function No(m,w){return al((19077*m>>8)+(33050*w>>8)-17685)}function ms(m,w,N,C,M){C[M+0]=Ir(m,N),C[M+1]=_r(m,w,N),C[M+2]=No(m,w)}function Ii(m,w,N,C,M){C[M+0]=No(m,w),C[M+1]=_r(m,w,N),C[M+2]=Ir(m,N)}function $s(m,w,N,C,M){var q=_r(m,w,N);w=q<<3&224|No(m,w)>>3,C[M+0]=248&Ir(m,N)|q>>5,C[M+1]=w}function Gs(m,w,N,C,M){var q=240&No(m,w)|15;C[M+0]=240&Ir(m,N)|_r(m,w,N)>>4,C[M+1]=q}function rl(m,w,N,C,M){C[M+0]=255,ms(m,w,N,C,M+1)}function qr(m,w,N,C,M){Ii(m,w,N,C,M),C[M+3]=255}function ga(m,w,N,C,M){ms(m,w,N,C,M),C[M+3]=255}function gs(m,w,N){X[m]=function(C,M,q,H,W,K,ae,ge,Ee){for(var ne=ge+(-2&Ee)*N;ge!=ne;)w(C[M+0],q[H+0],W[K+0],ae,ge),w(C[M+1],q[H+0],W[K+0],ae,ge+N),M+=2,++H,++K,ge+=2*N;1&Ee&&w(C[M+0],q[H+0],W[K+0],ae,ge)}}function sl(m,w,N){return N==0?m==0?w==0?6:5:w==0?4:0:N}function ac(m,w,N,C,M){switch(m>>>30){case 3:_s(w,N,C,M,0);break;case 2:sa(w,N,C,M);break;case 1:hn(w,N,C,M)}}function Ua(m,w){var N,C,M=w.M,q=w.Nb,H=m.oc,W=m.pc+40,K=m.oc,ae=m.pc+584,ge=m.oc,Ee=m.pc+600;for(N=0;16>N;++N)H[W+32*N-1]=129;for(N=0;8>N;++N)K[ae+32*N-1]=129,ge[Ee+32*N-1]=129;for(0<M?H[W-1-32]=K[ae-1-32]=ge[Ee-1-32]=129:(s(H,W-32-1,127,21),s(K,ae-32-1,127,9),s(ge,Ee-32-1,127,9)),C=0;C<m.za;++C){var ne=w.ya[w.aa+C];if(0<C){for(N=-1;16>N;++N)a(H,W+32*N-4,H,W+32*N+12,4);for(N=-1;8>N;++N)a(K,ae+32*N-4,K,ae+32*N+4,4),a(ge,Ee+32*N-4,ge,Ee+32*N+4,4)}var we=m.Gd,Ne=m.Hd+C,Re=ne.ad,Ae=ne.Hc;if(0<M&&(a(H,W-32,we[Ne].y,0,16),a(K,ae-32,we[Ne].f,0,8),a(ge,Ee-32,we[Ne].ea,0,8)),ne.Za){var Oe=H,Pe=W-32+16;for(0<M&&(C>=m.za-1?s(Oe,Pe,we[Ne].y[15],4):a(Oe,Pe,we[Ne+1].y,0,4)),N=0;4>N;N++)Oe[Pe+128+N]=Oe[Pe+256+N]=Oe[Pe+384+N]=Oe[Pe+0+N];for(N=0;16>N;++N,Ae<<=2)Oe=H,Pe=W+mi[N],ni[ne.Ob[N]](Oe,Pe),ac(Ae,Re,16*+N,Oe,Pe)}else if(Oe=sl(C,M,ne.Ob[0]),ya[Oe](H,W),Ae!=0)for(N=0;16>N;++N,Ae<<=2)ac(Ae,Re,16*+N,H,W+mi[N]);for(N=ne.Gc,Oe=sl(C,M,ne.Dd),Ar[Oe](K,ae),Ar[Oe](ge,Ee),Ae=Re,Oe=K,Pe=ae,255&(ne=0|N)&&(170&ne?Ya(Ae,256,Oe,Pe):rn(Ae,256,Oe,Pe)),ne=ge,Ae=Ee,255&(N>>=8)&&(170&N?Ya(Re,320,ne,Ae):rn(Re,320,ne,Ae)),M<m.Ub-1&&(a(we[Ne].y,0,H,W+480,16),a(we[Ne].f,0,K,ae+224,8),a(we[Ne].ea,0,ge,Ee+224,8)),N=8*q*m.B,we=m.sa,Ne=m.ta+16*C+16*q*m.R,Re=m.qa,ne=m.ra+8*C+N,Ae=m.Ha,Oe=m.Ia+8*C+N,N=0;16>N;++N)a(we,Ne+N*m.R,H,W+32*N,16);for(N=0;8>N;++N)a(Re,ne+N*m.B,K,ae+32*N,8),a(Ae,Oe+N*m.B,ge,Ee+32*N,8)}}function Sr(m,w,N,C,M,q,H,W,K){var ae=[0],ge=[0],Ee=0,ne=K!=null?K.kd:0,we=K??new He;if(m==null||12>N)return 7;we.data=m,we.w=w,we.ha=N,w=[w],N=[N],we.gb=[we.gb];e:{var Ne=w,Re=N,Ae=we.gb;if(e(m!=null),e(Re!=null),e(Ae!=null),Ae[0]=0,12<=Re[0]&&!n(m,Ne[0],"RIFF")){if(n(m,Ne[0]+8,"WEBP")){Ae=3;break e}var Oe=Ye(m,Ne[0]+4);if(12>Oe||4294967286<Oe){Ae=3;break e}if(ne&&Oe>Re[0]-8){Ae=7;break e}Ae[0]=Oe,Ne[0]+=12,Re[0]-=12}Ae=0}if(Ae!=0)return Ae;for(Oe=0<we.gb[0],N=N[0];;){e:{var Pe=m;Re=w,Ae=N;var $e=ae,qe=ge,ot=Ne=[0];if((it=Ee=[Ee])[0]=0,8>Ae[0])Ae=7;else{if(!n(Pe,Re[0],"VP8X")){if(Ye(Pe,Re[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var et=Ye(Pe,Re[0]+8),Ut=1+Ge(Pe,Re[0]+12);if(2147483648<=Ut*(Pe=1+Ge(Pe,Re[0]+15))){Ae=3;break e}ot!=null&&(ot[0]=et),$e!=null&&($e[0]=Ut),qe!=null&&(qe[0]=Pe),Re[0]+=18,Ae[0]-=18,it[0]=1}Ae=0}}if(Ee=Ee[0],Ne=Ne[0],Ae!=0)return Ae;if(Re=!!(2&Ne),!Oe&&Ee)return 3;if(q!=null&&(q[0]=!!(16&Ne)),H!=null&&(H[0]=Re),W!=null&&(W[0]=0),H=ae[0],Ne=ge[0],Ee&&Re&&K==null){Ae=0;break}if(4>N){Ae=7;break}if(Oe&&Ee||!Oe&&!Ee&&!n(m,w[0],"ALPH")){N=[N],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{et=m,Ae=w,Oe=N;var it=we.gb;$e=we.na,qe=we.P,ot=we.Sa,Ut=22,e(et!=null),e(Oe!=null),Pe=Ae[0];var Xt=Oe[0];for(e($e!=null),e(ot!=null),$e[0]=null,qe[0]=null,ot[0]=0;;){if(Ae[0]=Pe,Oe[0]=Xt,8>Xt){Ae=7;break e}var In=Ye(et,Pe+4);if(4294967286<In){Ae=3;break e}var Ft=8+In+1&-2;if(Ut+=Ft,0<it&&Ut>it){Ae=3;break e}if(!n(et,Pe,"VP8 ")||!n(et,Pe,"VP8L")){Ae=0;break e}if(Xt[0]<Ft){Ae=7;break e}n(et,Pe,"ALPH")||($e[0]=et,qe[0]=Pe+8,ot[0]=In),Pe+=Ft,Xt-=Ft}}if(N=N[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],Ae!=0)break}N=[N],we.Ja=[we.Ja],we.xa=[we.xa];e:if(it=m,Ae=w,Oe=N,$e=we.gb[0],qe=we.Ja,ot=we.xa,et=Ae[0],Pe=!n(it,et,"VP8 "),Ut=!n(it,et,"VP8L"),e(it!=null),e(Oe!=null),e(qe!=null),e(ot!=null),8>Oe[0])Ae=7;else{if(Pe||Ut){if(it=Ye(it,et+4),12<=$e&&it>$e-12){Ae=3;break e}if(ne&&it>Oe[0]-8){Ae=7;break e}qe[0]=it,Ae[0]+=8,Oe[0]-=8,ot[0]=Ut}else ot[0]=5<=Oe[0]&&it[et+0]==47&&!(it[et+4]>>5),qe[0]=Oe[0];Ae=0}if(N=N[0],we.Ja=we.Ja[0],we.xa=we.xa[0],w=w[0],Ae!=0)break;if(4294967286<we.Ja)return 3;if(W==null||Re||(W[0]=we.xa?2:1),H=[H],Ne=[Ne],we.xa){if(5>N){Ae=7;break}W=H,ne=Ne,Re=q,m==null||5>N?m=0:5<=N&&m[w+0]==47&&!(m[w+4]>>5)?(Oe=[0],it=[0],$e=[0],ve(qe=new B,m,w,N),Li(qe,Oe,it,$e)?(W!=null&&(W[0]=Oe[0]),ne!=null&&(ne[0]=it[0]),Re!=null&&(Re[0]=$e[0]),m=1):m=0):m=0}else{if(10>N){Ae=7;break}W=Ne,m==null||10>N||!Wl(m,w+3,N-3)?m=0:(ne=m[w+0]|m[w+1]<<8|m[w+2]<<16,Re=16383&(m[w+7]<<8|m[w+6]),m=16383&(m[w+9]<<8|m[w+8]),1&ne||3<(ne>>1&7)||!(ne>>4&1)||ne>>5>=we.Ja||!Re||!m?m=0:(H&&(H[0]=Re),W&&(W[0]=m),m=1))}if(!m||(H=H[0],Ne=Ne[0],Ee&&(ae[0]!=H||ge[0]!=Ne)))return 3;K!=null&&(K[0]=we,K.offset=w-K.w,e(4294967286>w-K.w),e(K.offset==K.ha-N));break}return Ae==0||Ae==7&&Ee&&K==null?(q!=null&&(q[0]|=we.na!=null&&0<we.na.length),C!=null&&(C[0]=H),M!=null&&(M[0]=Ne),0):Ae}function vs(m,w,N){var C=w.width,M=w.height,q=0,H=0,W=C,K=M;if(w.Da=m!=null&&0<m.Da,w.Da&&(W=m.cd,K=m.bd,q=m.v,H=m.j,11>N||(q&=-2,H&=-2),0>q||0>H||0>=W||0>=K||q+W>C||H+K>M))return 0;if(w.v=q,w.j=H,w.va=q+W,w.o=H+K,w.U=W,w.T=K,w.da=m!=null&&0<m.da,w.da){if(!ut(W,K,N=[m.ib],q=[m.hb]))return 0;w.ib=N[0],w.hb=q[0]}return w.ob=m!=null&&m.ob,w.Kb=m==null||!m.Sd,w.da&&(w.ob=w.ib<3*C/4&&w.hb<3*M/4,w.Kb=0),1}function rc(m){if(m==null)return 2;if(11>m.S){var w=m.f.RGBA;w.fb+=(m.height-1)*w.A,w.A=-w.A}else w=m.f.kb,m=m.height,w.O+=(m-1)*w.fa,w.fa=-w.fa,w.N+=(m-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(m-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(m-1)*w.lb,w.lb=-w.lb);return 0}function Nr(m,w,N,C){if(C==null||0>=m||0>=w)return 2;if(N!=null){if(N.Da){var M=N.cd,q=N.bd,H=-2&N.v,W=-2&N.j;if(0>H||0>W||0>=M||0>=q||H+M>m||W+q>w)return 2;m=M,w=q}if(N.da){if(!ut(m,w,M=[N.ib],q=[N.hb]))return 2;m=M[0],w=q[0]}}C.width=m,C.height=w;e:{var K=C.width,ae=C.height;if(m=C.S,0>=K||0>=ae||!(m>=tu&&13>m))m=2;else{if(0>=C.Rd&&C.sd==null){H=q=M=w=0;var ge=(W=K*uu[m])*ae;if(11>m||(q=(ae+1)/2*(w=(K+1)/2),m==12&&(H=(M=K)*ae)),(ae=o(ge+2*q+H))==null){m=1;break e}C.sd=ae,11>m?((K=C.f.RGBA).eb=ae,K.fb=0,K.A=W,K.size=ge):((K=C.f.kb).y=ae,K.O=0,K.fa=W,K.Fd=ge,K.f=ae,K.N=0+ge,K.Ab=w,K.Cd=q,K.ea=ae,K.W=0+ge+q,K.Db=w,K.Ed=q,m==12&&(K.F=ae,K.J=0+ge+2*q),K.Tc=H,K.lb=M)}if(w=1,M=C.S,q=C.width,H=C.height,M>=tu&&13>M)if(11>M)m=C.f.RGBA,w&=(W=Math.abs(m.A))*(H-1)+q<=m.size,w&=W>=q*uu[M],w&=m.eb!=null;else{m=C.f.kb,W=(q+1)/2,ge=(H+1)/2,K=Math.abs(m.fa),ae=Math.abs(m.Ab);var Ee=Math.abs(m.Db),ne=Math.abs(m.lb),we=ne*(H-1)+q;w&=K*(H-1)+q<=m.Fd,w&=ae*(ge-1)+W<=m.Cd,w=(w&=Ee*(ge-1)+W<=m.Ed)&K>=q&ae>=W&Ee>=W,w&=m.y!=null,w&=m.f!=null,w&=m.ea!=null,M==12&&(w&=ne>=q,w&=we<=m.Tc,w&=m.F!=null)}else w=0;m=w?0:2}}return m!=0||N!=null&&N.fd&&(m=rc(C)),m}var Vs=64,Aa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],va=24,Fr=32,Hr=8,ys=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Qe("Predictor0","PredictorAdd0"),X.Predictor0=function(){return 4278190080},X.Predictor1=function(m){return m},X.Predictor2=function(m,w,N){return w[N+0]},X.Predictor3=function(m,w,N){return w[N+1]},X.Predictor4=function(m,w,N){return w[N-1]},X.Predictor5=function(m,w,N){return ft(ft(m,w[N+1]),w[N+0])},X.Predictor6=function(m,w,N){return ft(m,w[N-1])},X.Predictor7=function(m,w,N){return ft(m,w[N+0])},X.Predictor8=function(m,w,N){return ft(w[N-1],w[N+0])},X.Predictor9=function(m,w,N){return ft(w[N+0],w[N+1])},X.Predictor10=function(m,w,N){return ft(ft(m,w[N-1]),ft(w[N+0],w[N+1]))},X.Predictor11=function(m,w,N){var C=w[N+0];return 0>=ze(C>>24&255,m>>24&255,(w=w[N-1])>>24&255)+ze(C>>16&255,m>>16&255,w>>16&255)+ze(C>>8&255,m>>8&255,w>>8&255)+ze(255&C,255&m,255&w)?C:m},X.Predictor12=function(m,w,N){var C=w[N+0];return(zt((m>>24&255)+(C>>24&255)-((w=w[N-1])>>24&255))<<24|zt((m>>16&255)+(C>>16&255)-(w>>16&255))<<16|zt((m>>8&255)+(C>>8&255)-(w>>8&255))<<8|zt((255&m)+(255&C)-(255&w)))>>>0},X.Predictor13=function(m,w,N){var C=w[N-1];return(Vt((m=ft(m,w[N+0]))>>24&255,C>>24&255)<<24|Vt(m>>16&255,C>>16&255)<<16|Vt(m>>8&255,C>>8&255)<<8|Vt(255&m,255&C))>>>0};var ol=X.PredictorAdd0;X.PredictorAdd1=pt,Qe("Predictor2","PredictorAdd2"),Qe("Predictor3","PredictorAdd3"),Qe("Predictor4","PredictorAdd4"),Qe("Predictor5","PredictorAdd5"),Qe("Predictor6","PredictorAdd6"),Qe("Predictor7","PredictorAdd7"),Qe("Predictor8","PredictorAdd8"),Qe("Predictor9","PredictorAdd9"),Qe("Predictor10","PredictorAdd10"),Qe("Predictor11","PredictorAdd11"),Qe("Predictor12","PredictorAdd12"),Qe("Predictor13","PredictorAdd13");var ll=X.PredictorAdd2;Ze("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Ze("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var fi,Jc=X.ColorIndexInverseTransform,$r=X.MapARGB,Gr=X.VP8LColorIndexInverseTransformAlpha,Ki=X.MapAlpha,bs=X.VP8LPredictorsAdd=[];bs.length=16,(X.VP8LPredictors=[]).length=16,(X.VP8LPredictorsAdd_C=[]).length=16,(X.VP8LPredictors_C=[]).length=16;var cl,ul,ws,xs,Vr,jo,Ia,_s,sa,Ya,hn,rn,Dn,pi,Wr,jr,Ao,sc,vd,Vh,Wh,Yh,yd,bd,Eo,Ka,oc,qa,Co=o(511),Zc=o(2041),lc=o(225),cc=o(767),eu=0,Ss=Zc,uc=lc,oa=cc,Qi=Co,tu=0,la=1,nu=2,Qa=3,dc=4,dl=5,Ws=6,hc=7,iu=8,hl=9,au=10,Xa=[2,3,7],fl=[3,3,11],ko=[280,256,256,256,40],ru=[0,1,1,1,0],fc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ja=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Za=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ys=8,er=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],tr=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Fa=null,Kh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],wd=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],su=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Qh=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Xi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Un=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Jt=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ya=[],ni=[],Ar=[],Ks=1,xd=2,Ns=[],Ji=[];ps("UpsampleRgbLinePair",ms,3),ps("UpsampleBgrLinePair",Ii,3),ps("UpsampleRgbaLinePair",ga,4),ps("UpsampleBgraLinePair",qr,4),ps("UpsampleArgbLinePair",rl,4),ps("UpsampleRgba4444LinePair",Gs,2),ps("UpsampleRgb565LinePair",$s,2);var Lo=X.UpsampleRgbLinePair,_d=X.UpsampleBgrLinePair,pl=X.UpsampleRgbaLinePair,ou=X.UpsampleBgraLinePair,Qs=X.UpsampleArgbLinePair,Yr=X.UpsampleRgba4444LinePair,Xs=X.UpsampleRgb565LinePair,nr=16,ml=1<<nr-1,To=-227,Js=482,lu=6,Zs=0,Zi=o(256),cu=o(256),Xh=o(256),sm=o(256),om=o(Js-To),lm=o(Js-To);gs("YuvToRgbRow",ms,3),gs("YuvToBgrRow",Ii,3),gs("YuvToRgbaRow",ga,4),gs("YuvToBgraRow",qr,4),gs("YuvToArgbRow",rl,4),gs("YuvToRgba4444Row",Gs,2),gs("YuvToRgb565Row",$s,2);var mi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gl=[0,2,8],pc=[8,7,6,4,4,2,2,2,1,1,1,1],mc=1;this.WebPDecodeRGBA=function(m,w,N,C,M){var q=la,H=new Me,W=new yt;H.ba=W,W.S=q,W.width=[W.width],W.height=[W.height];var K=W.width,ae=W.height,ge=new Xe;if(ge==null||m==null)var Ee=2;else e(ge!=null),Ee=Sr(m,w,N,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Ee!=0?K=0:(K!=null&&(K[0]=ge.width[0]),ae!=null&&(ae[0]=ge.height[0]),K=1),K){W.width=W.width[0],W.height=W.height[0],C!=null&&(C[0]=W.width),M!=null&&(M[0]=W.height);e:{if(C=new rs,(M=new He).data=m,M.w=w,M.ha=N,M.kd=1,w=[0],e(M!=null),((m=Sr(M.data,M.w,M.ha,null,null,null,w,null,M))==0||m==7)&&w[0]&&(m=4),(w=m)==0){if(e(H!=null),C.data=M.data,C.w=M.w+M.offset,C.ha=M.ha-M.offset,C.put=ct,C.ac=Wn,C.bc=Nn,C.ma=H,M.xa){if((m=go())==null){H=1;break e}if((function(ne,we){var Ne=[0],Re=[0],Ae=[0];t:for(;;){if(ne==null)return 0;if(we==null)return ne.a=2,0;if(ne.l=we,ne.a=0,ve(ne.m,we.data,we.w,we.ha),!Li(ne.m,Ne,Re,Ae)){ne.a=3;break t}if(ne.xb=xd,we.width=Ne[0],we.height=Re[0],!fr(Ne[0],Re[0],1,ne,null))break t;return 1}return e(ne.a!=0),0})(m,C)){if(C=(w=Nr(C.width,C.height,H.Oa,H.ba))==0){t:{C=m;n:for(;;){if(C==null){C=0;break t}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((N=C.l)!=null),e((M=N.ma)!=null),C.xb!=0){if(C.ca=M.ba,C.tb=M.tb,e(C.ca!=null),!vs(M.Oa,N,Qa)){C.a=2;break n}if(!pr(C,N.width)||N.da)break n;if((N.da||At(C.ca.S))&&xr(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&xr()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!Z(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!Da(C,C.V,C.Ba,C.c,C.i,N.o,Ti))break n;M.Dc=C.Ma,C=1;break t}e(C.a!=0),C=0}C=!C}C&&(w=m.a)}else w=m.a}else{if((m=new yr)==null){H=1;break e}if(m.Fa=M.na,m.P=M.P,m.qc=M.Sa,zr(m,C)){if((w=Nr(C.width,C.height,H.Oa,H.ba))==0){if(m.Aa=0,N=H.Oa,e((M=m)!=null),N!=null){if(0<(K=0>(K=N.Md)?0:100<K?255:255*K/100)){for(ae=ge=0;4>ae;++ae)12>(Ee=M.pb[ae]).lc&&(Ee.ia=K*pc[0>Ee.lc?0:Ee.lc]>>3),ge|=Ee.ia;ge&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=N.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}(function(ne,we){if(ne==null)return 0;if(we==null)return dn(ne,2,"NULL VP8Io parameter in VP8Decode().");if(!ne.cb&&!zr(ne,we))return 0;if(e(ne.cb),we.ac==null||we.ac(we)){we.ob&&(ne.L=0);var Ne=gl[ne.L];if(ne.L==2?(ne.yb=0,ne.zb=0):(ne.yb=we.v-Ne>>4,ne.zb=we.j-Ne>>4,0>ne.yb&&(ne.yb=0),0>ne.zb&&(ne.zb=0)),ne.Va=we.o+15+Ne>>4,ne.Hb=we.va+15+Ne>>4,ne.Hb>ne.za&&(ne.Hb=ne.za),ne.Va>ne.Ub&&(ne.Va=ne.Ub),0<ne.L){var Re=ne.ed;for(Ne=0;4>Ne;++Ne){var Ae;if(ne.Qa.Cb){var Oe=ne.Qa.Lb[Ne];ne.Qa.Fb||(Oe+=Re.Tb)}else Oe=Re.Tb;for(Ae=0;1>=Ae;++Ae){var Pe=ne.gd[Ne][Ae],$e=Oe;if(Re.Pc&&($e+=Re.vd[0],Ae&&($e+=Re.od[0])),0<($e=0>$e?0:63<$e?63:$e)){var qe=$e;0<Re.wb&&(qe=4<Re.wb?qe>>2:qe>>1)>9-Re.wb&&(qe=9-Re.wb),1>qe&&(qe=1),Pe.dd=qe,Pe.tc=2*$e+qe,Pe.ld=40<=$e?2:15<=$e?1:0}else Pe.tc=0;Pe.La=Ae}}}Ne=0}else dn(ne,6,"Frame setup failed"),Ne=ne.a;if(Ne=Ne==0){if(Ne){ne.$c=0,0<ne.Aa||(ne.Ic=mc);t:{Ne=ne.Ic,Re=4*(qe=ne.za);var ot=32*qe,et=qe+1,Ut=0<ne.L?qe*(0<ne.Aa?2:1):0,it=(ne.Aa==2?2:1)*qe;if((Pe=Re+832+(Ae=3*(16*Ne+gl[ne.L])/2*ot)+(Oe=ne.Fa!=null&&0<ne.Fa.length?ne.Kc.c*ne.Kc.i:0))!=Pe)Ne=0;else{if(Pe>ne.Vb){if(ne.Vb=0,ne.Ec=o(Pe),ne.Fc=0,ne.Ec==null){Ne=dn(ne,1,"no memory during frame initialization.");break t}ne.Vb=Pe}Pe=ne.Ec,$e=ne.Fc,ne.Ac=Pe,ne.Bc=$e,$e+=Re,ne.Gd=u(ot,Vl),ne.Hd=0,ne.rb=u(et+1,vr),ne.sb=1,ne.wa=Ut?u(Ut,Ma):null,ne.Y=0,ne.D.Nb=0,ne.D.wa=ne.wa,ne.D.Y=ne.Y,0<ne.Aa&&(ne.D.Y+=qe),e(!0),ne.oc=Pe,ne.pc=$e,$e+=832,ne.ya=u(it,$l),ne.aa=0,ne.D.ya=ne.ya,ne.D.aa=ne.aa,ne.Aa==2&&(ne.D.aa+=qe),ne.R=16*qe,ne.B=8*qe,qe=(ot=gl[ne.L])*ne.R,ot=ot/2*ne.B,ne.sa=Pe,ne.ta=$e+qe,ne.qa=ne.sa,ne.ra=ne.ta+16*Ne*ne.R+ot,ne.Ha=ne.qa,ne.Ia=ne.ra+8*Ne*ne.B+ot,ne.$c=0,$e+=Ae,ne.mb=Oe?Pe:null,ne.nb=Oe?$e:null,e($e+Oe<=ne.Fc+ne.Vb),Yl(ne),s(ne.Ac,ne.Bc,0,Re),Ne=1}}if(Ne){if(we.ka=0,we.y=ne.sa,we.O=ne.ta,we.f=ne.qa,we.N=ne.ra,we.ea=ne.Ha,we.Vd=ne.Ia,we.fa=ne.R,we.Rc=ne.B,we.F=null,we.J=0,!eu){for(Ne=-255;255>=Ne;++Ne)Co[255+Ne]=0>Ne?-Ne:Ne;for(Ne=-1020;1020>=Ne;++Ne)Zc[1020+Ne]=-128>Ne?-128:127<Ne?127:Ne;for(Ne=-112;112>=Ne;++Ne)lc[112+Ne]=-16>Ne?-16:15<Ne?15:Ne;for(Ne=-255;510>=Ne;++Ne)cc[255+Ne]=0>Ne?0:255<Ne?255:Ne;eu=1}Ia=br,_s=Kl,Ya=ma,hn=Ql,rn=Xl,sa=Hc,Dn=Qc,pi=hs,Wr=R,jr=re,Ao=Xc,sc=S,vd=me,Vh=_e,Wh=ls,Yh=cs,yd=So,bd=nc,ni[0]=Yc,ni[1]=$c,ni[2]=Wc,ni[3]=ec,ni[4]=za,ni[5]=tc,ni[6]=Wi,ni[7]=wo,ni[8]=xo,ni[9]=Ba,ya[0]=wr,ya[1]=Jl,ya[2]=Zl,ya[3]=Vc,ya[4]=ss,ya[5]=bo,ya[6]=Hs,Ar[0]=tl,Ar[1]=Gc,Ar[2]=Br,Ar[3]=Kc,Ar[4]=Ui,Ar[5]=nl,Ar[6]=Ur,Ne=1}else Ne=0}Ne&&(Ne=(function(Xt,In){for(Xt.M=0;Xt.M<Xt.Va;++Xt.M){var Ft,tt=Xt.Jc[Xt.M&Xt.Xb],Ke=Xt.m,Xn=Xt;for(Ft=0;Ft<Xn.za;++Ft){var kt=Ke,Gt=Xn,xn=Gt.Ac,Di=Gt.Bc+4*Ft,ea=Gt.zc,Mn=Gt.ya[Gt.aa+Ft];if(Gt.Qa.Bb?Mn.$b=je(kt,Gt.Pa.jb[0])?2+je(kt,Gt.Pa.jb[2]):je(kt,Gt.Pa.jb[1]):Mn.$b=0,Gt.kc&&(Mn.Ad=je(kt,Gt.Bd)),Mn.Za=!je(kt,145)+0,Mn.Za){var wi=Mn.Ob,ca=0;for(Gt=0;4>Gt;++Gt){var xi,Qt=ea[0+Gt];for(xi=0;4>xi;++xi){Qt=Xi[xn[Di+xi]][Qt];for(var ln=su[je(kt,Qt[0])];0<ln;)ln=su[2*ln+je(kt,Qt[ln])];Qt=-ln,xn[Di+xi]=Qt}a(wi,ca,xn,Di,4),ca+=4,ea[0+Gt]=Qt}}else Qt=je(kt,156)?je(kt,128)?1:3:je(kt,163)?2:0,Mn.Ob[0]=Qt,s(xn,Di,Qt,4),s(ea,0,Qt,4);Mn.Dd=je(kt,142)?je(kt,114)?je(kt,183)?1:3:2:0}if(Xn.m.Ka)return dn(Xt,7,"Premature end-of-partition0 encountered.");for(;Xt.ja<Xt.za;++Xt.ja){if(Xn=tt,kt=(Ke=Xt).rb[Ke.sb-1],xn=Ke.rb[Ke.sb+Ke.ja],Ft=Ke.ya[Ke.aa+Ke.ja],Di=Ke.kc?Ft.Ad:0)kt.la=xn.la=0,Ft.Za||(kt.Na=xn.Na=0),Ft.Hc=0,Ft.Gc=0,Ft.ia=0;else{var Jn,fn;if(kt=xn,xn=Xn,Di=Ke.Pa.Xc,ea=Ke.ya[Ke.aa+Ke.ja],Mn=Ke.pb[ea.$b],Gt=ea.ad,wi=0,ca=Ke.rb[Ke.sb-1],Qt=xi=0,s(Gt,wi,0,384),ea.Za)var Mi=0,Zn=Di[3];else{ln=o(16);var cn=kt.Na+ca.Na;if(cn=Fa(xn,Di[1],cn,Mn.Eb,0,ln,0),kt.Na=ca.Na=(0<cn)+0,1<cn)Ia(ln,0,Gt,wi);else{var gi=ln[0]+3>>3;for(ln=0;256>ln;ln+=16)Gt[wi+ln]=gi}Mi=1,Zn=Di[0]}var _n=15&kt.la,_i=15&ca.la;for(ln=0;4>ln;++ln){var Si=1&_i;for(gi=fn=0;4>gi;++gi)_n=_n>>1|(Si=(cn=Fa(xn,Zn,cn=Si+(1&_n),Mn.Sc,Mi,Gt,wi))>Mi)<<7,fn=fn<<2|(3<cn?3:1<cn?2:Gt[wi+0]!=0),wi+=16;_n>>=4,_i=_i>>1|Si<<7,xi=(xi<<8|fn)>>>0}for(Zn=_n,Mi=_i>>4,Jn=0;4>Jn;Jn+=2){for(fn=0,_n=kt.la>>4+Jn,_i=ca.la>>4+Jn,ln=0;2>ln;++ln){for(Si=1&_i,gi=0;2>gi;++gi)cn=Si+(1&_n),_n=_n>>1|(Si=0<(cn=Fa(xn,Di[2],cn,Mn.Qc,0,Gt,wi)))<<3,fn=fn<<2|(3<cn?3:1<cn?2:Gt[wi+0]!=0),wi+=16;_n>>=2,_i=_i>>1|Si<<5}Qt|=fn<<4*Jn,Zn|=_n<<4<<Jn,Mi|=(240&_i)<<Jn}kt.la=Zn,ca.la=Mi,ea.Hc=xi,ea.Gc=Qt,ea.ia=43690&Qt?0:Mn.ia,Di=!(xi|Qt)}if(0<Ke.L&&(Ke.wa[Ke.Y+Ke.ja]=Ke.gd[Ft.$b][Ft.Za],Ke.wa[Ke.Y+Ke.ja].La|=!Di),Xn.Ka)return dn(Xt,7,"Premature end-of-file encountered.")}if(Yl(Xt),Ke=In,Xn=1,Ft=(tt=Xt).D,kt=0<tt.L&&tt.M>=tt.zb&&tt.M<=tt.Va,tt.Aa==0)t:{if(Ft.M=tt.M,Ft.uc=kt,Ua(tt,Ft),Xn=1,Ft=(fn=tt.D).Nb,kt=(Qt=gl[tt.L])*tt.R,xn=Qt/2*tt.B,ln=16*Ft*tt.R,gi=8*Ft*tt.B,Di=tt.sa,ea=tt.ta-kt+ln,Mn=tt.qa,Gt=tt.ra-xn+gi,wi=tt.Ha,ca=tt.Ia-xn+gi,_i=(_n=fn.M)==0,xi=_n>=tt.Va-1,tt.Aa==2&&Ua(tt,fn),fn.uc)for(Si=(cn=tt).D.M,e(cn.D.uc),fn=cn.yb;fn<cn.Hb;++fn){Mi=fn,Zn=Si;var En=(sn=(Ni=cn).D).Nb;Jn=Ni.R;var sn=sn.wa[sn.Y+Mi],ua=Ni.sa,ii=Ni.ta+16*En*Jn+16*Mi,_t=sn.dd,Nt=sn.tc;if(Nt!=0)if(e(3<=Nt),Ni.L==1)0<Mi&&Yh(ua,ii,Jn,Nt+4),sn.La&&bd(ua,ii,Jn,Nt),0<Zn&&Wh(ua,ii,Jn,Nt+4),sn.La&&yd(ua,ii,Jn,Nt);else{var un=Ni.B,Ea=Ni.qa,ir=Ni.ra+8*En*un+8*Mi,ba=Ni.Ha,Ni=Ni.Ia+8*En*un+8*Mi;En=sn.ld,0<Mi&&(pi(ua,ii,Jn,Nt+4,_t,En),jr(Ea,ir,ba,Ni,un,Nt+4,_t,En)),sn.La&&(sc(ua,ii,Jn,Nt,_t,En),Vh(Ea,ir,ba,Ni,un,Nt,_t,En)),0<Zn&&(Dn(ua,ii,Jn,Nt+4,_t,En),Wr(Ea,ir,ba,Ni,un,Nt+4,_t,En)),sn.La&&(Ao(ua,ii,Jn,Nt,_t,En),vd(Ea,ir,ba,Ni,un,Nt,_t,En))}}if(tt.ia&&alert("todo:DitherRow"),Ke.put!=null){if(fn=16*_n,_n=16*(_n+1),_i?(Ke.y=tt.sa,Ke.O=tt.ta+ln,Ke.f=tt.qa,Ke.N=tt.ra+gi,Ke.ea=tt.Ha,Ke.W=tt.Ia+gi):(fn-=Qt,Ke.y=Di,Ke.O=ea,Ke.f=Mn,Ke.N=Gt,Ke.ea=wi,Ke.W=ca),xi||(_n-=Qt),_n>Ke.o&&(_n=Ke.o),Ke.F=null,Ke.J=null,tt.Fa!=null&&0<tt.Fa.length&&fn<_n&&(Ke.J=Rn(tt,Ke,fn,_n-fn),Ke.F=tt.mb,Ke.F==null&&Ke.F.length==0)){Xn=dn(tt,3,"Could not decode alpha data.");break t}fn<Ke.j&&(Qt=Ke.j-fn,fn=Ke.j,e(!(1&Qt)),Ke.O+=tt.R*Qt,Ke.N+=tt.B*(Qt>>1),Ke.W+=tt.B*(Qt>>1),Ke.F!=null&&(Ke.J+=Ke.width*Qt)),fn<_n&&(Ke.O+=Ke.v,Ke.N+=Ke.v>>1,Ke.W+=Ke.v>>1,Ke.F!=null&&(Ke.J+=Ke.v),Ke.ka=fn-Ke.j,Ke.U=Ke.va-Ke.v,Ke.T=_n-fn,Xn=Ke.put(Ke))}Ft+1!=tt.Ic||xi||(a(tt.sa,tt.ta-kt,Di,ea+16*tt.R,kt),a(tt.qa,tt.ra-xn,Mn,Gt+8*tt.B,xn),a(tt.Ha,tt.Ia-xn,wi,ca+8*tt.B,xn))}if(!Xn)return dn(Xt,6,"Output aborted.")}return 1})(ne,we)),we.bc!=null&&we.bc(we),Ne&=1}return Ne?(ne.cb=0,Ne):0})(m,C)||(w=m.a)}}else w=m.a}w==0&&H.Oa!=null&&H.Oa.fd&&(w=rc(H.ba))}H=w}q=H!=0?null:11>q?W.f.RGBA.eb:W.f.kb.y}else q=null;return q};var uu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(X,pe){for(var U="",Y=0;Y<4;Y++)U+=String.fromCharCode(X[pe++]);return U}function g(X,pe){return X[pe+0]|X[pe+1]<<8}function v(X,pe){return(X[pe+0]|X[pe+1]<<8|X[pe+2]<<16)>>>0}function _(X,pe){return(X[pe+0]|X[pe+1]<<8|X[pe+2]<<16|X[pe+3]<<24)>>>0}new f;var b=[0],j=[0],E=[],T=new f,A=t,z=(function(X,pe){var U={},Y=0,le=!1,ue=0,k=0;if(U.frames=[],!(function(L,B){for(var $=0;$<4;$++)if(L[B+$]!="RIFF".charCodeAt($))return!0;return!1})(X,pe)){for(_(X,pe+=4),pe+=8;pe<X.length;){var I=p(X,pe),te=_(X,pe+=4);pe+=4;var J=te+(1&te);switch(I){case"VP8 ":case"VP8L":U.frames[Y]===void 0&&(U.frames[Y]={}),(F=U.frames[Y]).src_off=le?k:pe-8,F.src_size=ue+te+8,Y++,le&&(le=!1,ue=0,k=0);break;case"VP8X":(F=U.header={}).feature_flags=X[pe];var ve=pe+4;F.canvas_width=1+v(X,ve),ve+=3,F.canvas_height=1+v(X,ve),ve+=3;break;case"ALPH":le=!0,ue=J+8,k=pe-8;break;case"ANIM":(F=U.header).bgcolor=_(X,pe),ve=pe+4,F.loop_count=g(X,ve),ve+=2;break;case"ANMF":var fe,F;(F=U.frames[Y]={}).offset_x=2*v(X,pe),pe+=3,F.offset_y=2*v(X,pe),pe+=3,F.width=1+v(X,pe),pe+=3,F.height=1+v(X,pe),pe+=3,F.duration=v(X,pe),pe+=3,fe=X[pe++],F.dispose=1&fe,F.blend=fe>>1&1}I!="ANMF"&&(pe+=J)}return U}})(A,0);z.response=A,z.rgbaoutput=!0,z.dataurl=!1;var D=z.header?z.header:null,P=z.frames?z.frames:null;if(D){D.loop_counter=D.loop_count,b=[D.canvas_height],j=[D.canvas_width];for(var se=0;se<P.length&&P[se].blend!=0;se++);}var he=P[0],oe=T.WebPDecodeRGBA(A,he.src_off,he.src_size,j,b);he.rgba=oe,he.imgwidth=j[0],he.imgheight=b[0];for(var ee=0;ee<j[0]*b[0]*4;ee++)E[ee]=oe[ee];return this.width=j,this.height=b,this.data=E,this}function bL(){var t,e=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function wL(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,n,a,s,o,u,c,f,p,g=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new f,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new u,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new u,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new v(this),e=this.internal.f2,n=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,p=new g}]);var v=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=L;Object.defineProperty(this,"pdf",{get:function(){return B}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(Z){$=!!Z}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(Z){ie=!!Z}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(Z){isNaN(Z)||(ce=Z)}});var Q=0;Object.defineProperty(this,"posY",{get:function(){return Q},set:function(Z){isNaN(Z)||(Q=Z)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Z){var We;typeof Z=="number"?We=[Z,Z,Z,Z]:((We=new Array(4))[0]=Z[0],We[1]=Z.length>=2?Z[1]:We[0],We[2]=Z.length>=3?Z[2]:We[0],We[3]=Z.length>=4?Z[3]:We[1]),p.margin=We}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(Z){be=Z}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(Z){xe=Z}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(Z){je=Z}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Z){Z instanceof g&&(p=Z)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Z){p.path=Z}});var Ie=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ie},set:function(Z){Ie=Z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Z){var We;We=_(Z),this.ctx.fillStyle=We.style,this.ctx.isFillTransparent=We.a===0,this.ctx.fillOpacity=We.a,this.pdf.setFillColor(We.r,We.g,We.b,{a:We.a}),this.pdf.setTextColor(We.r,We.g,We.b,{a:We.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Z){var We=_(Z);this.ctx.strokeStyle=We.style,this.ctx.isStrokeTransparent=We.a===0,this.ctx.strokeOpacity=We.a,We.a===0?this.pdf.setDrawColor(255,255,255):(We.a,this.pdf.setDrawColor(We.r,We.g,We.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Z){["butt","round","square"].indexOf(Z)!==-1&&(this.ctx.lineCap=Z,this.pdf.setLineCap(Z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Z){isNaN(Z)||(this.ctx.lineWidth=Z,this.pdf.setLineWidth(Z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Z){["bevel","round","miter"].indexOf(Z)!==-1&&(this.ctx.lineJoin=Z,this.pdf.setLineJoin(Z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Z){isNaN(Z)||(this.ctx.miterLimit=Z,this.pdf.setMiterLimit(Z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Z){this.ctx.textBaseline=Z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Z){["right","end","center","left","start"].indexOf(Z)!==-1&&(this.ctx.textAlign=Z)}});var Ve=null,Ge=null,Ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ye},set:function(Z){Ve=null,Ge=null,Ye=Z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Z){var We;if(this.ctx.font=Z,(We=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Z))!==null){var Ot=We[1];We[2];var ut=We[3],Fe=We[4];We[5];var nt=We[6],Qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Fe)[2];Fe=Math.floor(Qe==="px"?parseFloat(Fe)*this.pdf.internal.scaleFactor:Qe==="em"?parseFloat(Fe)*this.pdf.getFontSize():parseFloat(Fe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Fe);var ht=(function(Ze){var pn,Wt,St=[],Et=Ze.trim();if(Et==="")return e0;if(Et in h5)return[h5[Et]];for(;Et!=="";){switch(Wt=null,pn=(Et=p5(Et)).charAt(0)){case'"':case"'":Wt=fL(Et.substring(1),pn);break;default:Wt=pL(Et)}if(Wt===null||(St.push(Wt[0]),(Et=p5(Wt[1]))!==""&&Et.charAt(0)!==","))return e0;Et=Et.replace(/^,/,"")}return St})(nt);if(this.fontFaces){var ft=(function(Ze,pn){var Wt=Ze.getFontList(),St=JSON.stringify(Wt);if(Ve===null||Ge!==St){var Et=(function(Yt){var xt=[];return Object.keys(Yt).forEach(function(yn){Yt[yn].forEach(function(At){var Dt=null;switch(At){case"bold":Dt={family:yn,weight:"bold"};break;case"italic":Dt={family:yn,style:"italic"};break;case"bolditalic":Dt={family:yn,weight:"bold",style:"italic"};break;case"":case"normal":Dt={family:yn}}Dt!==null&&(Dt.ref={name:yn,style:At},xt.push(Dt))})}),xt})(Wt);Ve=(function(Yt){for(var xt={},yn=0;yn<Yt.length;++yn){var At=Zg(Yt[yn]),Dt=At.family,bn=At.stretch,yt=At.style,Xe=At.weight;xt[Dt]=xt[Dt]||{},xt[Dt][bn]=xt[Dt][bn]||{},xt[Dt][bn][yt]=xt[Dt][bn][yt]||{},xt[Dt][bn][yt][Xe]=At}return xt})(Et.concat(pn)),Ge=St}return Ve})(this.pdf,this.fontFaces),zt=ht.map(function(Ze){return{family:Ze,stretch:"normal",weight:ut,style:Ot}}),Vt=(function(Ze,pn,Wt){for(var St=(Wt=Wt||{}).defaultFontFamily||"times",Et=Object.assign({},hL,Wt.genericFontFamilies||{}),Yt=null,xt=null,yn=0;yn<pn.length;++yn)if(Et[(Yt=Zg(pn[yn])).family]&&(Yt.family=Et[Yt.family]),Ze.hasOwnProperty(Yt.family)){xt=Ze[Yt.family];break}if(!(xt=xt||Ze[St]))throw new Error("Could not find a font-family for the rule '"+f5(Yt)+"' and default family '"+St+"'.");if(xt=(function(At,Dt){if(Dt[At])return Dt[At];var bn=X0[At],yt=bn<=X0.normal?-1:1,Xe=d5(Dt,Gx,bn,yt);if(!Xe)throw new Error("Could not find a matching font-stretch value for "+At);return Xe})(Yt.stretch,xt),xt=(function(At,Dt){if(Dt[At])return Dt[At];for(var bn=$x[At],yt=0;yt<bn.length;++yt)if(Dt[bn[yt]])return Dt[bn[yt]];throw new Error("Could not find a matching font-style for "+At)})(Yt.style,xt),!(xt=(function(At,Dt){if(Dt[At])return Dt[At];if(At===400&&Dt[500])return Dt[500];if(At===500&&Dt[400])return Dt[400];var bn=dL[At],yt=d5(Dt,Vx,bn,At<400?-1:1);if(!yt)throw new Error("Could not find a matching font-weight for value "+At);return yt})(Yt.weight,xt)))throw new Error("Failed to resolve a font for the rule '"+f5(Yt)+"'.");return xt})(ft,zt);this.pdf.setFont(Vt.ref.name,Vt.ref.style)}else{var ze="";(ut==="bold"||parseInt(ut,10)>=700||Ot==="bold")&&(ze="bold"),Ot==="italic"&&(ze+="italic"),ze.length===0&&(ze="normal");for(var pt="",mt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Je=0;Je<ht.length;Je++){if(this.pdf.internal.getFont(ht[Je],ze,{noFallback:!0,disableWarning:!0})!==void 0){pt=ht[Je];break}if(ze==="bolditalic"&&this.pdf.internal.getFont(ht[Je],"bold",{noFallback:!0,disableWarning:!0})!==void 0)pt=ht[Je],ze="bold";else if(this.pdf.internal.getFont(ht[Je],"normal",{noFallback:!0,disableWarning:!0})!==void 0){pt=ht[Je],ze="normal";break}}if(pt===""){for(var Rt=0;Rt<ht.length;Rt++)if(mt[ht[Rt]]){pt=mt[ht[Rt]];break}}pt=pt===""?"Times":pt,this.pdf.setFont(pt,ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Z){this.ctx.globalCompositeOperation=Z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Z){this.ctx.globalAlpha=Z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Z){this.ctx.lineDashOffset=Z,F.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Z){this.ctx.lineDash=Z,F.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Z){this.ctx.ignoreClearRect=!!Z}})};v.prototype.setLineDash=function(L){this.lineDash=L},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){P.call(this,"fill",!1)},v.prototype.stroke=function(){P.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(L,B){if(isNaN(L)||isNaN(B))throw Fn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new u(L,B));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new u(L,B)},v.prototype.closePath=function(){var L=new u(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&Tn(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){L=new u(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(L.x,L.y)},v.prototype.lineTo=function(L,B){if(isNaN(L)||isNaN(B))throw Fn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new u(L,B));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new u($.x,$.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},v.prototype.quadraticCurveTo=function(L,B,$,ie){if(isNaN($)||isNaN(ie)||isNaN(L)||isNaN(B))throw Fn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new u($,ie)),Q=this.ctx.transform.applyToPoint(new u(L,B));this.path.push({type:"qct",x1:Q.x,y1:Q.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new u(ce.x,ce.y)},v.prototype.bezierCurveTo=function(L,B,$,ie,ce,Q){if(isNaN(ce)||isNaN(Q)||isNaN(L)||isNaN(B)||isNaN($)||isNaN(ie))throw Fn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new u(ce,Q)),xe=this.ctx.transform.applyToPoint(new u(L,B)),je=this.ctx.transform.applyToPoint(new u($,ie));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:je.x,y2:je.y,x:be.x,y:be.y}),this.ctx.lastPoint=new u(be.x,be.y)},v.prototype.arc=function(L,B,$,ie,ce,Q){if(isNaN(L)||isNaN(B)||isNaN($)||isNaN(ie)||isNaN(ce))throw Fn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Q=!!Q,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new u(L,B));L=be.x,B=be.y;var xe=this.ctx.transform.applyToPoint(new u(0,$)),je=this.ctx.transform.applyToPoint(new u(0,0));$=Math.sqrt(Math.pow(xe.x-je.x,2)+Math.pow(xe.y-je.y,2))}Math.abs(ce-ie)>=2*Math.PI&&(ie=0,ce=2*Math.PI),this.path.push({type:"arc",x:L,y:B,radius:$,startAngle:ie,endAngle:ce,counterclockwise:Q})},v.prototype.arcTo=function(L,B,$,ie,ce){throw new Error("arcTo not implemented.")},v.prototype.rect=function(L,B,$,ie){if(isNaN(L)||isNaN(B)||isNaN($)||isNaN(ie))throw Fn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,B),this.lineTo(L+$,B),this.lineTo(L+$,B+ie),this.lineTo(L,B+ie),this.lineTo(L,B),this.lineTo(L+$,B),this.lineTo(L,B)},v.prototype.fillRect=function(L,B,$,ie){if(isNaN(L)||isNaN(B)||isNaN($)||isNaN(ie))throw Fn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,B,$,ie),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},v.prototype.strokeRect=function(L,B,$,ie){if(isNaN(L)||isNaN(B)||isNaN($)||isNaN(ie))throw Fn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(L,B,$,ie),this.stroke())},v.prototype.clearRect=function(L,B,$,ie){if(isNaN(L)||isNaN(B)||isNaN($)||isNaN(ie))throw Fn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,B,$,ie))},v.prototype.save=function(L){L=typeof L!="boolean"||L;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},v.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(B),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(L){var B,$,ie,ce;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))B=0,$=0,ie=0,ce=0;else{var Q=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(Q!==null)B=parseInt(Q[1]),$=parseInt(Q[2]),ie=parseInt(Q[3]),ce=1;else if((Q=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)B=parseInt(Q[1]),$=parseInt(Q[2]),ie=parseInt(Q[3]),ce=parseFloat(Q[4]);else{if(ce=1,typeof L=="string"&&L.charAt(0)!=="#"){var be=new zx(L);L=be.ok?be.toHex():"#000000"}L.length===4?(B=L.substring(1,2),B+=B,$=L.substring(2,3),$+=$,ie=L.substring(3,4),ie+=ie):(B=L.substring(1,3),$=L.substring(3,5),ie=L.substring(5,7)),B=parseInt(B,16),$=parseInt($,16),ie=parseInt(ie,16)}}return{r:B,g:$,b:ie,a:ce,style:L}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(L,B,$,ie){if(isNaN(B)||isNaN($)||typeof L!="string")throw Fn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!b.call(this)){var ce=J(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;Y.call(this,{text:L,x:B,y:$,scale:Q,angle:ce,align:this.textAlign,maxWidth:ie})}},v.prototype.strokeText=function(L,B,$,ie){if(isNaN(B)||isNaN($)||typeof L!="string")throw Fn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){ie=isNaN(ie)?void 0:ie;var ce=J(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;Y.call(this,{text:L,x:B,y:$,scale:Q,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:ie})}},v.prototype.measureText=function(L){if(typeof L!="string")throw Fn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,$=this.pdf.internal.scaleFactor,ie=B.internal.getFontSize(),ce=B.getStringUnitWidth(L)*ie/B.internal.scaleFactor;return new function(Q){var be=(Q=Q||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this}({width:ce*=Math.round(96*$/72*1e4)/1e4})},v.prototype.scale=function(L,B){if(isNaN(L)||isNaN(B))throw Fn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new f(L,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply($)},v.prototype.rotate=function(L){if(isNaN(L))throw Fn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new f(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},v.prototype.translate=function(L,B){if(isNaN(L)||isNaN(B))throw Fn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new f(1,0,0,1,L,B);this.ctx.transform=this.ctx.transform.multiply($)},v.prototype.transform=function(L,B,$,ie,ce,Q){if(isNaN(L)||isNaN(B)||isNaN($)||isNaN(ie)||isNaN(ce)||isNaN(Q))throw Fn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new f(L,B,$,ie,ce,Q);this.ctx.transform=this.ctx.transform.multiply(be)},v.prototype.setTransform=function(L,B,$,ie,ce,Q){L=isNaN(L)?1:L,B=isNaN(B)?0:B,$=isNaN($)?0:$,ie=isNaN(ie)?1:ie,ce=isNaN(ce)?0:ce,Q=isNaN(Q)?0:Q,this.ctx.transform=new f(L,B,$,ie,ce,Q)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(L,B,$,ie,ce,Q,be,xe,je){var Ie=this.pdf.getImageProperties(L),Ve=1,Ge=1,Ye=1,Z=1;ie!==void 0&&xe!==void 0&&(Ye=xe/ie,Z=je/ce,Ve=Ie.width/ie*xe/ie,Ge=Ie.height/ce*je/ce),Q===void 0&&(Q=B,be=$,B=0,$=0),ie!==void 0&&xe===void 0&&(xe=ie,je=ce),ie===void 0&&xe===void 0&&(xe=Ie.width,je=Ie.height);var We=this.ctx.transform.decompose(),Ot=J(We.rotate.shx),ut=new f,Fe=(ut=(ut=(ut=ut.multiply(We.translate)).multiply(We.skew)).multiply(We.scale)).applyToRectangle(new c(Q-B*Ye,be-$*Z,ie*Ve,ce*Ge));if(this.autoPaging){for(var nt,Qe=T.call(this,Fe),ht=[],ft=0;ft<Qe.length;ft+=1)ht.indexOf(Qe[ft])===-1&&ht.push(Qe[ft]);D(ht);for(var zt=ht[0],Vt=ht[ht.length-1],ze=zt;ze<Vt+1;ze++){this.pdf.setPage(ze);var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mt=ze===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=ze===1?0:Je+(ze-2)*Rt;if(this.ctx.clip_path.length!==0){var pn=this.path;nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=z(nt,this.posX+this.margin[3],-Ze+mt+this.ctx.prevPageLastElemOffset),se.call(this,"fill",!0),this.path=pn}var Wt=JSON.parse(JSON.stringify(Fe));Wt=z([Wt],this.posX+this.margin[3],-Ze+mt+this.ctx.prevPageLastElemOffset)[0];var St=(ze>zt||ze<Vt)&&E.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,Rt,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Wt.x,Wt.y,Wt.w,Wt.h,null,null,Ot),St&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(L,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,Ot)};var T=function(L,B,$){var ie=[];B=B||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":ie.push(Math.floor((L.y+ce)/$)+1);break;case"arc":ie.push(Math.floor((L.y+ce-L.radius)/$)+1),ie.push(Math.floor((L.y+ce+L.radius)/$)+1);break;case"qct":var Q=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);ie.push(Math.floor((Q.y+ce)/$)+1),ie.push(Math.floor((Q.y+Q.h+ce)/$)+1);break;case"bct":var be=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);ie.push(Math.floor((be.y+ce)/$)+1),ie.push(Math.floor((be.y+be.h+ce)/$)+1);break;case"rect":ie.push(Math.floor((L.y+ce)/$)+1),ie.push(Math.floor((L.y+L.h+ce)/$)+1)}for(var xe=0;xe<ie.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<ie[xe];)A.call(this);return ie},A=function(){var L=this.fillStyle,B=this.strokeStyle,$=this.font,ie=this.lineCap,ce=this.lineWidth,Q=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=B,this.font=$,this.lineCap=ie,this.lineWidth=ce,this.lineJoin=Q},z=function(L,B,$){for(var ie=0;ie<L.length;ie++)switch(L[ie].type){case"bct":L[ie].x2+=B,L[ie].y2+=$;case"qct":L[ie].x1+=B,L[ie].y1+=$;default:L[ie].x+=B,L[ie].y+=$}return L},D=function(L){return L.sort(function(B,$){return B-$})},P=function(L,B){var $=this.fillStyle,ie=this.strokeStyle,ce=this.lineCap,Q=this.lineWidth,be=Math.abs(Q*this.ctx.transform.scaleX),xe=this.lineJoin;if(this.autoPaging){for(var je,Ie,Ve=JSON.parse(JSON.stringify(this.path)),Ge=JSON.parse(JSON.stringify(this.path)),Ye=[],Z=0;Z<Ge.length;Z++)if(Ge[Z].x!==void 0)for(var We=T.call(this,Ge[Z]),Ot=0;Ot<We.length;Ot+=1)Ye.indexOf(We[Ot])===-1&&Ye.push(We[Ot]);for(var ut=0;ut<Ye.length;ut++)for(;this.pdf.internal.getNumberOfPages()<Ye[ut];)A.call(this);D(Ye);for(var Fe=Ye[0],nt=Ye[Ye.length-1],Qe=Fe;Qe<nt+1;Qe++){this.pdf.setPage(Qe),this.fillStyle=$,this.strokeStyle=ie,this.lineCap=ce,this.lineWidth=be,this.lineJoin=xe;var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=Qe===1?this.posY+this.margin[0]:this.margin[0],zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=Qe===1?0:zt+(Qe-2)*Vt;if(this.ctx.clip_path.length!==0){var pt=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=z(je,this.posX+this.margin[3],-ze+ft+this.ctx.prevPageLastElemOffset),se.call(this,L,!0),this.path=pt}if(Ie=JSON.parse(JSON.stringify(Ve)),this.path=z(Ie,this.posX+this.margin[3],-ze+ft+this.ctx.prevPageLastElemOffset),B===!1||Qe===0){var mt=(Qe>Fe||Qe<nt)&&E.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,Vt,null).clip().discardPath()),se.call(this,L,B),mt&&this.pdf.restoreGraphicsState()}this.lineWidth=Q}this.path=Ve}else this.lineWidth=be,se.call(this,L,B),this.lineWidth=Q},se=function(L,B){if((L!=="stroke"||B||!j.call(this))&&(L==="stroke"||B||!b.call(this))){for(var $,ie,ce=[],Q=this.path,be=0;be<Q.length;be++){var xe=Q[be];switch(xe.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:xe,deltas:[],abs:[]});break;case"lt":var je=ce.length;if(Q[be-1]&&!isNaN(Q[be-1].x)&&($=[xe.x-Q[be-1].x,xe.y-Q[be-1].y],je>0)){for(;je>=0;je--)if(ce[je-1].close!==!0&&ce[je-1].begin!==!0){ce[je-1].deltas.push($),ce[je-1].abs.push(xe);break}}break;case"bct":$=[xe.x1-Q[be-1].x,xe.y1-Q[be-1].y,xe.x2-Q[be-1].x,xe.y2-Q[be-1].y,xe.x-Q[be-1].x,xe.y-Q[be-1].y],ce[ce.length-1].deltas.push($);break;case"qct":var Ie=Q[be-1].x+2/3*(xe.x1-Q[be-1].x),Ve=Q[be-1].y+2/3*(xe.y1-Q[be-1].y),Ge=xe.x+2/3*(xe.x1-xe.x),Ye=xe.y+2/3*(xe.y1-xe.y),Z=xe.x,We=xe.y;$=[Ie-Q[be-1].x,Ve-Q[be-1].y,Ge-Q[be-1].x,Ye-Q[be-1].y,Z-Q[be-1].x,We-Q[be-1].y],ce[ce.length-1].deltas.push($);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(xe)}}ie=B?null:L==="stroke"?"stroke":"fill";for(var Ot=!1,ut=0;ut<ce.length;ut++)if(ce[ut].arc)for(var Fe=ce[ut].abs,nt=0;nt<Fe.length;nt++){var Qe=Fe[nt];Qe.type==="arc"?ee.call(this,Qe.x,Qe.y,Qe.radius,Qe.startAngle,Qe.endAngle,Qe.counterclockwise,void 0,B,!Ot):le.call(this,Qe.x,Qe.y),Ot=!0}else if(ce[ut].close===!0)this.pdf.internal.out("h"),Ot=!1;else if(ce[ut].begin!==!0){var ht=ce[ut].start.x,ft=ce[ut].start.y;ue.call(this,ce[ut].deltas,ht,ft),Ot=!0}ie&&X.call(this,ie),B&&pe.call(this)}},he=function(L){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-$;case"top":return L+B-$;case"hanging":return L+B-2*$;case"middle":return L+B/2-$;default:return L}},oe=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(B,$){this.colorStops.push([B,$])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var ee=function(L,B,$,ie,ce,Q,be,xe,je){for(var Ie=I.call(this,$,ie,ce,Q),Ve=0;Ve<Ie.length;Ve++){var Ge=Ie[Ve];Ve===0&&(je?U.call(this,Ge.x1+L,Ge.y1+B):le.call(this,Ge.x1+L,Ge.y1+B)),k.call(this,L,B,Ge.x2,Ge.y2,Ge.x3,Ge.y3,Ge.x4,Ge.y4)}xe?pe.call(this):X.call(this,be)},X=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},pe=function(){this.pdf.clip(),this.pdf.discardPath()},U=function(L,B){this.pdf.internal.out(n(L)+" "+a(B)+" m")},Y=function(L){var B;switch(L.align){case"right":case"end":B="right";break;case"center":B="center";break;default:B="left"}var $,ie,ce,Q=this.pdf.getTextDimensions(L.text),be=he.call(this,L.y),xe=oe.call(this,be)-Q.h,je=this.ctx.transform.applyToPoint(new u(L.x,be));if(this.autoPaging){var Ie=this.ctx.transform.decompose(),Ve=new f;Ve=(Ve=(Ve=Ve.multiply(Ie.translate)).multiply(Ie.skew)).multiply(Ie.scale);for(var Ge=this.ctx.transform.applyToRectangle(new c(L.x,be,Q.w,Q.h)),Ye=Ve.applyToRectangle(new c(L.x,xe,Q.w,Q.h)),Z=T.call(this,Ye),We=[],Ot=0;Ot<Z.length;Ot+=1)We.indexOf(Z[Ot])===-1&&We.push(Z[Ot]);D(We);for(var ut=We[0],Fe=We[We.length-1],nt=ut;nt<Fe+1;nt++){this.pdf.setPage(nt);var Qe=nt===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[2],zt=ft-this.margin[0],Vt=this.pdf.internal.pageSize.width-this.margin[1],ze=Vt-this.margin[3],pt=nt===1?0:ht+(nt-2)*zt;if(this.ctx.clip_path.length!==0){var mt=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=z($,this.posX+this.margin[3],-1*pt+Qe),se.call(this,"fill",!0),this.path=mt}var Je=z([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-pt+Qe+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*L.scale),ce=this.lineWidth,this.lineWidth=ce*L.scale);var Rt=this.autoPaging!=="text";if(Rt||Je.y+Je.h<=ft){if(Rt||Je.y>=Qe&&Je.x<=Vt){var Ze=Rt?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Vt-Je.x)[0],pn=z([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-pt+Qe+this.ctx.prevPageLastElemOffset)[0],Wt=Rt&&(nt>ut||nt<Fe)&&E.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,zt,null).clip().discardPath()),this.pdf.text(Ze,pn.x,pn.y,{angle:L.angle,align:B,renderingMode:L.renderingMode}),Wt&&this.pdf.restoreGraphicsState()}}else Je.y<ft&&(this.ctx.prevPageLastElemOffset+=ft-Je.y);L.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=ce)}}else L.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*L.scale),ce=this.lineWidth,this.lineWidth=ce*L.scale),this.pdf.text(L.text,je.x+this.posX,je.y+this.posY,{angle:L.angle,align:B,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=ce)},le=function(L,B,$,ie){$=$||0,ie=ie||0,this.pdf.internal.out(n(L+$)+" "+a(B+ie)+" l")},ue=function(L,B,$){return this.pdf.lines(L,B,$,null,null)},k=function(L,B,$,ie,ce,Q,be,xe){this.pdf.internal.out([e(s($+L)),e(o(ie+B)),e(s(ce+L)),e(o(Q+B)),e(s(be+L)),e(o(xe+B)),"c"].join(" "))},I=function(L,B,$,ie){for(var ce=2*Math.PI,Q=Math.PI/2;B>$;)B-=ce;var be=Math.abs($-B);be<ce&&ie&&(be=ce-be);for(var xe=[],je=ie?-1:1,Ie=B;be>1e-5;){var Ve=Ie+je*Math.min(be,Q);xe.push(te.call(this,L,Ie,Ve)),be-=Math.abs(Ve-Ie),Ie=Ve}return xe},te=function(L,B,$){var ie=($-B)/2,ce=L*Math.cos(ie),Q=L*Math.sin(ie),be=ce,xe=-Q,je=be*be+xe*xe,Ie=je+be*ce+xe*Q,Ve=4/3*(Math.sqrt(2*je*Ie)-Ie)/(be*Q-xe*ce),Ge=be-Ve*xe,Ye=xe+Ve*be,Z=Ge,We=-Ye,Ot=ie+B,ut=Math.cos(Ot),Fe=Math.sin(Ot);return{x1:L*Math.cos(B),y1:L*Math.sin(B),x2:Ge*ut-Ye*Fe,y2:Ge*Fe+Ye*ut,x3:Z*ut-We*Fe,y3:Z*Fe+We*ut,x4:L*Math.cos($),y4:L*Math.sin($)}},J=function(L){return 180*L/Math.PI},ve=function(L,B,$,ie,ce,Q){var be=L+.5*($-L),xe=B+.5*(ie-B),je=ce+.5*($-ce),Ie=Q+.5*(ie-Q),Ve=Math.min(L,ce,be,je),Ge=Math.max(L,ce,be,je),Ye=Math.min(B,Q,xe,Ie),Z=Math.max(B,Q,xe,Ie);return new c(Ve,Ye,Ge-Ve,Z-Ye)},fe=function(L,B,$,ie,ce,Q,be,xe){var je,Ie,Ve,Ge,Ye,Z,We,Ot,ut,Fe,nt,Qe,ht,ft,zt=$-L,Vt=ie-B,ze=ce-$,pt=Q-ie,mt=be-ce,Je=xe-Q;for(Ie=0;Ie<41;Ie++)ut=(We=(Ve=L+(je=Ie/40)*zt)+je*((Ye=$+je*ze)-Ve))+je*(Ye+je*(ce+je*mt-Ye)-We),Fe=(Ot=(Ge=B+je*Vt)+je*((Z=ie+je*pt)-Ge))+je*(Z+je*(Q+je*Je-Z)-Ot),Ie==0?(nt=ut,Qe=Fe,ht=ut,ft=Fe):(nt=Math.min(nt,ut),Qe=Math.min(Qe,Fe),ht=Math.max(ht,ut),ft=Math.max(ft,Fe));return new c(Math.round(nt),Math.round(Qe),Math.round(ht-nt),Math.round(ft-Qe))},F=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,B,$=(L=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:B}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(wt.API),(function(t){var e=function(u){var c,f,p,g,v,_,b,j,E,T;for(f=[],p=0,g=(u+=c="\0\0\0\0".slice(u.length%4||4)).length;g>p;p+=4)(v=(u.charCodeAt(p)<<24)+(u.charCodeAt(p+1)<<16)+(u.charCodeAt(p+2)<<8)+u.charCodeAt(p+3))!==0?(_=(v=((v=((v=((v=(v-(T=v%85))/85)-(E=v%85))/85)-(j=v%85))/85)-(b=v%85))/85)%85,f.push(_+33,b+33,j+33,E+33,T+33)):f.push(122);return(function(A,z){for(var D=z;D>0;D--)A.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},n=function(u){var c,f,p,g,v,_=String,b="length",j=255,E="charCodeAt",T="slice",A="replace";for(u[T](-2),u=u[T](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),p=[],g=0,v=(u+=c="uuuuu"[T](u[b]%5||5))[b];v>g;g+=5)f=52200625*(u[E](g)-33)+614125*(u[E](g+1)-33)+7225*(u[E](g+2)-33)+85*(u[E](g+3)-33)+(u[E](g+4)-33),p.push(j&f>>24,j&f>>16,j&f>>8,j&f);return(function(z,D){for(var P=D;P>0;P--)z.pop()})(p,c[b]),_.fromCharCode.apply(_,p)},a=function(u){return u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(u){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),c.test(u)===!1)return"";for(var f="",p=0;p<u.length;p+=2)f+=String.fromCharCode("0x"+(u[p]+u[p+1]));return f},o=function(u){for(var c=new Uint8Array(u.length),f=u.length;f--;)c[f]=u.charCodeAt(f);return(c=$0(c)).reduce(function(p,g){return p+String.fromCharCode(g)},"")};t.processDataByFilters=function(u,c){var f=0,p=u||"",g=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":p=n(p),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=e(p),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=s(p),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=a(p),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=o(p),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:p,reverseChain:g.reverse().join(" ")}}})(wt.API),(function(t){t.loadFile=function(e,n,a){return(function(s,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(f,p,g){var v=new XMLHttpRequest,_=0,b=function(j){var E=j.length,T=[],A=String.fromCharCode;for(_=0;_<E;_+=1)T.push(A(255&j.charCodeAt(_)));return T.join("")};if(v.open("GET",f,!p),v.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(v.onload=function(){v.status===200?g(b(this.responseText)):g(void 0)}),v.send(null),p&&v.status===200)return b(v.responseText)})(s,o,u)}catch{}return c})(e,n,a)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(wt.API),(function(t){function e(){return(It.html2canvas?Promise.resolve(It.html2canvas):Mg(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function n(){return(It.DOMPurify?Promise.resolve(It.DOMPurify):Mg(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var a=function(c){var f=Tn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(c,f){var p=document.createElement(c);for(var g in f.className&&(p.className=f.className),f.innerHTML&&f.dompurify&&(p.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)p.style[g]=f.style[g];return p},o=function c(f,p){for(var g=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),v=f.firstChild;v;v=v.nextSibling)p!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||g.appendChild(c(v,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(g.width=f.width,g.height=f.height,g.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(g.value=f.value),g.addEventListener("load",function(){g.scrollTop=f.scrollTop,g.scrollLeft=f.scrollLeft},!0)),g},u=function c(f){var p=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),g=c.convert(Promise.resolve(),p);return(g=g.setProgress(1,c,1,[c])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(c,f){return c.__proto__=f||u.prototype,c},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(p){switch(a(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(n).then(function(p){return this.set({src:s("div",{innerHTML:c,dompurify:p})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},u.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,f(this.prop.container,p)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var p=this.opt.jsPDF,g=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=g,g)for(var b=0;b<g.length;++b){var j=g[b],E=j.src.find(function(T){return T.format==="truetype"});E&&p.addFont(E.url,j.ref.name,j.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,p.context2d.save(!0),f(this.prop.container,_)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(c,f,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},u.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},u.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},u.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(c){if(a(c)!=="object")return this;var f=Object.keys(c||{}).map(function(p){if(p in u.template.prop)return function(){this.prop[p]=c[p]};switch(p){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[p]=c[p]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(c,f){return this.then(function(){var p=c in u.template.prop?this.prop[c]:this.opt[c];return f?f(p):p})},u.prototype.setMargin=function(c){return this.then(function(){switch(a(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},u.prototype.setPageSize=function(c){function f(p,g){return Math.floor(p*g/72*96)}return this.then(function(){(c=c||wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},u.prototype.setProgress=function(c,f,p,g){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),p!=null&&(this.progress.n=p),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(c,f,p,g){return this.setProgress(c?this.progress.val+c:null,f||null,p?this.progress.n+p:null,g?this.progress.stack.concat(g):null)},u.prototype.then=function(c,f){var p=this;return this.thenCore(c,f,function(g,v){return p.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(_){return p.updateProgress(null,g),_}).then(g,v).then(function(_){return p.updateProgress(1),_})})},u.prototype.thenCore=function(c,f,p){p=p||Promise.prototype.then;var g=this;c&&(c=c.bind(g)),f&&(f=f.bind(g));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:u.convert(Object.assign({},g),Promise.prototype),_=p.call(v,c,f);return u.convert(_,g.__proto__)},u.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},u.prototype.thenList=function(c){var f=this;return c.forEach(function(p){f=f.thenCore(p)}),f},u.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return u.convert(f,this)},u.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},u.prototype.error=function(c){return this.then(function(){throw new Error(c)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,wt.getPageSize=function(c,f,p){if(Tn(c)==="object"){var g=c;c=g.orientation,f=g.unit||f,p=g.format||p}f=f||"mm",p=p||"a4",c=(""+(c||"P")).toLowerCase();var v,_=(""+p).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+f}var j,E=0,T=0;if(b.hasOwnProperty(_))E=b[_][1]/v,T=b[_][0]/v;else try{E=p[1],T=p[0]}catch{throw new Error("Invalid format: "+p)}if(c==="p"||c==="portrait")c="p",T>E&&(j=T,T=E,E=j);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",E>T&&(j=T,T=E,E=j)}return{width:T,height:E,unit:f,k:v,orientation:c}},t.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Zg):null;var p=new u(f);return f.worker?p:p.from(c).doCallback()}})(wt.API),wt.API.addJS=function(t){var e,n,a=(function(s){for(var o="",u=0;u<s.length;u++){var c=s[u];if(c==="("||c===")"){for(var f=0,p=u-1;p>=0&&s[p]==="\\";p--)f++;o+=f%2==0?"\\"+c:c}else o+=c}return o})(t);return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+a+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),o=0;o<s.length;o++){var u=s[o],c=a.exec(u);if(c!=null){var f=c[1];n.internal.newObjectDeferredBegin(f,!1)}n.internal.write(u)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,g=[];for(o=0;o<p;o++){var v=n.internal.newObject();g.push(v);var _=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var b=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<g.length;o++)n.internal.write("(page_"+(o+1)+")"+g[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+b+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(a,s,o){var u={title:s,options:o,children:[]};return a==null&&(a=this.root),a.children.push(u),u},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(a){a.id=n.internal.newObjectDeferred();for(var s=0;s<a.children.length;s++)this.genIds_r(a.children[s])},n.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},n.outline.renderItems=function(a){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<a.children.length;o++){var u=a.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(a)),o>0&&this.line("/Prev "+this.makeRef(a.children[o-1])),o<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var f=n.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var p=0;p<a.children.length;p++)this.renderItems(a.children[p])},n.outline.line=function(a){this.ctx.val+=a+`\r
`},n.outline.makeRef=function(a){return a.id+" 0 R"},n.outline.makeString=function(a){return"("+n.internal.pdfEscape(a)+")"},n.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(a,s){for(var o=0;o<s.children.length;o++)a.count++,this.count_r(a,s.children[o]);return a.count}}])})(wt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,a,s,o,u,c){var f,p=this.decode.DCT_DECODE,g=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=u||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,f=(function(v){for(var _,b=256*v.charCodeAt(4)+v.charCodeAt(5),j=v.length,E={width:0,height:0,numcomponents:1},T=4;T<j;T+=2){if(T+=b,e.indexOf(v.charCodeAt(T+1))!==-1){_=256*v.charCodeAt(T+5)+v.charCodeAt(T+6),E={width:256*v.charCodeAt(T+7)+v.charCodeAt(T+8),height:_,numcomponents:v.charCodeAt(T+9)};break}b=256*v.charCodeAt(T+2)+v.charCodeAt(T+3)}return E})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}g={data:n,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:p,index:a,alias:s}}return g}})(wt.API),wt.API.processPNG=function(t,e,n,a){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var s,o=X7(t,{checkCrc:!0}),u=o.width,c=o.height,f=o.channels,p=o.palette,g=o.depth;s=p&&f===1?(function(ee){for(var X=ee.width,pe=ee.height,U=ee.data,Y=ee.palette,le=ee.depth,ue=!1,k=[],I=[],te=void 0,J=!1,ve=0,fe=0;fe<Y.length;fe++){var F=wb(Y[fe],4),L=F[0],B=F[1],$=F[2],ie=F[3];k.push(L,B,$),ie!=null&&(ie===0?(ve++,I.length<1&&I.push(fe)):ie<255&&(J=!0))}if(J||ve>1){ue=!0,I=void 0;var ce=X*pe;te=new Uint8Array(ce);for(var Q=new DataView(U.buffer),be=0;be<ce;be++){var xe=t0(Q,be,le),je=wb(Y[xe],4)[3];te[be]=je}}else ve===0&&(I=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ue?8:void 0,colorBytes:U,alphaBytes:te,needSMask:ue,palette:k,mask:I}})(o):f===2||f===4?(function(ee){for(var X=ee.data,pe=ee.width,U=ee.height,Y=ee.channels,le=ee.depth,ue=Y===2?"DeviceGray":"DeviceRGB",k=Y-1,I=pe*U,te=k,J=I*te,ve=1*I,fe=Math.ceil(J*le/8),F=Math.ceil(ve*le/8),L=new Uint8Array(fe),B=new Uint8Array(F),$=new DataView(X.buffer),ie=new DataView(L.buffer),ce=new DataView(B.buffer),Q=!1,be=0;be<I;be++){for(var xe=be*Y,je=0;je<te;je++)S5(ie,t0($,xe+je,le),be*te+je,le);var Ie=t0($,xe+te,le);Ie<(1<<le)-1&&(Q=!0),S5(ce,Ie,1*be,le)}return{colorSpace:ue,colorsPerPixel:k,sMaskBitsPerComponent:Q?le:void 0,colorBytes:L,alphaBytes:B,needSMask:Q}})(o):(function(ee){var X=ee.data,pe=ee.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:pe,colorsPerPixel:pe==="DeviceGray"?1:3,colorBytes:X instanceof Uint16Array?(function(U){for(var Y=U.length,le=new Uint8Array(2*Y),ue=new DataView(le.buffer,le.byteOffset,le.byteLength),k=0;k<Y;k++)ue.setUint16(2*k,U[k],!1);return le})(X):X,needSMask:!1}})(o);var v,_,b,j=s,E=j.colorSpace,T=j.colorsPerPixel,A=j.sMaskBitsPerComponent,z=j.colorBytes,D=j.alphaBytes,P=j.needSMask,se=j.palette,he=j.mask,oe=null;return a!==wt.API.image_compression.NONE&&typeof $0=="function"?(oe=(function(ee){var X;switch(ee){case wt.API.image_compression.FAST:X=11;break;case wt.API.image_compression.MEDIUM:X=13;break;case wt.API.image_compression.SLOW:X=14;break;default:X=12}return X})(a),v=this.decode.FLATE_DECODE,_="/Predictor ".concat(oe," /Colors ").concat(T," /BitsPerComponent ").concat(g," /Columns ").concat(u),t=y5(z,Math.ceil(u*T*g/8),T,g,a),P&&(b=y5(D,Math.ceil(u*A/8),1,A,a))):(v=void 0,_=void 0,t=z,P&&(b=D)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:n,data:t,index:e,filter:v,decodeParameters:_,transparency:he,palette:se,sMask:b,predictor:oe,width:u,height:c,bitsPerComponent:g,sMaskBitsPerComponent:A,colorSpace:E}}},(function(t){t.processGIF89A=function(e,n,a,s){var o=new yL(e),u=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var p={data:f,width:u,height:c},g=new n0(100).encode(p,100);return t.processJPEG.call(this,g,n,a,s)},t.processGIF87A=t.processGIF89A})(wt.API),Ts.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:a,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ts.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(n){Fn.log("bit decode error:"+n)}},Ts.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),u=a*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[u+4*c]=f.blue,this.data[u+4*c+1]=f.green,this.data[u+4*c+2]=f.red,this.data[u+4*c+3]=255}n!==0&&(this.pos+=4-n)}},Ts.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var o=this.datav.getUint8(this.pos++,!0),u=a*this.width*4+2*s*4,c=o>>4,f=15&o,p=this.palette[c];if(this.data[u]=p.blue,this.data[u+1]=p.green,this.data[u+2]=p.red,this.data[u+3]=255,2*s+1>=this.width)break;p=this.palette[f],this.data[u+4]=p.blue,this.data[u+4+1]=p.green,this.data[u+4+2]=p.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},Ts.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*a;if(s<this.palette.length){var u=this.palette[s];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},Ts.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,p=o>>15?255:0,g=a*this.width*4+4*s;this.data[g]=f,this.data[g+1]=c,this.data[g+2]=u,this.data[g+3]=p}this.pos+=t}},Ts.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&e)/e*255|0,f=(u>>5&n)/n*255|0,p=(u>>11)/e*255|0,g=s*this.width*4+4*o;this.data[g]=p,this.data[g+1]=f,this.data[g+2]=c,this.data[g+3]=255}this.pos+=t}},Ts.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*n;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=a,this.data[u+3]=255}this.pos+=this.width%4}},Ts.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*n;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=a,this.data[c+3]=u}},Ts.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,a,s){var o=new Ts(e,!1),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},p=new n0(100).encode(f,100);return t.processJPEG.call(this,p,n,a,s)}})(wt.API),j5.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,a,s){var o=new j5(e),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},p=new n0(100).encode(f,100);return t.processJPEG.call(this,p,n,a,s)}})(wt.API),wt.API.processRGBA=function(t,e,n){for(var a=t.data,s=a.length,o=new Uint8Array(s/4*3),u=new Uint8Array(s/4),c=0,f=0,p=0;p<s;p+=4){var g=a[p],v=a[p+1],_=a[p+2],b=a[p+3];o[c++]=g,o[c++]=v,o[c++]=_,u[f++]=b}var j=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:j,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},wt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Iu=wt.API,rp=Iu.getCharWidthsArray=function(t,e){var n,a,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:s.metadata.Unicode.widths,f=c.fof?c.fof:1,p=e.kerning?e.kerning:s.metadata.Unicode.kerning,g=p.fof?p.fof:1,v=e.doKerning!==!1,_=0,b=t.length,j=0,E=c[0]||f,T=[];for(n=0;n<b;n++)a=t.charCodeAt(n),typeof s.metadata.widthOfString=="function"?T.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(a))+u*(1e3/o)||0)/1e3):(_=v&&Tn(p[a])==="object"&&!isNaN(parseInt(p[a][j],10))?p[a][j]/g:0,T.push((c[a]||E)/f+_)),j=a;return T},m5=Iu.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),a=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Iu.processArabic&&(t=Iu.processArabic(t)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(t,n,s)/n:rp.apply(this,arguments).reduce(function(o,u){return o+u},0)},g5=function(t,e,n,a){for(var s=[],o=0,u=t.length,c=0;o!==u&&c+e[o]<n;)c+=e[o],o++;s.push(t.slice(0,o));var f=o;for(c=0;o!==u;)c+e[o]>a&&(s.push(t.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&s.push(t.slice(f,o)),s},v5=function(t,e,n){n||(n={});var a,s,o,u,c,f,p,g=[],v=[g],_=n.textIndent||0,b=0,j=0,E=t.split(" "),T=rp.apply(this,[" ",n])[0];if(f=n.lineIndent===-1?E[0].length+2:n.lineIndent||0){var A=Array(f).join(" "),z=[];E.map(function(P){(P=P.split(/\s*\n/)).length>1?z=z.concat(P.map(function(se,he){return(he&&se.length?`
`:"")+se})):z.push(P[0])}),E=z,f=m5.apply(this,[A,n])}for(o=0,u=E.length;o<u;o++){var D=0;if(a=E[o],f&&a[0]==`
`&&(a=a.substr(1),D=1),_+b+(j=(s=rp.apply(this,[a,n])).reduce(function(P,se){return P+se},0))>e||D){if(j>e){for(c=g5.apply(this,[a,s,e-(_+b),e]),g.push(c.shift()),g=[c.pop()];c.length;)v.push([c.shift()]);j=s.slice(a.length-(g[0]?g[0].length:0)).reduce(function(P,se){return P+se},0)}else g=[a];v.push(g),_=j+f,b=T}else g.push(a),_+=b+j,b=T}return p=f?function(P,se){return(se?A:"")+P.join(" ")}:function(P){return P.join(" ")},v.map(p)},Iu.splitTextToSize=function(t,e,n){var a,s=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var v=this.internal.getFont(g.fontName,g.fontStyle),_="Unicode";return v.metadata[_]?{widths:v.metadata[_].widths||{0:1},kerning:v.metadata[_].kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);a=Array.isArray(t)?t:String(t).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/s;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=n.lineIndent;var c,f,p=[];for(c=0,f=a.length;c<f;c++)p=p.concat(v5.apply(this,[a[c],u,o]));return p},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",a={},s={},o=0;o<16;o++)a[n[o]]=e[o],s[e[o]]=n[o];var u=function(_){return"0x"+parseInt(_,10).toString(16)},c=t.__fontmetrics__.compress=function(_){var b,j,E,T,A=["{"];for(var z in _){if(b=_[z],isNaN(parseInt(z,10))?j="'"+z+"'":(z=parseInt(z,10),j=(j=u(z).slice(2)).slice(0,-1)+s[j.slice(-1)]),typeof b=="number")b<0?(E=u(b).slice(3),T="-"):(E=u(b).slice(2),T=""),E=T+E.slice(0,-1)+s[E.slice(-1)];else{if(Tn(b)!=="object")throw new Error("Don't know what to do with value type "+Tn(b)+".");E=c(b)}A.push(j+E)}return A.push("}"),A.join("")},f=t.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,j,E,T,A={},z=1,D=A,P=[],se="",he="",oe=_.length-1,ee=1;ee<oe;ee+=1)(T=_[ee])=="'"?b?(E=b.join(""),b=void 0):b=[]:b?b.push(T):T=="{"?(P.push([D,E]),D={},E=void 0):T=="}"?((j=P.pop())[0][j[1]]=D,E=void 0,D=j[0]):T=="-"?z=-1:E===void 0?a.hasOwnProperty(T)?(se+=a[T],E=parseInt(se,16)*z,z=1,se=""):se+=T:a.hasOwnProperty(T)?(he+=a[T],D[E]=parseInt(he,16)*z,z=1,E=void 0,he=""):he+=T;return A},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},v={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(_){var b=_.font,j=v.Unicode[b.postScriptName];j&&(b.metadata.Unicode={},b.metadata.Unicode.widths=j.widths,b.metadata.Unicode.kerning=j.kerning);var E=g.Unicode[b.postScriptName];E&&(b.metadata.Unicode.encoding=E,b.encoding=E.codePages[0])}])})(wt.API),(function(t){var e=function(n){for(var a=n.length,s=new Uint8Array(a),o=0;o<a;o++)s[o]=n.charCodeAt(o);return s};t.API.events.push(["addFont",function(n){var a=void 0,s=n.font,o=n.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(a=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(pp(c)),u.metadata=t.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,a)}}])})(wt),wt.API.addSvgAsImage=function(t,e,n,a,s,o,u,c){if(isNaN(e)||isNaN(n))throw Fn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Fn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=a,f.height=s;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return(It.canvg?Promise.resolve(It.canvg):Mg(()=>import("./index.es-C6m9xr78.js"),[])).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(p,t,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(g)}).then(function(){v.addImage(f.toDataURL("image/jpeg",1),e,n,a,s,u,c)})},wt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var s=0;s<this.internal.pages[a].length;s++)this.internal.pages[a][s]=this.internal.pages[a][s].replace(e,n);return this},wt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var a,s,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),f=[],p=0,g=0,v=0;function _(j,E){var T,A=!1;for(T=0;T<j.length;T+=1)j[T]===E&&(A=!0);return A}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var b=c.length;for(v=0;v<b;v+=1)n[c[v]].value=n[c[v]].defaultValue,n[c[v]].explicitSet=!1}if(Tn(t)==="object"){for(s in t)if(o=t[s],_(c,s)&&o!==void 0){if(n[s].type==="boolean"&&typeof o=="boolean")n[s].value=o;else if(n[s].type==="name"&&_(n[s].valueSet,o))n[s].value=o;else if(n[s].type==="integer"&&Number.isInteger(o))n[s].value=o;else if(n[s].type==="array"){for(p=0;p<o.length;p+=1)if(a=!0,o[p].length===1&&typeof o[p][0]=="number")f.push(String(o[p]-1));else if(o[p].length>1){for(g=0;g<o[p].length;g+=1)typeof o[p][g]!="number"&&(a=!1);a===!0&&f.push([o[p][0]-1,o[p][1]-1].join(" "))}n[s].value="["+f.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,E=[];for(j in n)n[j].explicitSet===!0&&(n[j].type==="name"?E.push("/"+j+" /"+n[j].value):E.push("/"+j+" "+n[j].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},wt.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",wL),this.internal.events.subscribe("postPutResources",bL)),this},(function(t){var e=t.API,n=e.pdfEscape16=function(o,u){for(var c,f=u.metadata.Unicode.widths,p=["","0","00","000","0000"],g=[""],v=0,_=o.length;v<_;++v){if(c=u.metadata.characterToGlyph(o.charCodeAt(v)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=o.charCodeAt(v),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return g.join("");c=c.toString(16),g.push(p[4-c.length],c)}return g.join("")},a=function(o){var u,c,f,p,g,v,_;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],v=0,_=(c=Object.keys(o).sort(function(b,j){return b-j})).length;v<_;v++)u=c[v],f.length>=100&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(p=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+p+">"));return f.length&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,p=u.newObject,g=u.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var v=c.metadata.Unicode.widths,_=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",j=0;j<_.length;j++)b+=String.fromCharCode(_[j]);var E=p();g({data:b,addLength1:!0,objectId:E}),f("endobj");var T=p();g({data:a(c.metadata.toUnicode),addLength1:!0,objectId:T}),f("endobj");var A=p();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Vu(c.fontName)),f("/FontFile2 "+E+" 0 R"),f("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var z=p();f("<<"),f("/Type /Font"),f("/BaseFont /"+Vu(c.fontName)),f("/FontDescriptor "+A+" 0 R"),f("/W "+t.API.PDFObject.convert(v)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=p(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+T+" 0 R"),f("/BaseFont /"+Vu(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+z+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,p=u.newObject,g=u.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var v=c.metadata.rawData,_="",b=0;b<v.length;b++)_+=String.fromCharCode(v[b]);var j=p();g({data:_,addLength1:!0,objectId:j}),f("endobj");var E=p();g({data:a(c.metadata.toUnicode),addLength1:!0,objectId:E}),f("endobj");var T=p();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+j+" 0 R"),f("/Flags 96"),f("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+Vu(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=p();for(var A=0;A<c.metadata.hmtx.widths.length;A++)c.metadata.hmtx.widths[A]=parseInt(c.metadata.hmtx.widths[A]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+Vu(c.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var s=function(o){var u,c=o.text||"",f=o.x,p=o.y,g=o.options||{},v=o.mutex||{},_=v.pdfEscape,b=v.activeFontKey,j=v.fonts,E=b,T="",A=0,z="",D=j[E].encoding;if(j[E].encoding!=="Identity-H")return{text:c,x:f,y:p,options:g,mutex:v};for(z=c,E=b,Array.isArray(c)&&(z=c[0]),A=0;A<z.length;A+=1)j[E].metadata.hasOwnProperty("cmap")&&(u=j[E].metadata.cmap.unicode.codeMap[z[A].charCodeAt(0)]),u||z[A].charCodeAt(0)<256&&j[E].metadata.hasOwnProperty("Unicode")?T+=z[A]:T+="";var P="";return parseInt(E.slice(1))<14||D==="WinAnsiEncoding"?P=_(T,E).split("").map(function(se){return se.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(P=n(T,j[E])),v.isHex=!0,{text:P,x:f,y:p,options:g,mutex:v}};e.events.push(["postProcessText",function(o){var u=o.text||"",c=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var p=0;for(p=0;p<u.length;p+=1)Array.isArray(u[p])&&u[p].length===3?c.push([s(Object.assign({},f,{text:u[p][0]})).text,u[p][1],u[p][2]]):c.push(s(Object.assign({},f,{text:u[p]})).text);o.text=c}else o.text=s(Object.assign({},f,{text:u})).text}])})(wt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,a){return e.call(this),this.internal.vFS[n]=a,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(wt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(a){var s,o,u,c,f,p,g,v=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),z=!1,D=0;this.__bidiEngine__={};var P=function(U){var Y=U.charCodeAt(),le=Y>>8,ue=E[le];return ue!==void 0?v[256*ue+(255&Y)]:le===252||le===253?"AL":A.test(le)?"L":le===8?"R":"N"},se=function(U){for(var Y,le=0;le<U.length;le++){if((Y=P(U.charAt(le)))==="L")return!1;if(Y==="R")return!0}return!1},he=function(U,Y,le,ue){var k,I,te,J,ve=Y[ue];switch(ve){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":z=!1;break;case"N":case"AN":break;case"EN":z&&(ve="AN");break;case"AL":z=!0,ve="R";break;case"WS":case"BN":ve="N";break;case"CS":ue<1||ue+1>=Y.length||(k=le[ue-1])!=="EN"&&k!=="AN"||(I=Y[ue+1])!=="EN"&&I!=="AN"?ve="N":z&&(I="AN"),ve=I===k?I:"N";break;case"ES":ve=(k=ue>0?le[ue-1]:"B")==="EN"&&ue+1<Y.length&&Y[ue+1]==="EN"?"EN":"N";break;case"ET":if(ue>0&&le[ue-1]==="EN"){ve="EN";break}if(z){ve="N";break}for(te=ue+1,J=Y.length;te<J&&Y[te]==="ET";)te++;ve=te<J&&Y[te]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(J=Y.length,te=ue+1;te<J&&Y[te]==="NSM";)te++;if(te<J){var fe=U[ue],F=fe>=1425&&fe<=2303||fe===64286;if(k=Y[te],F&&(k==="R"||k==="AL")){ve="R";break}}}ve=ue<1||(k=Y[ue-1])==="B"?"N":le[ue-1];break;case"B":z=!1,s=!0,ve=D;break;case"S":o=!0,ve="N"}return ve},oe=function(U,Y,le){var ue=U.split("");return le&&ee(ue,le,{hiLevel:D}),ue.reverse(),Y&&Y.reverse(),ue.join("")},ee=function(U,Y,le){var ue,k,I,te,J,ve=-1,fe=U.length,F=0,L=[],B=D?b:_,$=[];for(z=!1,s=!1,o=!1,k=0;k<fe;k++)$[k]=P(U[k]);for(I=0;I<fe;I++){if(J=F,L[I]=he(U,$,L,I),ue=240&(F=B[J][j[L[I]]]),F&=15,Y[I]=te=B[F][5],ue>0)if(ue===16){for(k=ve;k<I;k++)Y[k]=1;ve=-1}else ve=-1;if(B[F][6])ve===-1&&(ve=I);else if(ve>-1){for(k=ve;k<I;k++)Y[k]=te;ve=-1}$[I]==="B"&&(Y[I]=0),le.hiLevel|=te}o&&(function(ie,ce,Q){for(var be=0;be<Q;be++)if(ie[be]==="S"){ce[be]=D;for(var xe=be-1;xe>=0&&ie[xe]==="WS";xe--)ce[xe]=D}})($,Y,fe)},X=function(U,Y,le,ue,k){if(!(k.hiLevel<U)){if(U===1&&D===1&&!s)return Y.reverse(),void(le&&le.reverse());for(var I,te,J,ve,fe=Y.length,F=0;F<fe;){if(ue[F]>=U){for(J=F+1;J<fe&&ue[J]>=U;)J++;for(ve=F,te=J-1;ve<te;ve++,te--)I=Y[ve],Y[ve]=Y[te],Y[te]=I,le&&(I=le[ve],le[ve]=le[te],le[te]=I);F=J}F++}}},pe=function(U,Y,le){var ue=U.split(""),k={hiLevel:D};return le||(le=[]),ee(ue,le,k),(function(I,te,J){if(J.hiLevel!==0&&g)for(var ve,fe=0;fe<I.length;fe++)te[fe]===1&&(ve=T.indexOf(I[fe]))>=0&&(I[fe]=T[ve+1])})(ue,le,k),X(2,ue,Y,le,k),X(1,ue,Y,le,k),ue.join("")};return this.__bidiEngine__.doBidiReorder=function(U,Y,le){if((function(k,I){if(I)for(var te=0;te<k.length;te++)I[te]=te;c===void 0&&(c=se(k)),p===void 0&&(p=se(k))})(U,Y),u||!f||p)if(u&&f&&c^p)D=c?1:0,U=oe(U,Y,le);else if(!u&&f&&p)D=c?1:0,U=pe(U,Y,le),U=oe(U,Y);else if(!u||c||f||p){if(u&&!f&&c^p)U=oe(U,Y),c?(D=0,U=pe(U,Y,le)):(D=1,U=pe(U,Y,le),U=oe(U,Y));else if(u&&c&&!f&&p)D=1,U=pe(U,Y,le),U=oe(U,Y);else if(!u&&!f&&c^p){var ue=g;c?(D=1,U=pe(U,Y,le),D=0,g=!1,U=pe(U,Y,le),g=ue):(D=0,U=pe(U,Y,le),U=oe(U,Y),D=1,g=!1,U=pe(U,Y,le),g=ue,U=oe(U,Y))}}else D=0,U=pe(U,Y,le);else D=c?1:0,U=pe(U,Y,le);return U},this.__bidiEngine__.setOptions=function(U){U&&(u=U.isInputVisual,f=U.isOutputVisual,c=U.isInputRtl,p=U.isOutputRtl,g=U.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(a){var s=a.text;a.x,a.y;var o=a.options||{};a.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(u=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?u.push([n.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):u.push([n.doBidiReorder(s[c])]);a.text=u}else a.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])})(wt),wt.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Fl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new ML(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new xL(this.contents),this.head=new SL(this),this.name=new CL(this),this.cmap=new Yx(this),this.toUnicode={},this.hhea=new NL(this),this.maxp=new kL(this),this.hmtx=new LL(this),this.post=new AL(this),this.os2=new jL(this),this.loca=new DL(this),this.glyf=new TL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,a,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,f,p;for(p=[],u=0,c=(f=this.bbox).length;u<c;u++)e=f[u],p.push(Math.round(e*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(a=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,a){var s,o,u,c;for(u=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)s=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(s))+a*(1e3/n)||0;return u*(n/1e3)},t.prototype.lineHeight=function(e,n){var a;return n==null&&(n=!1),a=n?this.lineGap:0,(this.ascender+a-this.decender)/1e3*e},t})();var Is,Fl=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,a;for(a=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)a[n]=String.fromCharCode(this.readByte());return a.join("")},t.prototype.writeString=function(e){var n,a,s;for(s=[],n=0,a=e.length;0<=a?n<a:n>a;n=0<=a?++n:--n)s.push(this.writeByte(e.charCodeAt(n)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,a,s,o,u,c,f;return e=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^a)+4294967296*(255^s)+16777216*(255^o)+65536*(255^u)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*n+1099511627776*a+4294967296*s+16777216*o+65536*u+256*c+f},t.prototype.writeLongLong=function(e){var n,a;return n=Math.floor(e/4294967296),a=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,a;for(n=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)n.push(this.readByte());return n},t.prototype.write=function(e){var n,a,s,o;for(o=[],a=0,s=e.length;a<s;a++)n=e[a],o.push(this.writeByte(n));return o},t})(),xL=(function(){var t;function e(n){var a,s,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)a={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[a.tag]=a}return e.prototype.encode=function(n){var a,s,o,u,c,f,p,g,v,_,b,j,E;for(E in b=Object.keys(n).length,f=Math.log(2),v=16*Math.floor(Math.log(b)/f),u=Math.floor(v/f),g=16*b-v,(s=new Fl).writeInt(this.scalarType),s.writeShort(b),s.writeShort(v),s.writeShort(u),s.writeShort(g),o=16*b,p=s.pos+o,c=null,j=[],n)for(_=n[E],s.writeString(E),s.writeInt(t(_)),s.writeInt(p),s.writeInt(_.length),j=j.concat(_),E==="head"&&(c=p),p+=_.length;p%4;)j.push(0),p++;return s.write(j),a=2981146554-t(s.data),s.pos=c+8,s.writeUInt32(a),s.data},t=function(n){var a,s,o,u;for(n=Kx.call(n);n.length%4;)n.push(0);for(o=new Fl(n),s=0,a=0,u=n.length;a<u;a=a+=4)s+=o.readUInt32();return 4294967295&s},e})(),_L={}.hasOwnProperty,mo=function(t,e){for(var n in e)_L.call(e,n)&&(t[n]=e[n]);function a(){this.constructor=t}return a.prototype=e.prototype,t.prototype=new a,t.__super__=e.prototype,t};Is=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var SL=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mo(t,Is),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Fl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),A5=(function(){function t(e,n){var a,s,o,u,c,f,p,g,v,_,b,j,E,T,A,z,D;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),v=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(b=e.readUInt16(),_=b/2,e.pos+=6,o=(function(){var P,se;for(se=[],f=P=0;0<=_?P<_:P>_;f=0<=_?++P:--P)se.push(e.readUInt16());return se})(),e.pos+=2,E=(function(){var P,se;for(se=[],f=P=0;0<=_?P<_:P>_;f=0<=_?++P:--P)se.push(e.readUInt16());return se})(),p=(function(){var P,se;for(se=[],f=P=0;0<=_?P<_:P>_;f=0<=_?++P:--P)se.push(e.readUInt16());return se})(),g=(function(){var P,se;for(se=[],f=P=0;0<=_?P<_:P>_;f=0<=_?++P:--P)se.push(e.readUInt16());return se})(),s=(this.length-e.pos+this.offset)/2,c=(function(){var P,se;for(se=[],f=P=0;0<=s?P<s:P>s;f=0<=s?++P:--P)se.push(e.readUInt16());return se})(),f=A=0,D=o.length;A<D;f=++A)for(T=o[f],a=z=j=E[f];j<=T?z<=T:z>=T;a=j<=T?++z:--z)g[f]===0?u=a+p[f]:(u=c[g[f]/2+(a-j)-(_-f)]||0)!==0&&(u+=p[f]),this.codeMap[a]=65535&u}e.pos=v}return t.encode=function(e,n){var a,s,o,u,c,f,p,g,v,_,b,j,E,T,A,z,D,P,se,he,oe,ee,X,pe,U,Y,le,ue,k,I,te,J,ve,fe,F,L,B,$,ie,ce,Q,be,xe,je,Ie,Ve;switch(ue=new Fl,u=Object.keys(e).sort(function(Ge,Ye){return Ge-Ye}),n){case"macroman":for(E=0,T=(function(){var Ge=[];for(j=0;j<256;++j)Ge.push(0);return Ge})(),z={0:0},o={},k=0,ve=u.length;k<ve;k++)z[xe=e[s=u[k]]]==null&&(z[xe]=++E),o[s]={old:e[s],new:z[e[s]]},T[s]=z[e[s]];return ue.writeUInt16(1),ue.writeUInt16(0),ue.writeUInt32(12),ue.writeUInt16(0),ue.writeUInt16(262),ue.writeUInt16(0),ue.write(T),{charMap:o,subtable:ue.data,maxGlyphID:E+1};case"unicode":for(Y=[],v=[],D=0,z={},a={},A=p=null,I=0,fe=u.length;I<fe;I++)z[se=e[s=u[I]]]==null&&(z[se]=++D),a[s]={old:se,new:z[se]},c=z[se]-s,A!=null&&c===p||(A&&v.push(A),Y.push(s),p=c),A=s;for(A&&v.push(A),v.push(65535),Y.push(65535),pe=2*(X=Y.length),ee=2*Math.pow(Math.log(X)/Math.LN2,2),_=Math.log(ee/2)/Math.LN2,oe=2*X-ee,f=[],he=[],b=[],j=te=0,F=Y.length;te<F;j=++te){if(U=Y[j],g=v[j],U===65535){f.push(0),he.push(0);break}if(U-(le=a[U].new)>=32768)for(f.push(0),he.push(2*(b.length+X-j)),s=J=U;U<=g?J<=g:J>=g;s=U<=g?++J:--J)b.push(a[s].new);else f.push(le-U),he.push(0)}for(ue.writeUInt16(3),ue.writeUInt16(1),ue.writeUInt32(12),ue.writeUInt16(4),ue.writeUInt16(16+8*X+2*b.length),ue.writeUInt16(0),ue.writeUInt16(pe),ue.writeUInt16(ee),ue.writeUInt16(_),ue.writeUInt16(oe),Q=0,L=v.length;Q<L;Q++)s=v[Q],ue.writeUInt16(s);for(ue.writeUInt16(0),be=0,B=Y.length;be<B;be++)s=Y[be],ue.writeUInt16(s);for(je=0,$=f.length;je<$;je++)c=f[je],ue.writeUInt16(c);for(Ie=0,ie=he.length;Ie<ie;Ie++)P=he[Ie],ue.writeUInt16(P);for(Ve=0,ce=b.length;Ve<ce;Ve++)E=b[Ve],ue.writeUInt16(E);return{charMap:a,subtable:ue.data,maxGlyphID:D+1}}},t})(),Yx=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mo(t,Is),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,a,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n=new A5(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var a,s;return n==null&&(n="macroman"),a=A5.encode(e,n),(s=new Fl).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},t})(),NL=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mo(t,Is),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),jL=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mo(t,Is),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,a;for(a=[],n=0;n<10;++n)a.push(e.readByte());return a})(),this.charRange=(function(){var n,a;for(a=[],n=0;n<4;++n)a.push(e.readInt());return a})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(e.readInt());return a})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),AL=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mo(t,Is),t.prototype.tag="post",t.prototype.parse=function(e){var n,a,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(a=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)n=e.readByte(),s.push(this.names.push(e.readString(n)));return s;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(e.readUInt32());return f}).call(this)}},t})(),EL=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},CL=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mo(t,Is),t.prototype.tag="name",t.prototype.parse=function(e){var n,a,s,o,u,c,f,p,g,v,_;for(e.pos=this.offset,e.readShort(),n=e.readShort(),c=e.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=g=0,v=a.length;g<v;o=++g)s=a[o],e.pos=s.offset,p=e.readString(s.length),u=new EL(p,s),f[_=s.nameID]==null&&(f[_]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t})(),kL=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mo(t,Is),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),LL=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mo(t,Is),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,a,s,o,u,c,f;for(e.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var p,g;for(g=[],n=p=0;0<=s?p<s:p>s;n=0<=s?++p:--p)g.push(e.readInt16());return g})(),this.widths=(function(){var p,g,v,_;for(_=[],p=0,g=(v=this.metrics).length;p<g;p++)o=v[p],_.push(o.advance);return _}).call(this),a=this.widths[this.widths.length-1],f=[],n=u=0;0<=s?u<s:u>s;n=0<=s?++u:--u)f.push(this.widths.push(a));return f},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),Kx=[].slice,TL=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mo(t,Is),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,a,s,o,u,c,f,p,g,v;return e in this.cache?this.cache[e]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+a,u=(c=new Fl(n.read(s))).readShort(),p=c.readShort(),v=c.readShort(),f=c.readShort(),g=c.readShort(),this.cache[e]=u===-1?new RL(c,p,v,f,g):new OL(c,u,p,v,f,g),this.cache[e]))},t.prototype.encode=function(e,n,a){var s,o,u,c,f;for(u=[],o=[],c=0,f=n.length;c<f;c++)s=e[n[c]],o.push(u.length),s&&(u=u.concat(s.encode(a)));return o.push(u.length),{table:u,offsets:o}},t})(),OL=(function(){function t(e,n,a,s,o,u){this.raw=e,this.numberOfContours=n,this.xMin=a,this.yMin=s,this.xMax=o,this.yMax=u,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),RL=(function(){function t(e,n,a,s,o){var u,c;for(this.raw=e,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return t.prototype.encode=function(){var e,n,a;for(n=new Fl(Kx.call(this.raw.data)),e=0,a=this.glyphIDs.length;e<a;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),DL=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mo(t,Is),t.prototype.tag="loca",t.prototype.parse=function(e){var n,a;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,o;for(o=[],a=0,s=this.length;a<s;a+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],a=0,s=this.length;a<s;a+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var a=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<a.length;++u)if(a[u]=s,o<n.length&&n[o]==u){++o,a[u]=s;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(s+=f)}for(var p=new Array(4*a.length),g=0;g<a.length;++g)p[4*g+3]=255&a[g],p[4*g+2]=(65280&a[g])>>8,p[4*g+1]=(16711680&a[g])>>16,p[4*g]=(4278190080&a[g])>>24;return p},t})(),ML=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,a,s,o;for(n in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)a=o[n],e[n]=s[a];return e},t.prototype.glyphsFor=function(e){var n,a,s,o,u,c,f;for(s={},u=0,c=e.length;u<c;u++)s[o=e[u]]=this.font.glyf.glyphFor(o);for(o in n=[],s)(a=s[o])!=null&&a.compound&&n.push.apply(n,a.glyphIDs);if(n.length>0)for(o in f=this.glyphsFor(n))a=f[o],s[o]=a;return s},t.prototype.encode=function(e,n){var a,s,o,u,c,f,p,g,v,_,b,j,E,T,A;for(s in a=Yx.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),b={0:0},A=a.charMap)b[(f=A[s]).old]=f.new;for(j in _=a.maxGlyphID,u)j in b||(b[j]=_++);return g=(function(z){var D,P;for(D in P={},z)P[z[D]]=D;return P})(b),v=Object.keys(g).sort(function(z,D){return z-D}),E=(function(){var z,D,P;for(P=[],z=0,D=v.length;z<D;z++)c=v[z],P.push(g[c]);return P})(),o=this.font.glyf.encode(u,E,b),p=this.font.loca.encode(o.offsets,E),T={cmap:this.font.cmap.raw(),glyf:o.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},t})();wt.API.PDFObject=(function(){var t;function e(){}return t=function(n,a){return(Array(a+1).join("0")+n).slice(-a)},e.convert=function(n){var a,s,o,u;if(Array.isArray(n))return"["+(function(){var c,f,p;for(p=[],c=0,f=n.length;c<f;c++)a=n[c],p.push(e.convert(a));return p})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in o=["<<"],n)u=n[s],o.push("/"+s+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+n},e})();function Qx(t,e,n,a,s){a=a||{};var o=1.15,u=s.internal.scaleFactor,c=s.internal.getFontSize()/u,f=s.getLineHeightFactor?s.getLineHeightFactor():o,p=c*f,g=/\r\n|\r|\n/g,v="",_=1;if((a.valign==="middle"||a.valign==="bottom"||a.halign==="center"||a.halign==="right")&&(v=typeof t=="string"?t.split(g):t,_=v.length||1),n+=c*(2-o),a.valign==="middle"?n-=_/2*p:a.valign==="bottom"&&(n-=_*p),a.halign==="center"||a.halign==="right"){var b=c;if(a.halign==="center"&&(b*=.5),v&&_>=1){for(var j=0;j<v.length;j++)s.text(v[j],e-s.getStringUnitWidth(v[j])*b,n),n+=p;return s}e-=s.getStringUnitWidth(t)*b}return a.halign==="justify"?s.text(t,e,n,{maxWidth:a.maxWidth||100,align:"justify"}):s.text(t,e,n),s}var E5={},nd=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:E5=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var a,s,o;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var u=this.jsPDFDocument.internal.getFont(),c=u.fontStyle,f=u.fontName;if(e.font&&(f=e.font),e.fontStyle){c=e.fontStyle;var p=this.getFontList()[f];p&&p.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(p[0]),c=p[0])}if(this.jsPDFDocument.setFont(f,c),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var g=t.unifyColor(e.fillColor);g&&(a=this.jsPDFDocument).setFillColor.apply(a,g),g=t.unifyColor(e.textColor),g&&(s=this.jsPDFDocument).setTextColor.apply(s,g),g=t.unifyColor(e.lineColor),g&&(o=this.jsPDFDocument).setDrawColor.apply(o,g),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,a){return this.jsPDFDocument.splitTextToSize(e,n,a)},t.prototype.rect=function(e,n,a,s,o){return this.jsPDFDocument.rect(e,n,a,s,o)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return E5||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),J0=function(t,e){return J0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},J0(t,e)};function Xx(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");J0(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Jx=(function(t){Xx(e,t);function e(n){var a=t.call(this)||this;return a._element=n,a}return e})(Array);function PL(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function zL(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Mp(t,e,n){n.applyStyles(e,!0);var a=Array.isArray(t)?t:[t],s=a.map(function(o){return n.getTextWidth(o)}).reduce(function(o,u){return Math.max(o,u)},0);return s}function Zx(t,e,n,a){var s=e.settings.tableLineWidth,o=e.settings.tableLineColor;t.applyStyles({lineWidth:s,lineColor:o});var u=e_(s,!1);u&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),a.y-n.y,u)}function e_(t,e){var n=t>0,a=e||e===0;return n&&a?"DF":n?"S":a?"F":null}function Jp(t,e){var n,a,s,o;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(a=t.top)!==null&&a!==void 0?a:e,right:(s=t.right)!==null&&s!==void 0?s:e,bottom:(o=t.bottom)!==null&&o!==void 0?o:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function t_(t,e){var n=Jp(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function BL(t,e,n,a,s){var o={},u=1.3333333333333333,c=i0(e,function(D){return s.getComputedStyle(D).backgroundColor});c!=null&&(o.fillColor=c);var f=i0(e,function(D){return s.getComputedStyle(D).color});f!=null&&(o.textColor=f);var p=IL(a,n);p&&(o.cellPadding=p);var g="borderTopColor",v=u*n,_=a.borderTopWidth;if(a.borderBottomWidth===_&&a.borderRightWidth===_&&a.borderLeftWidth===_){var b=(parseFloat(_)||0)/v;b&&(o.lineWidth=b)}else o.lineWidth={top:(parseFloat(a.borderTopWidth)||0)/v,right:(parseFloat(a.borderRightWidth)||0)/v,bottom:(parseFloat(a.borderBottomWidth)||0)/v,left:(parseFloat(a.borderLeftWidth)||0)/v},o.lineWidth.top||(o.lineWidth.right?g="borderRightColor":o.lineWidth.bottom?g="borderBottomColor":o.lineWidth.left&&(g="borderLeftColor"));var j=i0(e,function(D){return s.getComputedStyle(D)[g]});j!=null&&(o.lineColor=j);var E=["left","right","center","justify"];E.indexOf(a.textAlign)!==-1&&(o.halign=a.textAlign),E=["middle","bottom","top"],E.indexOf(a.verticalAlign)!==-1&&(o.valign=a.verticalAlign);var T=parseInt(a.fontSize||"");isNaN(T)||(o.fontSize=T/u);var A=UL(a);A&&(o.fontStyle=A);var z=(a.fontFamily||"").toLowerCase();return t.indexOf(z)!==-1&&(o.font=z),o}function UL(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function i0(t,e){var n=n_(t,e);if(!n)return null;var a=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!a||!Array.isArray(a))return null;var s=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])],o=parseInt(a[4]);return o===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function n_(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:n_(t.parentElement,e):n}function IL(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],a=96/(72/e),s=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,o=n.map(function(c){return parseInt(c||"0")/a}),u=Jp(o,0);return s>u.top&&(u.top=s),s>u.bottom&&(u.bottom=s),u}function i_(t,e,n,a,s){var o,u;a===void 0&&(a=!1),s===void 0&&(s=!1);var c;typeof e=="string"?c=n.document.querySelector(e):c=e;var f=Object.keys(t.getFontList()),p=t.scaleFactor(),g=[],v=[],_=[];if(!c)return console.error("Html table could not be found with input: ",e),{head:g,body:v,foot:_};for(var b=0;b<c.rows.length;b++){var j=c.rows[b],E=(u=(o=j?.parentElement)===null||o===void 0?void 0:o.tagName)===null||u===void 0?void 0:u.toLowerCase(),T=qL(f,p,n,j,a,s);T&&(E==="thead"?g.push(T):E==="tfoot"?_.push(T):v.push(T))}return{head:g,body:v,foot:_}}function qL(t,e,n,a,s,o){for(var u=new Jx(a),c=0;c<a.cells.length;c++){var f=a.cells[c],p=n.getComputedStyle(f);if(s||p.display!=="none"){var g=void 0;o&&(g=BL(t,f,e,p,n)),u.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:g,_element:f,content:FL(f)})}}var v=n.getComputedStyle(a);if(u.length>0&&(s||v.display!=="none"))return u}function FL(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function HL(t,e,n){for(var a=0,s=[t,e,n];a<s.length;a++){var o=s[a];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Qo(t,e,n,a,s){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),u=1;u<arguments.length;u++){var c=arguments[u];if(c!=null)for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(o[f]=c[f])}return o}function a_(t,e){var n=new nd(t),a=n.getDocumentOptions(),s=n.getGlobalOptions();HL(s,a,e);var o=Qo({},s,a,e),u;typeof window<"u"&&(u=window);var c=$L(s,a,e),f=GL(s,a,e),p=VL(n,o),g=YL(n,o,u);return{id:e.tableId,content:g,hooks:f,styles:c,settings:p}}function $L(t,e,n){for(var a={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(f){if(f==="columnStyles"){var p=t[f],g=e[f],v=n[f];a.columnStyles=Qo({},p,g,v)}else{var _=[t,e,n],b=_.map(function(j){return j[f]||{}});a[f]=Qo({},b[0],b[1],b[2])}},o=0,u=Object.keys(a);o<u.length;o++){var c=u[o];s(c)}return a}function GL(t,e,n){for(var a=[t,e,n],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,u=a;o<u.length;o++){var c=u[o];c.didParseCell&&s.didParseCell.push(c.didParseCell),c.willDrawCell&&s.willDrawCell.push(c.willDrawCell),c.didDrawCell&&s.didDrawCell.push(c.didDrawCell),c.willDrawPage&&s.willDrawPage.push(c.willDrawPage),c.didDrawPage&&s.didDrawPage.push(c.didDrawPage)}return s}function VL(t,e){var n,a,s,o,u,c,f,p,g,v,_,b,j=Jp(e.margin,40/t.scaleFactor()),E=(n=WL(t,e.startY))!==null&&n!==void 0?n:j.top,T;e.showFoot===!0?T="everyPage":e.showFoot===!1?T="never":T=(a=e.showFoot)!==null&&a!==void 0?a:"everyPage";var A;e.showHead===!0?A="everyPage":e.showHead===!1?A="never":A=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var z=(o=e.useCss)!==null&&o!==void 0?o:!1,D=e.theme||(z?"plain":"striped"),P=!!e.horizontalPageBreak,se=(u=e.horizontalPageBreakRepeat)!==null&&u!==void 0?u:null;return{includeHiddenHtml:(c=e.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:z,theme:D,startY:E,margin:j,pageBreak:(f=e.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(p=e.rowPageBreak)!==null&&p!==void 0?p:"auto",tableWidth:(g=e.tableWidth)!==null&&g!==void 0?g:"auto",showHead:A,showFoot:T,tableLineWidth:(v=e.tableLineWidth)!==null&&v!==void 0?v:0,tableLineColor:(_=e.tableLineColor)!==null&&_!==void 0?_:200,horizontalPageBreak:P,horizontalPageBreakRepeat:se,horizontalPageBreakBehaviour:(b=e.horizontalPageBreakBehaviour)!==null&&b!==void 0?b:"afterAllRows"}}function WL(t,e){var n=t.getLastAutoTable(),a=t.scaleFactor(),s=t.pageNumber(),o=!1;if(n&&n.startPageNumber){var u=n.startPageNumber+n.pageNumber-1;o=u===s}return typeof e=="number"?e:(e==null||e===!1)&&o&&n?.finalY!=null?n.finalY+20/a:null}function YL(t,e,n){var a=e.head||[],s=e.body||[],o=e.foot||[];if(e.html){var u=e.includeHiddenHtml;if(n){var c=i_(t,e.html,n,u,e.useCss)||{};a=c.head||a,s=c.body||a,o=c.foot||a}else console.error("Cannot parse html in non browser environment")}var f=e.columns||KL(a,s,o);return{columns:f,head:a,body:s,foot:o}}function KL(t,e,n){var a=t[0]||e[0]||n[0]||[],s=[];return Object.keys(a).filter(function(o){return o!=="_element"}).forEach(function(o){var u=1,c;Array.isArray(a)?c=a[parseInt(o)]:c=a[o],typeof c=="object"&&!Array.isArray(c)&&(u=c?.colSpan||1);for(var f=0;f<u;f++){var p=void 0;Array.isArray(a)?p=s.length:p=o+(f>0?"_".concat(f):"");var g={dataKey:p};s.push(g)}}),s}var Z0=(function(){function t(e,n,a){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=a,this.doc=e.getDocument()}return t})(),QL=(function(t){Xx(e,t);function e(n,a,s,o,u,c){var f=t.call(this,n,a,c)||this;return f.cell=s,f.row=o,f.column=u,f.section=o.section,f}return e})(Z0),XL=(function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,a){return n+a.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,a){return n+a.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,a,s,o,u){for(var c=0,f=n;c<f.length;c++){var p=f[c],g=new QL(e,this,a,s,o,u),v=p(g)===!1;if(a.text=Array.isArray(a.text)?a.text:[a.text],v)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var a=0,s=this.hooks.didDrawPage;a<s.length;a++){var o=s[a];o(new Z0(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var a=0,s=this.hooks.willDrawPage;a<s.length;a++){var o=s[a];o(new Z0(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(s,o){return s+o.wrappedWidth},0);return n}else{var a=this.settings.margin;return e-a.left-a.right}},t})(),r_=(function(){function t(e,n,a,s,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof Jx&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=a,this.cells=s,this.spansMultiplePages=o}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(a,s){var o;return Math.max(a,((o=n.cells[s.index])===null||o===void 0?void 0:o.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(a){var s=n.cells[a.index];return s?s.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var a=this;return e.reduce(function(s,o){var u=a.cells[o.index];if(!u)return 0;var c=n.getLineHeight(u.styles.fontSize),f=u.padding("vertical"),p=f+c;return p>s?p:s},0)},t})(),s_=(function(){function t(e,n,a){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=a,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var u=o!=null?""+o:"",c=/\r\n|\r|\n/g;this.text=u.split(c)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var a;if(this.styles.halign==="right")a=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");a=this.x+s/2+this.padding("left")}else a=this.x+this.padding("left");return{x:a,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var a=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*n,o=a*s+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=Jp(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t})(),JL=(function(){function t(e,n,a){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=a}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,a=0,s=e.allRows();a<s.length;a++){var o=s[a],u=o.cells[this.index];u&&typeof u.styles.cellWidth=="number"&&(n=Math.max(n,u.styles.cellWidth))}return n},t})();function ZL(t,e){eT(t,e);var n=[],a=0;e.columns.forEach(function(o){var u=o.getMaxCustomCellWidth(e);u?o.width=u:(o.width=o.wrappedWidth,n.push(o)),a+=o.width});var s=e.getWidth(t.pageSize().width)-a;s&&(s=e1(n,s,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),s&&(s=e1(n,s,function(o){return o.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/t.scaleFactor()&&(s=s<1?s:Math.round(s),console.log("Of the table content, ".concat(s," units width could not fit page"))),nT(e),iT(e,t),tT(e)}function eT(t,e){var n=t.scaleFactor(),a=e.settings.horizontalPageBreak,s=t_(t,e);e.allRows().forEach(function(o){for(var u=0,c=e.columns;u<c.length;u++){var f=c[u],p=o.cells[f.index];if(p){var g=e.hooks.didParseCell;e.callCellHooks(t,g,p,o,f,null);var v=p.padding("horizontal");p.contentWidth=Mp(p.text,p.styles,t)+v;var _=Mp(p.text.join(" ").split(/[^\S\u00A0]+/),p.styles,t);if(p.minReadableWidth=_+p.padding("horizontal"),typeof p.styles.cellWidth=="number")p.minWidth=p.styles.cellWidth,p.wrappedWidth=p.styles.cellWidth;else if(p.styles.cellWidth==="wrap"||a===!0)p.contentWidth>s?(p.minWidth=s,p.wrappedWidth=s):(p.minWidth=p.contentWidth,p.wrappedWidth=p.contentWidth);else{var b=10/n;p.minWidth=p.styles.minCellWidth||b,p.wrappedWidth=p.contentWidth,p.minWidth>p.wrappedWidth&&(p.wrappedWidth=p.minWidth)}}}}),e.allRows().forEach(function(o){for(var u=0,c=e.columns;u<c.length;u++){var f=c[u],p=o.cells[f.index];if(p&&p.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,p.wrappedWidth),f.minWidth=Math.max(f.minWidth,p.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,p.minReadableWidth);else{var g=e.styles.columnStyles[f.dataKey]||e.styles.columnStyles[f.index]||{},v=g.cellWidth||g.minCellWidth;v&&typeof v=="number"&&(f.minWidth=v,f.wrappedWidth=v)}p&&(p.colSpan>1&&!f.minWidth&&(f.minWidth=p.minWidth),p.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=p.minWidth))}})}function e1(t,e,n){for(var a=e,s=t.reduce(function(b,j){return b+j.wrappedWidth},0),o=0;o<t.length;o++){var u=t[o],c=u.wrappedWidth/s,f=a*c,p=u.width+f,g=n(u),v=p<g?g:p;e-=v-u.width,u.width=v}if(e=Math.round(e*1e10)/1e10,e){var _=t.filter(function(b){return e<0?b.width>n(b):!0});_.length&&(e=e1(_,e,n))}return e}function tT(t){for(var e={},n=1,a=t.allRows(),s=0;s<a.length;s++)for(var o=a[s],u=0,c=t.columns;u<c.length;u++){var f=c[u],p=e[f.index];if(n>1)n--,delete o.cells[f.index];else if(p)p.cell.height+=o.height,n=p.cell.colSpan,delete o.cells[f.index],p.left--,p.left<=1&&delete e[f.index];else{var g=o.cells[f.index];if(!g)continue;if(g.height=o.height,g.rowSpan>1){var v=a.length-s,_=g.rowSpan>v?v:g.rowSpan;e[f.index]={cell:g,left:_,row:o}}}}}function nT(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var a=e[n],s=null,o=0,u=0,c=0;c<t.columns.length;c++){var f=t.columns[c];if(u-=1,u>1&&t.columns[c+1])o+=f.width,delete a.cells[f.index];else if(s){var p=s;delete a.cells[f.index],s=null,p.width=f.width+o}else{var p=a.cells[f.index];if(!p)continue;if(u=p.colSpan,o=0,p.colSpan>1){s=p,o+=f.width;continue}p.width=f.width+o}}}function iT(t,e){for(var n={count:0,height:0},a=0,s=t.allRows();a<s.length;a++){for(var o=s[a],u=0,c=t.columns;u<c.length;u++){var f=c[u],p=o.cells[f.index];if(p){e.applyStyles(p.styles,!0);var g=p.width-p.padding("horizontal");if(p.styles.overflow==="linebreak")p.text=e.splitTextToSize(p.text,g+1/e.scaleFactor(),{fontSize:p.styles.fontSize});else if(p.styles.overflow==="ellipsize")p.text=C5(p.text,g,p.styles,e,"...");else if(p.styles.overflow==="hidden")p.text=C5(p.text,g,p.styles,e,"");else if(typeof p.styles.overflow=="function"){var v=p.styles.overflow(p.text,g);typeof v=="string"?p.text=[v]:p.text=v}p.contentHeight=p.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var _=p.contentHeight/p.rowSpan;p.rowSpan>1&&n.count*n.height<_*p.rowSpan?n={height:_,count:p.rowSpan}:n&&n.count>0&&n.height>_&&(_=n.height),_>o.height&&(o.height=_)}}n.count--}}function C5(t,e,n,a,s){return t.map(function(o){return aT(o,e,n,a,s)})}function aT(t,e,n,a,s){var o=1e4*a.scaleFactor();if(e=Math.ceil(e*o)/o,e>=Mp(t,n,a))return t;for(;e<Mp(t+s,n,a)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+s}function o_(t,e){var n=new nd(t),a=rT(e,n.scaleFactor()),s=new XL(e,a);return ZL(n,s),n.applyStyles(n.userStyles),s}function rT(t,e){var n=t.content,a=oT(n.columns);if(n.head.length===0){var s=k5(a,"head");s&&n.head.push(s)}if(n.foot.length===0){var s=k5(a,"foot");s&&n.foot.push(s)}var o=t.settings.theme,u=t.styles;return{columns:a,head:a0("head",n.head,a,u,o,e),body:a0("body",n.body,a,u,o,e),foot:a0("foot",n.foot,a,u,o,e)}}function a0(t,e,n,a,s,o){var u={},c=e.map(function(f,p){for(var g=0,v={},_=0,b=0,j=0,E=n;j<E.length;j++){var T=E[j];if(u[T.index]==null||u[T.index].left===0)if(b===0){var A=void 0;Array.isArray(f)?A=f[T.index-_-g]:A=f[T.dataKey];var z={};typeof A=="object"&&!Array.isArray(A)&&(z=A?.styles||{});var D=lT(t,T,p,s,a,o,z),P=new s_(A,D,t);v[T.dataKey]=P,v[T.index]=P,b=P.colSpan-1,u[T.index]={left:P.rowSpan-1,times:b}}else b--,_++;else u[T.index].left--,b=u[T.index].times,g++}return new r_(f,p,t,v)});return c}function k5(t,e){var n={};return t.forEach(function(a){if(a.raw!=null){var s=sT(e,a.raw);s!=null&&(n[a.dataKey]=s)}}),Object.keys(n).length>0?n:null}function sT(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function oT(t){return t.map(function(e,n){var a,s;return typeof e=="object"?s=(a=e.dataKey)!==null&&a!==void 0?a:n:s=n,new JL(s,e,n)})}function lT(t,e,n,a,s,o,u){var c=zL(a),f;t==="head"?f=s.headStyles:t==="body"?f=s.bodyStyles:t==="foot"&&(f=s.footStyles);var p=Qo({},c.table,c[t],s.styles,f),g=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},v=t==="body"?g:{},_=t==="body"&&n%2===0?Qo({},c.alternateRow,s.alternateRowStyles):{},b=PL(o),j=Qo({},b,p,_,v);return Qo(j,u)}function cT(t,e,n){var a;n===void 0&&(n={});var s=t_(t,e),o=new Map,u=[],c=[],f=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?f=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(f=[e.settings.horizontalPageBreakRepeat]),f.forEach(function(_){var b=e.columns.find(function(j){return j.dataKey===_||j.index===_});b&&!o.has(b.index)&&(o.set(b.index,!0),u.push(b.index),c.push(e.columns[b.index]),s-=b.wrappedWidth)});for(var p=!0,g=(a=n?.start)!==null&&a!==void 0?a:0;g<e.columns.length;){if(o.has(g)){g++;continue}var v=e.columns[g].wrappedWidth;if(p||s>=v)p=!1,u.push(g),c.push(e.columns[g]),s-=v;else break;g++}return{colIndexes:u,columns:c,lastIndex:g-1}}function uT(t,e){for(var n=[],a=0;a<e.columns.length;a++){var s=cT(t,e,{start:a});s.columns.length&&(n.push(s),a=s.lastIndex)}return n}function l_(t,e){var n=e.settings,a=n.startY,s=n.margin,o={x:s.left,y:a},u=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),c=a+s.bottom+u;if(n.pageBreak==="avoid"){var f=e.body,p=f.reduce(function(_,b){return _+b.height},0);c+=p}var g=new nd(t);(n.pageBreak==="always"||n.startY!=null&&c>g.pageSize().height)&&(u_(g),o.y=s.top),e.callWillDrawPageHooks(g,o);var v=Qo({},o);e.startPageNumber=g.pageNumber(),n.horizontalPageBreak?dT(g,e,v,o):(g.applyStyles(g.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(_){return Jo(g,e,_,o,e.columns)}),g.applyStyles(g.userStyles),e.body.forEach(function(_,b){var j=b===e.body.length-1;Pp(g,e,_,j,v,o,e.columns)}),g.applyStyles(g.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(_){return Jo(g,e,_,o,e.columns)})),Zx(g,e,v,o),e.callEndPageHooks(g,o),e.finalY=o.y,t.lastAutoTable=e,g.applyStyles(g.userStyles)}function dT(t,e,n,a){var s=uT(t,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(p,g){t.applyStyles(t.userStyles),g>0?fh(t,e,n,a,p.columns,!0):L5(t,e,a,p.columns),hT(t,e,n,a,p.columns),r0(t,e,a,p.columns)});else for(var u=-1,c=s[0],f=function(){var p=u;if(c){t.applyStyles(t.userStyles);var g=c.columns;u>=0?fh(t,e,n,a,g,!0):L5(t,e,a,g),p=T5(t,e,u+1,a,g),r0(t,e,a,g)}var v=p-u;s.slice(1).forEach(function(_){t.applyStyles(t.userStyles),fh(t,e,n,a,_.columns,!0),T5(t,e,u+1,a,_.columns,v),r0(t,e,a,_.columns)}),u=p};u<e.body.length-1;)f()}function L5(t,e,n,a){var s=e.settings;t.applyStyles(t.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(o){return Jo(t,e,o,n,a)})}function hT(t,e,n,a,s){t.applyStyles(t.userStyles),e.body.forEach(function(o,u){var c=u===e.body.length-1;Pp(t,e,o,c,n,a,s)})}function T5(t,e,n,a,s,o){t.applyStyles(t.userStyles),o=o??e.body.length;var u=Math.min(n+o,e.body.length),c=-1;return e.body.slice(n,u).forEach(function(f,p){var g=n+p===e.body.length-1,v=c_(t,e,g,a);f.canEntireRowFit(v,s)&&(Jo(t,e,f,a,s),c=n+p)}),c}function r0(t,e,n,a){var s=e.settings;t.applyStyles(t.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(o){return Jo(t,e,o,n,a)})}function fT(t,e,n){var a=n.getLineHeight(t.styles.fontSize),s=t.padding("vertical"),o=Math.floor((e-s)/a);return Math.max(0,o)}function pT(t,e,n,a){var s={};t.spansMultiplePages=!0,t.height=0;for(var o=0,u=0,c=n.columns;u<c.length;u++){var f=c[u],p=t.cells[f.index];if(p){Array.isArray(p.text)||(p.text=[p.text]);var g=new s_(p.raw,p.styles,p.section);g=Qo(g,p),g.text=[];var v=fT(p,e,a);p.text.length>v&&(g.text=p.text.splice(v,p.text.length));var _=a.scaleFactor(),b=a.getLineHeightFactor();p.contentHeight=p.getContentHeight(_,b),p.contentHeight>=e&&(p.contentHeight=e,g.styles.minCellHeight-=e),p.contentHeight>t.height&&(t.height=p.contentHeight),g.contentHeight=g.getContentHeight(_,b),g.contentHeight>o&&(o=g.contentHeight),s[f.index]=g}}var j=new r_(t.raw,-1,t.section,s,!0);j.height=o;for(var E=0,T=n.columns;E<T.length;E++){var f=T[E],g=j.cells[f.index];g&&(g.height=j.height);var p=t.cells[f.index];p&&(p.height=t.height)}return j}function mT(t,e,n,a){var s=t.pageSize().height,o=a.settings.margin,u=o.top+o.bottom,c=s-u;e.section==="body"&&(c-=a.getHeadHeight(a.columns)+a.getFootHeight(a.columns));var f=e.getMinimumRowHeight(a.columns,t),p=f<n;if(f>c)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!p)return!1;var g=e.hasRowSpan(a.columns),v=e.getMaxCellHeight(a.columns)>c;return v?(g&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(g||a.settings.rowPageBreak==="avoid")}function Pp(t,e,n,a,s,o,u){var c=c_(t,e,a,o);if(n.canEntireRowFit(c,u))Jo(t,e,n,o,u);else if(mT(t,n,c,e)){var f=pT(n,c,e,t);Jo(t,e,n,o,u),fh(t,e,s,o,u),Pp(t,e,f,a,s,o,u)}else fh(t,e,s,o,u),Pp(t,e,n,a,s,o,u)}function Jo(t,e,n,a,s){a.x=e.settings.margin.left;for(var o=0,u=s;o<u.length;o++){var c=u[o],f=n.cells[c.index];if(!f){a.x+=c.width;continue}t.applyStyles(f.styles),f.x=a.x,f.y=a.y;var p=e.callCellHooks(t,e.hooks.willDrawCell,f,n,c,a);if(p===!1){a.x+=c.width;continue}gT(t,f,a);var g=f.getTextPos();Qx(f.text,g.x,g.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,f,n,c,a),a.x+=c.width}a.y+=n.height}function gT(t,e,n){var a=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof a.lineWidth=="number"){var s=e_(a.lineWidth,a.fillColor);s&&t.rect(e.x,n.y,e.width,e.height,s)}else typeof a.lineWidth=="object"&&(a.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),vT(t,e,n,a.lineWidth))}function vT(t,e,n,a){var s,o,u,c;a.top&&(s=n.x,o=n.y,u=n.x+e.width,c=n.y,a.right&&(u+=.5*a.right),a.left&&(s-=.5*a.left),f(a.top,s,o,u,c)),a.bottom&&(s=n.x,o=n.y+e.height,u=n.x+e.width,c=n.y+e.height,a.right&&(u+=.5*a.right),a.left&&(s-=.5*a.left),f(a.bottom,s,o,u,c)),a.left&&(s=n.x,o=n.y,u=n.x,c=n.y+e.height,a.top&&(o-=.5*a.top),a.bottom&&(c+=.5*a.bottom),f(a.left,s,o,u,c)),a.right&&(s=n.x+e.width,o=n.y,u=n.x+e.width,c=n.y+e.height,a.top&&(o-=.5*a.top),a.bottom&&(c+=.5*a.bottom),f(a.right,s,o,u,c));function f(p,g,v,_,b){t.getDocument().setLineWidth(p),t.getDocument().line(g,v,_,b,"S")}}function c_(t,e,n,a){var s=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&n)&&(s+=e.getFootHeight(e.columns)),t.pageSize().height-a.y-s}function fh(t,e,n,a,s,o){s===void 0&&(s=[]),o===void 0&&(o=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(c){return Jo(t,e,c,a,s)}),e.callEndPageHooks(t,a);var u=e.settings.margin;Zx(t,e,n,a),u_(t),e.pageNumber++,a.x=u.left,a.y=u.top,n.y=u.top,e.callWillDrawPageHooks(t,a),e.settings.showHead==="everyPage"&&(e.head.forEach(function(c){return Jo(t,e,c,a,s)}),t.applyStyles(t.userStyles))}function u_(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function yT(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var a=e[0],s=a_(this,a),o=o_(this,s);return l_(this,o),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,a,s){Qx(e,n,a,s,this)},t.API.autoTableSetDefaults=function(e){return nd.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){nd.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var a;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new nd(this),o=i_(s,e,window,n,!1),u=o.head,c=o.body,f=((a=u[0])===null||a===void 0?void 0:a.map(function(p){return p.content}))||[];return{columns:f,rows:c,data:c}}}var s0;function o0(t,e){var n=a_(t,e),a=o_(t,n);l_(t,a)}try{if(typeof window<"u"&&window){var O5=window,R5=O5.jsPDF||((s0=O5.jspdf)===null||s0===void 0?void 0:s0.jsPDF);R5&&yT(R5)}}catch(t){console.error("Could not apply autoTable plugin",t)}const bT="1952aca4-ef44-4294-bd63-a467cd800497",D5=[{date:"2025-03-30",label:"Sun 3/30"},{date:"2025-03-31",label:"Mon 3/31"},{date:"2025-04-01",label:"Tue 4/1"},{date:"2025-04-02",label:"Wed 4/2"}];function wT(t,e,n,a,s){const o=new wt,u=o.internal.pageSize.getWidth();let c=20;o.setFontSize(20),o.setFont("helvetica","bold"),o.text(t.name,u/2,c,{align:"center"}),c+=10,o.setFontSize(11),o.setFont("helvetica","normal");const f=t.start_date&&t.end_date?`${li(new Date(t.start_date),"MMMM d")} - ${li(new Date(t.end_date),"MMMM d, yyyy")}`:"Dates TBD";o.text(f,u/2,c,{align:"center"}),c+=6,t.location&&(o.text(t.location,u/2,c,{align:"center"}),c+=6),o.text(`Capacity: ${e.length} / ${t.max_capacity||6}`,u/2,c,{align:"center"}),c+=15,o.setFontSize(14),o.setFont("helvetica","bold"),o.text("Participants",14,c),c+=8;const p=e.map(b=>{const j=a.find(A=>A.application?.email===b.email),E=j?n.find(A=>A.id===j.room_id):null,T=E?E.name:b.accommodation_choice==="commute"?"Commute":"-";return[b.name,b.email||"-",b.phone||"-",T]});if(o0(o,{startY:c,head:[["Name","Email","Phone","Room"]],body:p,theme:"striped",headStyles:{fillColor:[139,92,246]},styles:{fontSize:9}}),c=o.lastAutoTable.finalY+15,t.id===bT){const b=s.filter(j=>j.meal_selections&&Object.keys(j.meal_selections).length>0);if(b.length>0){c>200&&(o.addPage(),c=20),o.setFontSize(14),o.setFont("helvetica","bold"),o.text("Meal Assignments",14,c),c+=8;const j=["Name",...D5.flatMap(T=>[`${T.label} L`,`${T.label} D`])],E=b.map(T=>{const A=T.meal_selections||{},z=[`${T.first_name} ${T.last_name?.charAt(0)||""}.`];return D5.forEach(D=>{const P=A[D.date]||{},se=P.lunch?.replace(/^Organic\s+/,"").substring(0,20)||"-",he=P.dinner?.replace(/^Organic\s+/,"").substring(0,20)||"-";z.push(se,he)}),z});o0(o,{startY:c,head:[j],body:E,theme:"striped",headStyles:{fillColor:[34,197,94]},styles:{fontSize:7,cellPadding:2},columnStyles:{0:{cellWidth:25}}}),c=o.lastAutoTable.finalY+15}}const g=s.filter(b=>b.dietary_preferences&&b.dietary_preferences.length>0||b.dietary_other||b.allergies||b.special_accommodations||b.accommodation_notes);if(g.length>0){c>200&&(o.addPage(),c=20),o.setFontSize(14),o.setFont("helvetica","bold"),o.text("Dietary & Accommodation Needs",14,c),c+=8;const b=g.map(j=>{const E=[...j.dietary_preferences||[],j.dietary_other?`Other: ${j.dietary_other}`:"",j.allergies?`ALLERGY: ${j.allergies}`:""].filter(Boolean).join(", ")||"-",T=j.special_accommodations||"-",A=j.accommodation_notes||"-";return[`${j.first_name} ${j.last_name}`,E,T,A]});o0(o,{startY:c,head:[["Name","Dietary/Allergies","Special Needs","Notes"]],body:b,theme:"striped",headStyles:{fillColor:[234,179,8]},styles:{fontSize:8,cellWidth:"wrap"},columnStyles:{0:{cellWidth:35},1:{cellWidth:50},2:{cellWidth:50},3:{cellWidth:50}}})}const v=o.getNumberOfPages();for(let b=1;b<=v;b++)o.setPage(b),o.setFontSize(8),o.setFont("helvetica","normal"),o.text(`Generated ${li(new Date,"MMM d, yyyy h:mm a")} - Page ${b} of ${v}`,u/2,o.internal.pageSize.getHeight()-10,{align:"center"});const _=`${t.name.replace(/[^a-zA-Z0-9]/g,"_")}_${li(new Date,"yyyy-MM-dd")}.pdf`;o.save(_)}const qu=["payment","onboarding","complete"];function xT(t,e){const n=[],a=new Date(t+"T00:00:00"),s=new Date(e+"T00:00:00"),o=new Date(a);for(;o<=s;){const u=o.toISOString().split("T")[0],c=o.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});n.push({date:u,label:c}),o.setDate(o.getDate()+1)}return n}function _T(t,e,n){return t>=e?"Full":t>=e-2?"Filling":"Open"}function l0(t){switch(t){case"Open":return"#22C55E";case"Filling":return"#F59E0B";case"Full":return"#EF4444";case"Completed":return"#94A3B8";default:return"#94A3B8"}}function ST(){const{data:t,isLoading:e}=Kp(),n=mC(),a=gC(),[s,o]=V.useState(null),[u,c]=V.useState(null),[f,p]=V.useState(""),[g,v]=V.useState(!1),[_,b]=V.useState({name:"",start_date:"",end_date:"",location:"Greater Boston Area",max_capacity:6,training_level:"Beginning",show_on_apply:!0}),{data:j}=A1(),{data:E,isLoading:T}=UC(),{data:A}=BC(),{data:z}=HC(),D=IC(),P=qC(),[se,he]=V.useState(null),oe=(k,I,te)=>{c({id:k,field:I}),p(te||"")},ee=()=>{u&&(n.mutate({id:u.id,updates:{[u.field]:f}}),c(null))},X=()=>{c(null),p("")},pe=()=>{if(!_.name||!_.start_date||!_.end_date){alert("Please fill in training name and dates");return}a.mutate({name:_.name,start_date:_.start_date,end_date:_.end_date,location:_.location,max_capacity:_.max_capacity,training_level:_.training_level,show_on_apply:_.show_on_apply,meal_selection_enabled:!1,status:"Open",training_type:null,cohort_name:null,price_cents:null,spots_filled:0},{onSuccess:()=>{v(!1),b({name:"",start_date:"",end_date:"",location:"Greater Boston Area",max_capacity:6,training_level:"Beginning",show_on_apply:!0})}})},U=(k,I)=>{n.mutate({id:k,updates:{show_on_apply:!I}})};if(e)return h.jsx("div",{className:"page loading",children:"Loading trainings..."});const Y=[...t||[]].sort((k,I)=>{const te=k.end_date?Ku(new Date(k.end_date)):!1,J=I.end_date?Ku(new Date(I.end_date)):!1;if(te&&!J)return 1;if(!te&&J)return-1;const ve=k.start_date?new Date(k.start_date).getTime():0;return(I.start_date?new Date(I.start_date).getTime():0)-ve}),le=Y.filter(k=>!k.end_date||!Ku(new Date(k.end_date))),ue=Y.filter(k=>k.end_date&&Ku(new Date(k.end_date)));return h.jsxs("div",{className:"page trainings",children:[h.jsx("header",{className:"page-header",children:h.jsxs("div",{className:"header-row",children:[h.jsxs("div",{children:[h.jsx("h1",{children:"Trainings"}),h.jsxs("p",{className:"subtitle",children:[le.length," active, ",ue.length," completed"]})]}),h.jsxs("button",{className:"btn-create",onClick:()=>v(!0),children:[h.jsx(Ch,{size:18})," New Training"]})]})}),g&&h.jsx("div",{className:"modal-overlay",onClick:()=>v(!1),children:h.jsxs("div",{className:"modal-content create-training-modal",onClick:k=>k.stopPropagation(),children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h2",{children:"Create New Training"}),h.jsx("button",{className:"btn-close",onClick:()=>v(!1),children:h.jsx($a,{size:20})})]}),h.jsxs("div",{className:"modal-body",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Training Name"}),h.jsx("input",{type:"text",placeholder:"e.g., April 10 - 13, 2026",value:_.name,onChange:k=>b({..._,name:k.target.value})})]}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Start Date"}),h.jsx("input",{type:"date",value:_.start_date,onChange:k=>b({..._,start_date:k.target.value})})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"End Date"}),h.jsx("input",{type:"date",value:_.end_date,onChange:k=>b({..._,end_date:k.target.value})})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Location"}),h.jsx("input",{type:"text",placeholder:"Greater Boston Area",value:_.location,onChange:k=>b({..._,location:k.target.value})})]}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Max Capacity"}),h.jsxs("select",{value:_.max_capacity,onChange:k=>b({..._,max_capacity:parseInt(k.target.value)}),children:[h.jsx("option",{value:6,children:"6 participants"}),h.jsx("option",{value:9,children:"9 participants"}),h.jsx("option",{value:12,children:"12 participants"})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Training Level"}),h.jsxs("select",{value:_.training_level,onChange:k=>b({..._,training_level:k.target.value}),children:[h.jsx("option",{value:"Beginning",children:"Beginning"}),h.jsx("option",{value:"Intermediate",children:"Intermediate"}),h.jsx("option",{value:"Advanced",children:"Advanced"})]})]})]}),h.jsx("div",{className:"form-group checkbox-group",children:h.jsxs("label",{children:[h.jsx("input",{type:"checkbox",checked:_.show_on_apply,onChange:k=>b({..._,show_on_apply:k.target.checked})}),"Show on application form (allow signups)"]})})]}),h.jsxs("div",{className:"modal-footer",children:[h.jsx("button",{className:"btn-cancel",onClick:()=>v(!1),children:"Cancel"}),h.jsx("button",{className:"btn-save",onClick:pe,disabled:a.isPending,children:a.isPending?"Creating...":"Create Training"})]})]})}),h.jsxs("section",{className:"trainings-section",children:[h.jsx("h2",{className:"section-title",children:"Upcoming & Active"}),h.jsxs("div",{className:"trainings-list",children:[le.map(k=>{const I=s===k.id,te=j?.filter(B=>B.training_id===k.id)||[],J=k.max_capacity||6,ve=te.filter(B=>qu.includes(B.pipeline_stage)).length,fe=te.filter(B=>!qu.includes(B.pipeline_stage)).length,F=_T(ve,J),L=J-ve;return h.jsxs("div",{className:`training-card active ${I?"expanded":""}`,children:[h.jsxs("div",{className:"training-header",onClick:()=>o(I?null:k.id),children:[h.jsxs("div",{className:"training-info",children:[h.jsxs("div",{className:"training-title-row",children:[h.jsx("h3",{children:k.name}),h.jsx("span",{className:"status-badge",style:{backgroundColor:l0(F)+"20",color:l0(F)},children:F})]}),h.jsxs("div",{className:"training-meta",children:[k.start_date&&h.jsxs("span",{children:[h.jsx(Ra,{size:14})," ",li(new Date(k.start_date),"MMM d")," - ",k.end_date&&li(new Date(k.end_date),"MMM d, yyyy")]}),k.location&&h.jsxs("span",{children:[h.jsx(n8,{size:14})," ",k.location]})]}),h.jsxs("div",{className:"capacity-section",children:[h.jsx("div",{className:"capacity-bar",children:h.jsx("div",{className:"capacity-fill enrolled",style:{width:`${ve/J*100}%`,backgroundColor:l0(F)}})}),h.jsxs("div",{className:"capacity-stats",children:[h.jsxs("span",{className:"enrolled-count",children:[h.jsx(rd,{size:14}),h.jsx("strong",{children:ve})," / ",J," enrolled"]}),L>0?h.jsxs("span",{className:"spots-remaining",children:[L," spots left"]}):h.jsxs("span",{className:"spots-full",children:[h.jsx(Cc,{size:14})," Full"]})]}),fe>0&&h.jsxs("div",{className:"pipeline-count",children:[fe," more in pipeline"]})]})]}),h.jsxs("div",{className:"training-actions",children:[h.jsxs("button",{className:"btn-download",onClick:B=>{B.stopPropagation();const $=E?.filter(Q=>Q.training_id===k.id)||[],ie=A?.filter(Q=>Q.training_id===k.id)||[],ce=z?.filter(Q=>Q.training_id===k.id)||[];wT(k,te,$,ie,ce)},title:"Download PDF",children:[h.jsx(RA,{size:14})," PDF"]}),h.jsx("button",{className:`btn-visibility ${k.show_on_apply?"visible":"hidden"}`,onClick:B=>{B.stopPropagation(),U(k.id,k.show_on_apply)},title:k.show_on_apply?"Visible on application form":"Hidden from application form",children:k.show_on_apply?h.jsx(Uh,{size:16}):h.jsx(Bh,{size:16})}),h.jsx("div",{className:"expand-toggle",children:I?h.jsx(xA,{size:20}):h.jsx(_1,{size:20})})]})]}),I&&h.jsxs("div",{className:"training-details",children:[h.jsxs("div",{className:"detail-columns",children:[h.jsxs("div",{className:"detail-section",children:[h.jsx("h4",{children:"Settings"}),h.jsxs("div",{className:"fields-stack",children:[h.jsxs("div",{className:"field",children:[h.jsx("label",{children:"Max Capacity"}),u?.id===k.id&&u.field==="max_capacity"?h.jsxs("div",{className:"edit-controls",children:[h.jsxs("select",{value:f,onChange:B=>p(parseInt(B.target.value)),autoFocus:!0,children:[h.jsx("option",{value:6,children:"6 participants"}),h.jsx("option",{value:9,children:"9 participants"})]}),h.jsx("button",{onClick:ee,className:"btn-save",children:h.jsx(Ap,{size:14})}),h.jsx("button",{onClick:X,className:"btn-cancel",children:h.jsx($a,{size:14})})]}):h.jsxs("div",{className:"field-value",onClick:()=>oe(k.id,"max_capacity",J),children:[J," participants ",h.jsx(ad,{size:12,className:"edit-icon"})]})]}),h.jsxs("div",{className:"field",children:[h.jsx("label",{children:"Location"}),u?.id===k.id&&u.field==="location"?h.jsxs("div",{className:"edit-controls",children:[h.jsx("input",{value:f,onChange:B=>p(B.target.value),autoFocus:!0}),h.jsx("button",{onClick:ee,className:"btn-save",children:h.jsx(Ap,{size:14})}),h.jsx("button",{onClick:X,className:"btn-cancel",children:h.jsx($a,{size:14})})]}):h.jsxs("div",{className:"field-value",onClick:()=>oe(k.id,"location",k.location),children:[k.location||h.jsx("em",{children:"Not set"})," ",h.jsx(ad,{size:12,className:"edit-icon"})]})]}),h.jsxs("div",{className:"field",children:[h.jsx("label",{children:"Dates"}),h.jsxs("div",{className:"field-value readonly",children:[k.start_date?li(new Date(k.start_date),"MMM d"):"?"," - ",k.end_date?li(new Date(k.end_date),"MMM d, yyyy"):"?"]})]}),h.jsxs("div",{className:"field toggle-field",children:[h.jsx("label",{children:"Meal Selection"}),h.jsxs("button",{className:`toggle-btn ${k.meal_selection_enabled?"enabled":"disabled"}`,onClick:()=>n.mutate({id:k.id,updates:{meal_selection_enabled:!k.meal_selection_enabled}}),children:[h.jsx(Zy,{size:14}),k.meal_selection_enabled?"Enabled":"Disabled"]}),h.jsx("span",{className:"toggle-hint",children:k.meal_selection_enabled?"Participants can choose their meals":"Meal selection hidden from portal"})]})]})]}),h.jsxs("div",{className:"detail-section participants-section",children:[h.jsx("h4",{children:"Participants by Stage"}),h.jsx("div",{className:"stage-breakdown",children:["lead","chemistry_call","application","interview","approval","payment","onboarding","complete"].map(B=>{const $=te.filter(ce=>ce.pipeline_stage===B).length;if($===0)return null;const ie=qu.includes(B);return h.jsxs("div",{className:`stage-row ${ie?"enrolled":""}`,children:[h.jsx("span",{className:"stage-dot",style:{backgroundColor:Ci[B]}}),h.jsx("span",{className:"stage-name",children:ho[B]}),h.jsx("span",{className:"stage-count",children:$}),ie&&h.jsx(M0,{size:12,className:"enrolled-icon"})]},B)})})]})]}),h.jsxs("div",{className:"detail-section",children:[h.jsxs("h4",{children:["All Applicants (",te.length,")"]}),h.jsx("div",{className:"applicants-grid",children:te.length===0?h.jsx("p",{className:"empty",children:"No applicants for this training yet"}):te.map(B=>h.jsxs(oi,{to:`/people/${B.id}`,className:"applicant-chip",style:{borderLeftColor:Ci[B.pipeline_stage]},children:[h.jsx("span",{className:"name",children:B.name}),h.jsx("span",{className:"stage-tag",style:{backgroundColor:Ci[B.pipeline_stage]+"20",color:Ci[B.pipeline_stage]},children:ho[B.pipeline_stage]})]},B.id))})]}),h.jsxs("div",{className:"detail-section room-assignments-section",children:[h.jsxs("h4",{children:[h.jsx(dp,{size:16})," Room Assignments"]}),T?h.jsx("p",{className:"loading-text",children:"Loading rooms..."}):(()=>{const B=E?.filter(Q=>Q.training_id===k.id)||[],$=A?.filter(Q=>Q.training_id===k.id)||[],ie=te.filter(Q=>Q.accommodation_choice==="commute"),ce=te.filter(Q=>qu.includes(Q.pipeline_stage)&&!$.some(be=>be.application?.email===Q.email)&&Q.accommodation_choice!=="commute");return B.length===0?h.jsx("p",{className:"empty",children:"No rooms configured for this training"}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"room-assignments-grid",children:[B.map(Q=>{const be=$.find(Ge=>Ge.room_id===Q.id),xe=be?.application?`${be.application.first_name} ${be.application.last_name?.charAt(0)||""}`.trim():null,je=se?.roomId===Q.id,Ie=te.filter(Ge=>qu.includes(Ge.pipeline_stage)&&!$.some(Ye=>Ye.application?.email===Ge.email)&&Ge.accommodation_choice!=="commute"),Ve=Ge=>{if(Ge)return z?.find(Ye=>Ye.email?.toLowerCase()===Ge.toLowerCase()&&Ye.training_id===k.id)};return h.jsxs("div",{className:`room-assignment-card ${be?"occupied":"empty"} ${Q.is_premier?"premier":""}`,children:[h.jsxs("div",{className:"room-assignment-header",children:[h.jsx(dp,{size:16}),h.jsx("span",{className:"room-name",children:Q.name}),Q.is_premier&&h.jsx("span",{className:"premier-badge",children:"Premier"})]}),h.jsx("div",{className:"room-bed-type",children:Q.bed_type}),h.jsx("div",{className:"room-occupants",children:xe?h.jsxs("div",{className:"occupant-with-actions",children:[h.jsx("span",{className:"occupant-name",children:xe}),h.jsx("button",{className:"unassign-btn",onClick:()=>{be&&confirm(`Remove ${xe} from ${Q.name}?`)&&P.mutate(be.id)},title:"Remove assignment",children:h.jsx($a,{size:12})})]}):je?h.jsx("div",{className:"assign-dropdown",children:h.jsxs("select",{autoFocus:!0,onChange:Ge=>{const Ye=Ie.find(Z=>Z.id===Ge.target.value);if(Ye){const Z=Ve(Ye.email),We=Z?.id||Ye.id,Ot=Z?.user_id||void 0;console.log("Assigning room:",{roomId:Q.id,applicationId:We,trainingId:k.id,userId:Ot,hasPortalApp:!!Z}),D.mutate({roomId:Q.id,applicationId:We,trainingId:k.id,userId:Ot},{onSuccess:()=>console.log("Room assigned successfully"),onError:ut=>{console.error("Failed to assign room:",ut),alert(`Failed to assign room: ${ut.message}`)}})}he(null)},onBlur:()=>he(null),children:[h.jsx("option",{value:"",children:"Select person..."}),Ie.map(Ge=>h.jsx("option",{value:Ge.id,children:Ge.name},Ge.id))]})}):h.jsxs("button",{className:"assign-btn",onClick:()=>he({roomId:Q.id,trainingId:k.id}),disabled:Ie.length===0,title:Ie.length===0?"No enrolled applicants without rooms":"Assign someone to this room",children:[h.jsx(Ch,{size:12}),h.jsx("span",{children:"Assign"})]})})]},Q.id)}),ie.length>0&&h.jsxs("div",{className:"room-assignment-card commute occupied",children:[h.jsxs("div",{className:"room-assignment-header",children:[h.jsx(D0,{size:16}),h.jsx("span",{className:"room-name",children:"Commute"})]}),h.jsx("div",{className:"room-bed-type",children:"Daily travel"}),h.jsx("div",{className:"room-occupants",children:ie.map(Q=>h.jsx("span",{className:"occupant-name",children:Q.name?.split(" ")[0]},Q.id))})]})]}),h.jsxs("div",{className:"room-stats",children:[h.jsxs("span",{className:"stat",children:[h.jsx(dp,{size:14})," ",$.length," rooms reserved"]}),h.jsxs("span",{className:"stat",children:[h.jsx(D0,{size:14})," ",ie.length," commuting"]}),ce.length>0&&h.jsxs("span",{className:"stat pending",children:[ce.length," enrolled without room"]})]})]})})()]}),(()=>{console.log("[Admin Meals] training.id:",k.id,"allApplications count:",z?.length);const B=z?.filter(Q=>Q.training_id===k.id)||[];console.log("[Admin Meals] trainingApps:",B.length);const $=B.filter(Q=>Q.meal_selections&&Object.keys(Q.meal_selections).length>0);console.log("[Admin Meals] appsWithMeals:",$.length);const ie=k.start_date&&k.end_date?xT(k.start_date,k.end_date):[],ce={};return ie.forEach(Q=>{ce[Q.date]={lunch:{},dinner:{}}}),$.forEach(Q=>{const be=Q.meal_selections;ie.forEach(xe=>{if(be[xe.date]?.lunch){const je=be[xe.date].lunch;ce[xe.date].lunch[je]=(ce[xe.date].lunch[je]||0)+1}if(be[xe.date]?.dinner){const je=be[xe.date].dinner;ce[xe.date].dinner[je]=(ce[xe.date].dinner[je]||0)+1}})}),h.jsxs("div",{className:`detail-section meal-assignments-section ${k.meal_selection_enabled?"":"disabled"}`,children:[h.jsxs("h4",{children:[h.jsx(Zy,{size:16})," Meal Assignments",!k.meal_selection_enabled&&h.jsx("span",{className:"disabled-badge",children:"Disabled"})]}),k.meal_selection_enabled?$.length===0?h.jsx("p",{className:"empty",children:"No meal selections yet"}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"meal-summary-section",children:[h.jsx("h5",{children:"Meal Summary (for caterer)"}),h.jsx("div",{className:"meal-summary-grid",children:ie.map(Q=>{const be=Object.entries(ce[Q.date]?.lunch||{}),xe=Object.entries(ce[Q.date]?.dinner||{});return be.length===0&&xe.length===0?null:h.jsxs("div",{className:"meal-day-summary",children:[h.jsx("h6",{children:Q.label}),be.length>0&&h.jsxs("div",{className:"meal-slot-summary",children:[h.jsxs("span",{className:"meal-slot-label",children:[h.jsx(rb,{size:12})," Lunch"]}),h.jsx("ul",{children:be.map(([je,Ie])=>h.jsxs("li",{children:[h.jsxs("strong",{children:[Ie,"x"]})," ",je]},je))})]}),xe.length>0&&h.jsxs("div",{className:"meal-slot-summary",children:[h.jsxs("span",{className:"meal-slot-label",children:[h.jsx(nb,{size:12})," Dinner"]}),h.jsx("ul",{children:xe.map(([je,Ie])=>h.jsxs("li",{children:[h.jsxs("strong",{children:[Ie,"x"]})," ",je]},je))})]})]},Q.date)})})]}),h.jsxs("div",{className:"meal-assignments-table",children:[h.jsx("h5",{children:"Individual Assignments"}),h.jsxs("table",{children:[h.jsxs("thead",{children:[h.jsxs("tr",{children:[h.jsx("th",{children:"Participant"}),ie.map(Q=>h.jsx("th",{colSpan:2,children:Q.label},Q.date))]}),h.jsxs("tr",{className:"meal-type-row",children:[h.jsx("th",{}),ie.flatMap(Q=>[h.jsxs("th",{className:"meal-type lunch",children:[h.jsx(rb,{size:12})," L"]},`${Q.date}-lunch`),h.jsxs("th",{className:"meal-type dinner",children:[h.jsx(nb,{size:12})," D"]},`${Q.date}-dinner`)])]})]}),h.jsx("tbody",{children:$.map(Q=>{const be=Q.meal_selections;return h.jsxs("tr",{children:[h.jsxs("td",{className:"participant-name",children:[Q.first_name," ",Q.last_name?.charAt(0),"."]}),ie.flatMap(xe=>[h.jsx("td",{className:"meal-cell",title:be[xe.date]?.lunch||"",children:be[xe.date]?.lunch?"":"-"},`${xe.date}-lunch`),h.jsx("td",{className:"meal-cell",title:be[xe.date]?.dinner||"",children:be[xe.date]?.dinner?"":"-"},`${xe.date}-dinner`)])]},Q.id)})})]}),h.jsx("p",{className:"meal-hint",children:"Hover over  to see meal selection"})]})]}):h.jsx("p",{className:"empty disabled-message",children:"Meal selection is disabled for this training. Enable it in Settings above."})]})})(),(()=>{const B=z?.filter(Q=>Q.training_id===k.id)||[],$=B.filter(Q=>Q.dietary_preferences&&Q.dietary_preferences.length>0||Q.dietary_other||Q.allergies),ie=B.filter(Q=>Q.special_accommodations),ce=B.filter(Q=>Q.accommodation_notes);return $.length===0&&ie.length===0&&ce.length===0?null:h.jsxs("div",{className:"detail-section dietary-section",children:[h.jsxs("h4",{children:[h.jsx(k8,{size:16})," Dietary & Accommodation Needs"]}),$.length>0&&h.jsxs("div",{className:"needs-subsection",children:[h.jsx("h5",{children:"Dietary Preferences & Allergies"}),h.jsx("div",{className:"needs-list",children:$.map(Q=>h.jsxs("div",{className:"need-item",children:[h.jsxs("span",{className:"person-name",children:[Q.first_name," ",Q.last_name]}),h.jsxs("div",{className:"need-details",children:[Q.dietary_preferences&&Q.dietary_preferences.length>0&&h.jsx("span",{className:"dietary-tags",children:Q.dietary_preferences.map((be,xe)=>h.jsx("span",{className:"dietary-tag",children:be},xe))}),Q.dietary_other&&h.jsx("span",{className:"dietary-note",children:Q.dietary_other}),Q.allergies&&h.jsxs("span",{className:"allergy-note",children:[h.jsx(Ww,{size:12})," ",Q.allergies]})]})]},Q.id))})]}),ie.length>0&&h.jsxs("div",{className:"needs-subsection",children:[h.jsx("h5",{children:"Special Accommodations"}),h.jsx("div",{className:"needs-list",children:ie.map(Q=>h.jsxs("div",{className:"need-item special",children:[h.jsxs("span",{className:"person-name",children:[Q.first_name," ",Q.last_name]}),h.jsx("p",{className:"need-text",children:Q.special_accommodations})]},Q.id))})]}),ce.length>0&&h.jsxs("div",{className:"needs-subsection",children:[h.jsxs("h5",{children:[h.jsx(g8,{size:14})," Additional Notes"]}),h.jsx("div",{className:"needs-list",children:ce.map(Q=>h.jsxs("div",{className:"need-item note",children:[h.jsxs("span",{className:"person-name",children:[Q.first_name," ",Q.last_name]}),h.jsx("p",{className:"need-text",children:Q.accommodation_notes})]},Q.id))})]})]})})()]})]},k.id)}),le.length===0&&h.jsx("p",{className:"empty-section",children:"No upcoming trainings"})]})]}),ue.length>0&&h.jsxs("section",{className:"trainings-section past",children:[h.jsx("h2",{className:"section-title",children:"Past Trainings"}),h.jsx("div",{className:"trainings-list",children:ue.map(k=>{const I=j?.filter(ve=>ve.training_id===k.id)||[],te=k.max_capacity||6,J=I.filter(ve=>qu.includes(ve.pipeline_stage)).length;return h.jsx("div",{className:"training-card past",children:h.jsxs("div",{className:"training-header",children:[h.jsxs("div",{className:"training-info",children:[h.jsx("h3",{children:k.name}),h.jsxs("div",{className:"training-meta",children:[k.start_date&&h.jsxs("span",{children:[h.jsx(Ra,{size:14})," ",li(new Date(k.start_date),"MMM d")," - ",k.end_date&&li(new Date(k.end_date),"MMM d, yyyy")]}),h.jsxs("span",{children:[h.jsx(rd,{size:14})," ",J," / ",te," completed"]})]})]}),h.jsx("span",{className:"status-badge completed",children:"Completed"})]})},k.id)})})]})]})}function NT(){return ki({queryKey:["courses"],queryFn:async()=>{const{data:t,error:e}=await dt.from("courses").select("*").order("sort_order",{ascending:!0});if(e)throw e;return t}})}function jT(t){return ki({queryKey:["course",t],queryFn:async()=>{if(!t)throw new Error("No course ID provided");const{data:e,error:n}=await dt.from("courses").select("*").eq("id",t).single();if(n)throw n;return e},enabled:!!t})}function AT(t){return ki({queryKey:["course-modules",t],queryFn:async()=>{if(!t)throw new Error("No course ID provided");const{data:e,error:n}=await dt.from("course_modules").select(`
          *,
          lessons:course_lessons(*),
          resources:course_resources(*)
        `).eq("course_id",t).order("sort_order",{ascending:!0});if(n)throw n;return e.map(a=>({...a,lessons:(a.lessons||[]).sort((s,o)=>s.sort_order-o.sort_order),resources:(a.resources||[]).sort((s,o)=>s.sort_order-o.sort_order)}))},enabled:!!t})}function d_(){const t=Vn();return ui({mutationFn:async({id:e,updates:n})=>{const{data:a,error:s}=await dt.from("courses").update({...n,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)throw s;return a},onSuccess:(e,n)=>{t.invalidateQueries({queryKey:["courses"]}),t.invalidateQueries({queryKey:["course",n.id]})}})}function ET(){const t=Vn();return ui({mutationFn:async e=>{const{data:n,error:a}=await dt.from("course_modules").insert(e).select().single();if(a)throw a;return n},onSuccess:(e,n)=>{t.invalidateQueries({queryKey:["course-modules",n.course_id]})}})}function CT(){const t=Vn();return ui({mutationFn:async e=>{const{data:n,error:a}=await dt.from("course_modules").update({...e.updates,updated_at:new Date().toISOString()}).eq("id",e.id).select().single();if(a)throw a;return{data:n,courseId:e.courseId}},onSuccess:e=>{t.invalidateQueries({queryKey:["course-modules",e.courseId]})}})}function kT(){const t=Vn();return ui({mutationFn:async e=>{const{error:n}=await dt.from("course_modules").delete().eq("id",e.id);if(n)throw n;return{courseId:e.courseId}},onSuccess:e=>{t.invalidateQueries({queryKey:["course-modules",e.courseId]})}})}function LT(){const t=Vn();return ui({mutationFn:async e=>{const n=e.moduleIds.map((a,s)=>({id:a,sort_order:s}));for(const a of n){const{error:s}=await dt.from("course_modules").update({sort_order:a.sort_order}).eq("id",a.id);if(s)throw s}return{courseId:e.courseId}},onSuccess:e=>{t.invalidateQueries({queryKey:["course-modules",e.courseId]})}})}function TT(){const t=Vn();return ui({mutationFn:async({courseId:e,lesson:n})=>{const{data:a,error:s}=await dt.from("course_lessons").insert(n).select().single();if(s)throw s;return{data:a,courseId:e}},onSuccess:e=>{t.invalidateQueries({queryKey:["course-modules",e.courseId]})}})}function OT(){const t=Vn();return ui({mutationFn:async({id:e,courseId:n,updates:a})=>{const{data:s,error:o}=await dt.from("course_lessons").update({...a,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(o)throw o;return{data:s,courseId:n}},onSuccess:e=>{t.invalidateQueries({queryKey:["course-modules",e.courseId]})}})}function RT(){const t=Vn();return ui({mutationFn:async({id:e,courseId:n})=>{const{error:a}=await dt.from("course_lessons").delete().eq("id",e);if(a)throw a;return{courseId:n}},onSuccess:e=>{t.invalidateQueries({queryKey:["course-modules",e.courseId]})}})}function DT(){const t=Vn();return ui({mutationFn:async({courseId:e,moduleId:n,lessonIds:a})=>{const s=a.map((o,u)=>({id:o,sort_order:u}));for(const o of s){const{error:u}=await dt.from("course_lessons").update({sort_order:o.sort_order}).eq("id",o.id);if(u)throw u}return{courseId:e,moduleId:n}},onSuccess:e=>{t.invalidateQueries({queryKey:["course-modules",e.courseId]})}})}function MT(){const t=Vn();return ui({mutationFn:async({courseId:e,resource:n})=>{const{data:a,error:s}=await dt.from("course_resources").insert(n).select().single();if(s)throw s;return{data:a,courseId:e}},onSuccess:e=>{t.invalidateQueries({queryKey:["course-modules",e.courseId]})}})}function PT(){const t=Vn();return ui({mutationFn:async({id:e,courseId:n})=>{const{error:a}=await dt.from("course_resources").delete().eq("id",e);if(a)throw a;return{courseId:n}},onSuccess:e=>{t.invalidateQueries({queryKey:["course-modules",e.courseId]})}})}const zT={beginning:"#F59E0B",intermediate:"#8B5CF6",advanced:"#EF4444",mastery:"#3B82F6",facilitator:"#10B981"};function BT(t){return zT[t]||"#6B7280"}function UT(){const{data:t,isLoading:e}=NT(),n=d_(),a=(s,o,u)=>{u.preventDefault(),u.stopPropagation(),n.mutate({id:s,updates:{is_published:!o}})};return e?h.jsx("div",{className:"page loading",children:"Loading courses..."}):h.jsxs("div",{className:"page courses",children:[h.jsxs("header",{className:"page-header",children:[h.jsx("h1",{children:"Courses"}),h.jsxs("p",{className:"subtitle",children:[t?.length||0," courses configured"]})]}),h.jsxs("div",{className:"courses-list",children:[t?.map(s=>{const o=BT(s.slug);return h.jsxs(oi,{to:`/courses/${s.id}`,className:"course-card",style:{borderLeftColor:o},children:[h.jsx("div",{className:"course-icon",style:{backgroundColor:o+"15",color:o},children:h.jsx(Ah,{size:24})}),h.jsxs("div",{className:"course-info",children:[h.jsxs("div",{className:"course-title-row",children:[h.jsx("h3",{children:s.name}),h.jsx("span",{className:"course-badge",style:{backgroundColor:o+"20",color:o},children:s.slug})]}),s.description&&h.jsx("p",{className:"course-desc",children:s.description}),h.jsxs("div",{className:"course-meta",children:[h.jsxs("span",{children:[h.jsx(x1,{size:14})," Modules"]}),h.jsxs("span",{children:[h.jsx(Ko,{size:14})," Lessons"]})]})]}),h.jsxs("div",{className:"course-actions",children:[h.jsx("button",{className:`btn-visibility ${s.is_published?"visible":"hidden"}`,onClick:u=>a(s.id,s.is_published,u),title:s.is_published?"Visible to students":"Hidden from students",children:s.is_published?h.jsx(Uh,{size:18}):h.jsx(Bh,{size:18})}),h.jsx(Pc,{size:20,className:"chevron"})]})]},s.id)}),(!t||t.length===0)&&h.jsxs("div",{className:"empty-state",children:[h.jsx(Ah,{size:48}),h.jsx("h3",{children:"No courses found"}),h.jsx("p",{children:"Courses will appear here once they are added to the database."})]})]})]})}function IT(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return V.useMemo(()=>a=>{e.forEach(s=>s(a))},e)}const Zp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pd(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function O1(t){return"nodeType"in t}function hr(t){var e,n;return t?pd(t)?t:O1(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function R1(t){const{Document:e}=hr(t);return t instanceof e}function Hh(t){return pd(t)?!1:t instanceof hr(t).HTMLElement}function h_(t){return t instanceof hr(t).SVGElement}function md(t){return t?pd(t)?t.document:O1(t)?R1(t)?t:Hh(t)||h_(t)?t.ownerDocument:document:document:document}const fo=Zp?V.useLayoutEffect:V.useEffect;function D1(t){const e=V.useRef(t);return fo(()=>{e.current=t}),V.useCallback(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e.current==null?void 0:e.current(...a)},[])}function qT(){const t=V.useRef(null),e=V.useCallback((a,s)=>{t.current=setInterval(a,s)},[]),n=V.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Oh(t,e){e===void 0&&(e=[t]);const n=V.useRef(t);return fo(()=>{n.current!==t&&(n.current=t)},e),n}function $h(t,e){const n=V.useRef();return V.useMemo(()=>{const a=t(n.current);return n.current=a,a},[...e])}function zp(t){const e=D1(t),n=V.useRef(null),a=V.useCallback(s=>{s!==n.current&&e?.(s,n.current),n.current=s},[]);return[n,a]}function t1(t){const e=V.useRef();return V.useEffect(()=>{e.current=t},[t]),e.current}let c0={};function Gh(t,e){return V.useMemo(()=>{if(e)return e;const n=c0[t]==null?0:c0[t]+1;return c0[t]=n,t+"-"+n},[t,e])}function f_(t){return function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return a.reduce((o,u)=>{const c=Object.entries(u);for(const[f,p]of c){const g=o[f];g!=null&&(o[f]=g+t*p)}return o},{...e})}}const id=f_(1),Rh=f_(-1);function FT(t){return"clientX"in t&&"clientY"in t}function M1(t){if(!t)return!1;const{KeyboardEvent:e}=hr(t.target);return e&&t instanceof e}function HT(t){if(!t)return!1;const{TouchEvent:e}=hr(t.target);return e&&t instanceof e}function n1(t){if(HT(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return FT(t)?{x:t.clientX,y:t.clientY}:null}const sd=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[sd.Translate.toString(t),sd.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:a}=t;return e+" "+n+"ms "+a}}}),M5="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function $T(t){return t.matches(M5)?t:t.querySelector(M5)}const GT={display:"none"};function VT(t){let{id:e,value:n}=t;return ur.createElement("div",{id:e,style:GT},n)}function WT(t){let{id:e,announcement:n,ariaLiveType:a="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ur.createElement("div",{id:e,style:s,role:"status","aria-live":a,"aria-atomic":!0},n)}function YT(){const[t,e]=V.useState("");return{announce:V.useCallback(a=>{a!=null&&e(a)},[]),announcement:t}}const p_=V.createContext(null);function KT(t){const e=V.useContext(p_);V.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function QT(){const[t]=V.useState(()=>new Set),e=V.useCallback(a=>(t.add(a),()=>t.delete(a)),[t]);return[V.useCallback(a=>{let{type:s,event:o}=a;t.forEach(u=>{var c;return(c=u[s])==null?void 0:c.call(u,o)})},[t]),e]}const XT={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},JT={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function ZT(t){let{announcements:e=JT,container:n,hiddenTextDescribedById:a,screenReaderInstructions:s=XT}=t;const{announce:o,announcement:u}=YT(),c=Gh("DndLiveRegion"),[f,p]=V.useState(!1);if(V.useEffect(()=>{p(!0)},[]),KT(V.useMemo(()=>({onDragStart(v){let{active:_}=v;o(e.onDragStart({active:_}))},onDragMove(v){let{active:_,over:b}=v;e.onDragMove&&o(e.onDragMove({active:_,over:b}))},onDragOver(v){let{active:_,over:b}=v;o(e.onDragOver({active:_,over:b}))},onDragEnd(v){let{active:_,over:b}=v;o(e.onDragEnd({active:_,over:b}))},onDragCancel(v){let{active:_,over:b}=v;o(e.onDragCancel({active:_,over:b}))}}),[o,e])),!f)return null;const g=ur.createElement(ur.Fragment,null,ur.createElement(VT,{id:a,value:s.draggable}),ur.createElement(WT,{id:c,announcement:u}));return n?oh.createPortal(g,n):g}var ia;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(ia||(ia={}));function Bp(){}function Up(t,e){return V.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function m_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return V.useMemo(()=>[...e].filter(a=>a!=null),[...e])}const Bs=Object.freeze({x:0,y:0});function g_(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function v_(t,e){let{data:{value:n}}=t,{data:{value:a}}=e;return n-a}function eO(t,e){let{data:{value:n}}=t,{data:{value:a}}=e;return a-n}function P5(t){let{left:e,top:n,height:a,width:s}=t;return[{x:e,y:n},{x:e+s,y:n},{x:e,y:n+a},{x:e+s,y:n+a}]}function y_(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function z5(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const b_=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const s=z5(e,e.left,e.top),o=[];for(const u of a){const{id:c}=u,f=n.get(c);if(f){const p=g_(z5(f),s);o.push({id:c,data:{droppableContainer:u,value:p}})}}return o.sort(v_)},tO=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const s=P5(e),o=[];for(const u of a){const{id:c}=u,f=n.get(c);if(f){const p=P5(f),g=s.reduce((_,b,j)=>_+g_(p[j],b),0),v=Number((g/4).toFixed(4));o.push({id:c,data:{droppableContainer:u,value:v}})}}return o.sort(v_)};function nO(t,e){const n=Math.max(e.top,t.top),a=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),u=s-a,c=o-n;if(a<s&&n<o){const f=e.width*e.height,p=t.width*t.height,g=u*c,v=g/(f+p-g);return Number(v.toFixed(4))}return 0}const iO=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const s=[];for(const o of a){const{id:u}=o,c=n.get(u);if(c){const f=nO(c,e);f>0&&s.push({id:u,data:{droppableContainer:o,value:f}})}}return s.sort(eO)};function aO(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function w_(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Bs}function rO(t){return function(n){for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];return s.reduce((u,c)=>({...u,top:u.top+t*c.y,bottom:u.bottom+t*c.y,left:u.left+t*c.x,right:u.right+t*c.x}),{...n})}}const sO=rO(1);function oO(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function lO(t,e,n){const a=oO(e);if(!a)return t;const{scaleX:s,scaleY:o,x:u,y:c}=a,f=t.left-u-(1-s)*parseFloat(n),p=t.top-c-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),g=s?t.width/s:t.width,v=o?t.height/o:t.height;return{width:g,height:v,top:p,right:f+g,bottom:p+v,left:f}}const cO={ignoreTransform:!1};function gd(t,e){e===void 0&&(e=cO);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:p,transformOrigin:g}=hr(t).getComputedStyle(t);p&&(n=lO(n,p,g))}const{top:a,left:s,width:o,height:u,bottom:c,right:f}=n;return{top:a,left:s,width:o,height:u,bottom:c,right:f}}function B5(t){return gd(t,{ignoreTransform:!0})}function uO(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function dO(t,e){return e===void 0&&(e=hr(t).getComputedStyle(t)),e.position==="fixed"}function hO(t,e){e===void 0&&(e=hr(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=e[s];return typeof o=="string"?n.test(o):!1})}function em(t,e){const n=[];function a(s){if(e!=null&&n.length>=e||!s)return n;if(R1(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Hh(s)||h_(s)||n.includes(s))return n;const o=hr(t).getComputedStyle(s);return s!==t&&hO(s,o)&&n.push(s),dO(s,o)?n:a(s.parentNode)}return t?a(t):n}function x_(t){const[e]=em(t,1);return e??null}function u0(t){return!Zp||!t?null:pd(t)?t:O1(t)?R1(t)||t===md(t).scrollingElement?window:Hh(t)?t:null:null}function __(t){return pd(t)?t.scrollX:t.scrollLeft}function S_(t){return pd(t)?t.scrollY:t.scrollTop}function i1(t){return{x:__(t),y:S_(t)}}var fa;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(fa||(fa={}));function N_(t){return!Zp||!t?!1:t===document.scrollingElement}function j_(t){const e={x:0,y:0},n=N_(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},a={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,u=t.scrollTop>=a.y,c=t.scrollLeft>=a.x;return{isTop:s,isLeft:o,isBottom:u,isRight:c,maxScroll:a,minScroll:e}}const fO={x:.2,y:.2};function pO(t,e,n,a,s){let{top:o,left:u,right:c,bottom:f}=n;a===void 0&&(a=10),s===void 0&&(s=fO);const{isTop:p,isBottom:g,isLeft:v,isRight:_}=j_(t),b={x:0,y:0},j={x:0,y:0},E={height:e.height*s.y,width:e.width*s.x};return!p&&o<=e.top+E.height?(b.y=fa.Backward,j.y=a*Math.abs((e.top+E.height-o)/E.height)):!g&&f>=e.bottom-E.height&&(b.y=fa.Forward,j.y=a*Math.abs((e.bottom-E.height-f)/E.height)),!_&&c>=e.right-E.width?(b.x=fa.Forward,j.x=a*Math.abs((e.right-E.width-c)/E.width)):!v&&u<=e.left+E.width&&(b.x=fa.Backward,j.x=a*Math.abs((e.left+E.width-u)/E.width)),{direction:b,speed:j}}function mO(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:u}=window;return{top:0,left:0,right:o,bottom:u,width:o,height:u}}const{top:e,left:n,right:a,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:a,bottom:s,width:t.clientWidth,height:t.clientHeight}}function A_(t){return t.reduce((e,n)=>id(e,i1(n)),Bs)}function gO(t){return t.reduce((e,n)=>e+__(n),0)}function vO(t){return t.reduce((e,n)=>e+S_(n),0)}function yO(t,e){if(e===void 0&&(e=gd),!t)return;const{top:n,left:a,bottom:s,right:o}=e(t);x_(t)&&(s<=0||o<=0||n>=window.innerHeight||a>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const bO=[["x",["left","right"],gO],["y",["top","bottom"],vO]];class P1{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=em(n),s=A_(a);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,u,c]of bO)for(const f of u)Object.defineProperty(this,f,{get:()=>{const p=c(a),g=s[o]-p;return this.rect[f]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ph{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=e}add(e,n,a){var s;(s=this.target)==null||s.addEventListener(e,n,a),this.listeners.push([e,n,a])}}function wO(t){const{EventTarget:e}=hr(t);return t instanceof e?t:md(t)}function d0(t,e){const n=Math.abs(t.x),a=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+a**2)>e:"x"in e&&"y"in e?n>e.x&&a>e.y:"x"in e?n>e.x:"y"in e?a>e.y:!1}var es;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(es||(es={}));function U5(t){t.preventDefault()}function xO(t){t.stopPropagation()}var on;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(on||(on={}));const E_={start:[on.Space,on.Enter],cancel:[on.Esc],end:[on.Space,on.Enter,on.Tab]},_O=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case on.Right:return{...n,x:n.x+25};case on.Left:return{...n,x:n.x-25};case on.Down:return{...n,y:n.y+25};case on.Up:return{...n,y:n.y-25}}};class tm{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new ph(md(n)),this.windowListeners=new ph(hr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(es.Resize,this.handleCancel),this.windowListeners.add(es.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(es.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,a=e.node.current;a&&yO(a),n(Bs)}handleKeyDown(e){if(M1(e)){const{active:n,context:a,options:s}=this.props,{keyboardCodes:o=E_,coordinateGetter:u=_O,scrollBehavior:c="smooth"}=s,{code:f}=e;if(o.end.includes(f)){this.handleEnd(e);return}if(o.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:p}=a.current,g=p?{x:p.left,y:p.top}:Bs;this.referenceCoordinates||(this.referenceCoordinates=g);const v=u(e,{active:n,context:a.current,currentCoordinates:g});if(v){const _=Rh(v,g),b={x:0,y:0},{scrollableAncestors:j}=a.current;for(const E of j){const T=e.code,{isTop:A,isRight:z,isLeft:D,isBottom:P,maxScroll:se,minScroll:he}=j_(E),oe=mO(E),ee={x:Math.min(T===on.Right?oe.right-oe.width/2:oe.right,Math.max(T===on.Right?oe.left:oe.left+oe.width/2,v.x)),y:Math.min(T===on.Down?oe.bottom-oe.height/2:oe.bottom,Math.max(T===on.Down?oe.top:oe.top+oe.height/2,v.y))},X=T===on.Right&&!z||T===on.Left&&!D,pe=T===on.Down&&!P||T===on.Up&&!A;if(X&&ee.x!==v.x){const U=E.scrollLeft+_.x,Y=T===on.Right&&U<=se.x||T===on.Left&&U>=he.x;if(Y&&!_.y){E.scrollTo({left:U,behavior:c});return}Y?b.x=E.scrollLeft-U:b.x=T===on.Right?E.scrollLeft-se.x:E.scrollLeft-he.x,b.x&&E.scrollBy({left:-b.x,behavior:c});break}else if(pe&&ee.y!==v.y){const U=E.scrollTop+_.y,Y=T===on.Down&&U<=se.y||T===on.Up&&U>=he.y;if(Y&&!_.x){E.scrollTo({top:U,behavior:c});return}Y?b.y=E.scrollTop-U:b.y=T===on.Down?E.scrollTop-se.y:E.scrollTop-he.y,b.y&&E.scrollBy({top:-b.y,behavior:c});break}}this.handleMove(e,id(Rh(v,this.referenceCoordinates),b))}}}handleMove(e,n){const{onMove:a}=this.props;e.preventDefault(),a(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}tm.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:a=E_,onActivation:s}=e,{active:o}=n;const{code:u}=t.nativeEvent;if(a.start.includes(u)){const c=o.activatorNode.current;return c&&t.target!==c?!1:(t.preventDefault(),s?.({event:t.nativeEvent}),!0)}return!1}}];function I5(t){return!!(t&&"distance"in t)}function q5(t){return!!(t&&"delay"in t)}class z1{constructor(e,n,a){var s;a===void 0&&(a=wO(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:o}=e,{target:u}=o;this.props=e,this.events=n,this.document=md(u),this.documentListeners=new ph(this.document),this.listeners=new ph(a),this.windowListeners=new ph(hr(u)),this.initialCoordinates=(s=n1(o))!=null?s:Bs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(es.Resize,this.handleCancel),this.windowListeners.add(es.DragStart,U5),this.windowListeners.add(es.VisibilityChange,this.handleCancel),this.windowListeners.add(es.ContextMenu,U5),this.documentListeners.add(es.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(q5(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(I5(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:a,onPending:s}=this.props;s(a,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(es.Click,xO,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(es.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:a,initialCoordinates:s,props:o}=this,{onMove:u,options:{activationConstraint:c}}=o;if(!s)return;const f=(n=n1(e))!=null?n:Bs,p=Rh(s,f);if(!a&&c){if(I5(c)){if(c.tolerance!=null&&d0(p,c.tolerance))return this.handleCancel();if(d0(p,c.distance))return this.handleStart()}if(q5(c)&&d0(p,c.tolerance))return this.handleCancel();this.handlePending(c,p);return}e.cancelable&&e.preventDefault(),u(f)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===on.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const SO={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class nm extends z1{constructor(e){const{event:n}=e,a=md(n.target);super(e,SO,a)}}nm.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;return!n.isPrimary||n.button!==0?!1:(a?.({event:n}),!0)}}];const NO={move:{name:"mousemove"},end:{name:"mouseup"}};var a1;(function(t){t[t.RightClick=2]="RightClick"})(a1||(a1={}));class jO extends z1{constructor(e){super(e,NO,md(e.event.target))}}jO.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;return n.button===a1.RightClick?!1:(a?.({event:n}),!0)}}];const h0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class AO extends z1{constructor(e){super(e,h0)}static setup(){return window.addEventListener(h0.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(h0.move.name,e)};function e(){}}}AO.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;const{touches:s}=n;return s.length>1?!1:(a?.({event:n}),!0)}}];var mh;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(mh||(mh={}));var Ip;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ip||(Ip={}));function EO(t){let{acceleration:e,activator:n=mh.Pointer,canScroll:a,draggingRect:s,enabled:o,interval:u=5,order:c=Ip.TreeOrder,pointerCoordinates:f,scrollableAncestors:p,scrollableAncestorRects:g,delta:v,threshold:_}=t;const b=kO({delta:v,disabled:!o}),[j,E]=qT(),T=V.useRef({x:0,y:0}),A=V.useRef({x:0,y:0}),z=V.useMemo(()=>{switch(n){case mh.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case mh.DraggableRect:return s}},[n,s,f]),D=V.useRef(null),P=V.useCallback(()=>{const he=D.current;if(!he)return;const oe=T.current.x*A.current.x,ee=T.current.y*A.current.y;he.scrollBy(oe,ee)},[]),se=V.useMemo(()=>c===Ip.TreeOrder?[...p].reverse():p,[c,p]);V.useEffect(()=>{if(!o||!p.length||!z){E();return}for(const he of se){if(a?.(he)===!1)continue;const oe=p.indexOf(he),ee=g[oe];if(!ee)continue;const{direction:X,speed:pe}=pO(he,ee,z,e,_);for(const U of["x","y"])b[U][X[U]]||(pe[U]=0,X[U]=0);if(pe.x>0||pe.y>0){E(),D.current=he,j(P,u),T.current=pe,A.current=X;return}}T.current={x:0,y:0},A.current={x:0,y:0},E()},[e,P,a,E,o,u,JSON.stringify(z),JSON.stringify(b),j,p,se,g,JSON.stringify(_)])}const CO={x:{[fa.Backward]:!1,[fa.Forward]:!1},y:{[fa.Backward]:!1,[fa.Forward]:!1}};function kO(t){let{delta:e,disabled:n}=t;const a=t1(e);return $h(s=>{if(n||!a||!s)return CO;const o={x:Math.sign(e.x-a.x),y:Math.sign(e.y-a.y)};return{x:{[fa.Backward]:s.x[fa.Backward]||o.x===-1,[fa.Forward]:s.x[fa.Forward]||o.x===1},y:{[fa.Backward]:s.y[fa.Backward]||o.y===-1,[fa.Forward]:s.y[fa.Forward]||o.y===1}}},[n,e,a])}function LO(t,e){const n=e!=null?t.get(e):void 0,a=n?n.node.current:null;return $h(s=>{var o;return e==null?null:(o=a??s)!=null?o:null},[a,e])}function TO(t,e){return V.useMemo(()=>t.reduce((n,a)=>{const{sensor:s}=a,o=s.activators.map(u=>({eventName:u.eventName,handler:e(u.handler,a)}));return[...n,...o]},[]),[t,e])}var Dh;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Dh||(Dh={}));var r1;(function(t){t.Optimized="optimized"})(r1||(r1={}));const F5=new Map;function OO(t,e){let{dragging:n,dependencies:a,config:s}=e;const[o,u]=V.useState(null),{frequency:c,measure:f,strategy:p}=s,g=V.useRef(t),v=T(),_=Oh(v),b=V.useCallback(function(A){A===void 0&&(A=[]),!_.current&&u(z=>z===null?A:z.concat(A.filter(D=>!z.includes(D))))},[_]),j=V.useRef(null),E=$h(A=>{if(v&&!n)return F5;if(!A||A===F5||g.current!==t||o!=null){const z=new Map;for(let D of t){if(!D)continue;if(o&&o.length>0&&!o.includes(D.id)&&D.rect.current){z.set(D.id,D.rect.current);continue}const P=D.node.current,se=P?new P1(f(P),P):null;D.rect.current=se,se&&z.set(D.id,se)}return z}return A},[t,o,n,v,f]);return V.useEffect(()=>{g.current=t},[t]),V.useEffect(()=>{v||b()},[n,v]),V.useEffect(()=>{o&&o.length>0&&u(null)},[JSON.stringify(o)]),V.useEffect(()=>{v||typeof c!="number"||j.current!==null||(j.current=setTimeout(()=>{b(),j.current=null},c))},[c,v,b,...a]),{droppableRects:E,measureDroppableContainers:b,measuringScheduled:o!=null};function T(){switch(p){case Dh.Always:return!1;case Dh.BeforeDragging:return n;default:return!n}}}function C_(t,e){return $h(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function RO(t,e){return C_(t,e)}function DO(t){let{callback:e,disabled:n}=t;const a=D1(e),s=V.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(a)},[a,n]);return V.useEffect(()=>()=>s?.disconnect(),[s]),s}function im(t){let{callback:e,disabled:n}=t;const a=D1(e),s=V.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(a)},[n]);return V.useEffect(()=>()=>s?.disconnect(),[s]),s}function MO(t){return new P1(gd(t),t)}function H5(t,e,n){e===void 0&&(e=MO);const[a,s]=V.useState(null);function o(){s(f=>{if(!t)return null;if(t.isConnected===!1){var p;return(p=f??n)!=null?p:null}const g=e(t);return JSON.stringify(f)===JSON.stringify(g)?f:g})}const u=DO({callback(f){if(t)for(const p of f){const{type:g,target:v}=p;if(g==="childList"&&v instanceof HTMLElement&&v.contains(t)){o();break}}}}),c=im({callback:o});return fo(()=>{o(),t?(c?.observe(t),u?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),u?.disconnect())},[t]),a}function PO(t){const e=C_(t);return w_(t,e)}const $5=[];function zO(t){const e=V.useRef(t),n=$h(a=>t?a&&a!==$5&&t&&e.current&&t.parentNode===e.current.parentNode?a:em(t):$5,[t]);return V.useEffect(()=>{e.current=t},[t]),n}function BO(t){const[e,n]=V.useState(null),a=V.useRef(t),s=V.useCallback(o=>{const u=u0(o.target);u&&n(c=>c?(c.set(u,i1(u)),new Map(c)):null)},[]);return V.useEffect(()=>{const o=a.current;if(t!==o){u(o);const c=t.map(f=>{const p=u0(f);return p?(p.addEventListener("scroll",s,{passive:!0}),[p,i1(p)]):null}).filter(f=>f!=null);n(c.length?new Map(c):null),a.current=t}return()=>{u(t),u(o)};function u(c){c.forEach(f=>{const p=u0(f);p?.removeEventListener("scroll",s)})}},[s,t]),V.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,u)=>id(o,u),Bs):A_(t):Bs,[t,e])}function G5(t,e){e===void 0&&(e=[]);const n=V.useRef(null);return V.useEffect(()=>{n.current=null},e),V.useEffect(()=>{const a=t!==Bs;a&&!n.current&&(n.current=t),!a&&n.current&&(n.current=null)},[t]),n.current?Rh(t,n.current):Bs}function UO(t){V.useEffect(()=>{if(!Zp)return;const e=t.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function IO(t,e){return V.useMemo(()=>t.reduce((n,a)=>{let{eventName:s,handler:o}=a;return n[s]=u=>{o(u,e)},n},{}),[t,e])}function k_(t){return V.useMemo(()=>t?uO(t):null,[t])}const V5=[];function qO(t,e){e===void 0&&(e=gd);const[n]=t,a=k_(n?hr(n):null),[s,o]=V.useState(V5);function u(){o(()=>t.length?t.map(f=>N_(f)?a:new P1(e(f),f)):V5)}const c=im({callback:u});return fo(()=>{c?.disconnect(),u(),t.forEach(f=>c?.observe(f))},[t]),s}function FO(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Hh(e)?e:t}function HO(t){let{measure:e}=t;const[n,a]=V.useState(null),s=V.useCallback(p=>{for(const{target:g}of p)if(Hh(g)){a(v=>{const _=e(g);return v?{...v,width:_.width,height:_.height}:_});break}},[e]),o=im({callback:s}),u=V.useCallback(p=>{const g=FO(p);o?.disconnect(),g&&o?.observe(g),a(g?e(g):null)},[e,o]),[c,f]=zp(u);return V.useMemo(()=>({nodeRef:c,rect:n,setRef:f}),[n,c,f])}const $O=[{sensor:nm,options:{}},{sensor:tm,options:{}}],GO={current:{}},bp={draggable:{measure:B5},droppable:{measure:B5,strategy:Dh.WhileDragging,frequency:r1.Optimized},dragOverlay:{measure:gd}};class gh extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,a;return(n=(a=this.get(e))==null?void 0:a.node.current)!=null?n:void 0}}const VO={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new gh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Bp},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:bp,measureDroppableContainers:Bp,windowRect:null,measuringScheduled:!1},WO={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Bp,draggableNodes:new Map,over:null,measureDroppableContainers:Bp},am=V.createContext(WO),L_=V.createContext(VO);function YO(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new gh}}}function KO(t,e){switch(e.type){case ia.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case ia.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case ia.DragEnd:case ia.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ia.RegisterDroppable:{const{element:n}=e,{id:a}=n,s=new gh(t.droppable.containers);return s.set(a,n),{...t,droppable:{...t.droppable,containers:s}}}case ia.SetDroppableDisabled:{const{id:n,key:a,disabled:s}=e,o=t.droppable.containers.get(n);if(!o||a!==o.key)return t;const u=new gh(t.droppable.containers);return u.set(n,{...o,disabled:s}),{...t,droppable:{...t.droppable,containers:u}}}case ia.UnregisterDroppable:{const{id:n,key:a}=e,s=t.droppable.containers.get(n);if(!s||a!==s.key)return t;const o=new gh(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function QO(t){let{disabled:e}=t;const{active:n,activatorEvent:a,draggableNodes:s}=V.useContext(am),o=t1(a),u=t1(n?.id);return V.useEffect(()=>{if(!e&&!a&&o&&u!=null){if(!M1(o)||document.activeElement===o.target)return;const c=s.get(u);if(!c)return;const{activatorNode:f,node:p}=c;if(!f.current&&!p.current)return;requestAnimationFrame(()=>{for(const g of[f.current,p.current]){if(!g)continue;const v=$T(g);if(v){v.focus();break}}})}},[a,e,s,u,o]),null}function XO(t,e){let{transform:n,...a}=e;return t!=null&&t.length?t.reduce((s,o)=>o({transform:s,...a}),n):n}function JO(t){return V.useMemo(()=>({draggable:{...bp.draggable,...t?.draggable},droppable:{...bp.droppable,...t?.droppable},dragOverlay:{...bp.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function ZO(t){let{activeNode:e,measure:n,initialRect:a,config:s=!0}=t;const o=V.useRef(!1),{x:u,y:c}=typeof s=="boolean"?{x:s,y:s}:s;fo(()=>{if(!u&&!c||!e){o.current=!1;return}if(o.current||!a)return;const p=e?.node.current;if(!p||p.isConnected===!1)return;const g=n(p),v=w_(g,a);if(u||(v.x=0),c||(v.y=0),o.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const _=x_(p);_&&_.scrollBy({top:v.y,left:v.x})}},[e,u,c,a,n])}const T_=V.createContext({...Bs,scaleX:1,scaleY:1});var Bl;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Bl||(Bl={}));const O_=V.memo(function(e){var n,a,s,o;let{id:u,accessibility:c,autoScroll:f=!0,children:p,sensors:g=$O,collisionDetection:v=iO,measuring:_,modifiers:b,...j}=e;const E=V.useReducer(KO,void 0,YO),[T,A]=E,[z,D]=QT(),[P,se]=V.useState(Bl.Uninitialized),he=P===Bl.Initialized,{draggable:{active:oe,nodes:ee,translate:X},droppable:{containers:pe}}=T,U=oe!=null?ee.get(oe):null,Y=V.useRef({initial:null,translated:null}),le=V.useMemo(()=>{var yt;return oe!=null?{id:oe,data:(yt=U?.data)!=null?yt:GO,rect:Y}:null},[oe,U]),ue=V.useRef(null),[k,I]=V.useState(null),[te,J]=V.useState(null),ve=Oh(j,Object.values(j)),fe=Gh("DndDescribedBy",u),F=V.useMemo(()=>pe.getEnabled(),[pe]),L=JO(_),{droppableRects:B,measureDroppableContainers:$,measuringScheduled:ie}=OO(F,{dragging:he,dependencies:[X.x,X.y],config:L.droppable}),ce=LO(ee,oe),Q=V.useMemo(()=>te?n1(te):null,[te]),be=bn(),xe=RO(ce,L.draggable.measure);ZO({activeNode:oe!=null?ee.get(oe):null,config:be.layoutShiftCompensation,initialRect:xe,measure:L.draggable.measure});const je=H5(ce,L.draggable.measure,xe),Ie=H5(ce?ce.parentElement:null),Ve=V.useRef({activatorEvent:null,active:null,activeNode:ce,collisionRect:null,collisions:null,droppableRects:B,draggableNodes:ee,draggingNode:null,draggingNodeRect:null,droppableContainers:pe,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ge=pe.getNodeFor((n=Ve.current.over)==null?void 0:n.id),Ye=HO({measure:L.dragOverlay.measure}),Z=(a=Ye.nodeRef.current)!=null?a:ce,We=he?(s=Ye.rect)!=null?s:je:null,Ot=!!(Ye.nodeRef.current&&Ye.rect),ut=PO(Ot?null:je),Fe=k_(Z?hr(Z):null),nt=zO(he?Ge??ce:null),Qe=qO(nt),ht=XO(b,{transform:{x:X.x-ut.x,y:X.y-ut.y,scaleX:1,scaleY:1},activatorEvent:te,active:le,activeNodeRect:je,containerNodeRect:Ie,draggingNodeRect:We,over:Ve.current.over,overlayNodeRect:Ye.rect,scrollableAncestors:nt,scrollableAncestorRects:Qe,windowRect:Fe}),ft=Q?id(Q,X):null,zt=BO(nt),Vt=G5(zt),ze=G5(zt,[je]),pt=id(ht,Vt),mt=We?sO(We,ht):null,Je=le&&mt?v({active:le,collisionRect:mt,droppableRects:B,droppableContainers:F,pointerCoordinates:ft}):null,Rt=y_(Je,"id"),[Ze,pn]=V.useState(null),Wt=Ot?ht:id(ht,ze),St=aO(Wt,(o=Ze?.rect)!=null?o:null,je),Et=V.useRef(null),Yt=V.useCallback((yt,Xe)=>{let{sensor:Bt,options:vi}=Xe;if(ue.current==null)return;const wn=ee.get(ue.current);if(!wn)return;const Hn=yt.nativeEvent,Wn=new Bt({active:ue.current,activeNode:wn,event:Hn,options:vi,context:Ve,onAbort(Nn){if(!ee.get(Nn))return;const{onDragAbort:$n}=ve.current,Yn={id:Nn};$n?.(Yn),z({type:"onDragAbort",event:Yn})},onPending(Nn,Li,$n,Yn){if(!ee.get(Nn))return;const{onDragPending:On}=ve.current,jn={id:Nn,constraint:Li,initialCoordinates:$n,offset:Yn};On?.(jn),z({type:"onDragPending",event:jn})},onStart(Nn){const Li=ue.current;if(Li==null)return;const $n=ee.get(Li);if(!$n)return;const{onDragStart:Yn}=ve.current,mn={activatorEvent:Hn,active:{id:Li,data:$n.data,rect:Y}};oh.unstable_batchedUpdates(()=>{Yn?.(mn),se(Bl.Initializing),A({type:ia.DragStart,initialCoordinates:Nn,active:Li}),z({type:"onDragStart",event:mn}),I(Et.current),J(Hn)})},onMove(Nn){A({type:ia.DragMove,coordinates:Nn})},onEnd:ct(ia.DragEnd),onCancel:ct(ia.DragCancel)});Et.current=Wn;function ct(Nn){return async function(){const{active:$n,collisions:Yn,over:mn,scrollAdjustedTranslate:On}=Ve.current;let jn=null;if($n&&On){const{cancelDrop:Na}=ve.current;jn={activatorEvent:Hn,active:$n,collisions:Yn,delta:On,over:mn},Nn===ia.DragEnd&&typeof Na=="function"&&await Promise.resolve(Na(jn))&&(Nn=ia.DragCancel)}ue.current=null,oh.unstable_batchedUpdates(()=>{A({type:Nn}),se(Bl.Uninitialized),pn(null),I(null),J(null),Et.current=null;const Na=Nn===ia.DragEnd?"onDragEnd":"onDragCancel";if(jn){const Ti=ve.current[Na];Ti?.(jn),z({type:Na,event:jn})}})}}},[ee]),xt=V.useCallback((yt,Xe)=>(Bt,vi)=>{const wn=Bt.nativeEvent,Hn=ee.get(vi);if(ue.current!==null||!Hn||wn.dndKit||wn.defaultPrevented)return;const Wn={active:Hn};yt(Bt,Xe.options,Wn)===!0&&(wn.dndKit={capturedBy:Xe.sensor},ue.current=vi,Yt(Bt,Xe))},[ee,Yt]),yn=TO(g,xt);UO(g),fo(()=>{je&&P===Bl.Initializing&&se(Bl.Initialized)},[je,P]),V.useEffect(()=>{const{onDragMove:yt}=ve.current,{active:Xe,activatorEvent:Bt,collisions:vi,over:wn}=Ve.current;if(!Xe||!Bt)return;const Hn={active:Xe,activatorEvent:Bt,collisions:vi,delta:{x:pt.x,y:pt.y},over:wn};oh.unstable_batchedUpdates(()=>{yt?.(Hn),z({type:"onDragMove",event:Hn})})},[pt.x,pt.y]),V.useEffect(()=>{const{active:yt,activatorEvent:Xe,collisions:Bt,droppableContainers:vi,scrollAdjustedTranslate:wn}=Ve.current;if(!yt||ue.current==null||!Xe||!wn)return;const{onDragOver:Hn}=ve.current,Wn=vi.get(Rt),ct=Wn&&Wn.rect.current?{id:Wn.id,rect:Wn.rect.current,data:Wn.data,disabled:Wn.disabled}:null,Nn={active:yt,activatorEvent:Xe,collisions:Bt,delta:{x:wn.x,y:wn.y},over:ct};oh.unstable_batchedUpdates(()=>{pn(ct),Hn?.(Nn),z({type:"onDragOver",event:Nn})})},[Rt]),fo(()=>{Ve.current={activatorEvent:te,active:le,activeNode:ce,collisionRect:mt,collisions:Je,droppableRects:B,draggableNodes:ee,draggingNode:Z,draggingNodeRect:We,droppableContainers:pe,over:Ze,scrollableAncestors:nt,scrollAdjustedTranslate:pt},Y.current={initial:We,translated:mt}},[le,ce,Je,mt,ee,Z,We,B,pe,Ze,nt,pt]),EO({...be,delta:X,draggingRect:mt,pointerCoordinates:ft,scrollableAncestors:nt,scrollableAncestorRects:Qe});const At=V.useMemo(()=>({active:le,activeNode:ce,activeNodeRect:je,activatorEvent:te,collisions:Je,containerNodeRect:Ie,dragOverlay:Ye,draggableNodes:ee,droppableContainers:pe,droppableRects:B,over:Ze,measureDroppableContainers:$,scrollableAncestors:nt,scrollableAncestorRects:Qe,measuringConfiguration:L,measuringScheduled:ie,windowRect:Fe}),[le,ce,je,te,Je,Ie,Ye,ee,pe,B,Ze,$,nt,Qe,L,ie,Fe]),Dt=V.useMemo(()=>({activatorEvent:te,activators:yn,active:le,activeNodeRect:je,ariaDescribedById:{draggable:fe},dispatch:A,draggableNodes:ee,over:Ze,measureDroppableContainers:$}),[te,yn,le,je,A,fe,ee,Ze,$]);return ur.createElement(p_.Provider,{value:D},ur.createElement(am.Provider,{value:Dt},ur.createElement(L_.Provider,{value:At},ur.createElement(T_.Provider,{value:St},p)),ur.createElement(QO,{disabled:c?.restoreFocus===!1})),ur.createElement(ZT,{...c,hiddenTextDescribedById:fe}));function bn(){const yt=k?.autoScrollEnabled===!1,Xe=typeof f=="object"?f.enabled===!1:f===!1,Bt=he&&!yt&&!Xe;return typeof f=="object"?{...f,enabled:Bt}:{enabled:Bt}}}),eR=V.createContext(null),W5="button",tR="Draggable";function nR(t){let{id:e,data:n,disabled:a=!1,attributes:s}=t;const o=Gh(tR),{activators:u,activatorEvent:c,active:f,activeNodeRect:p,ariaDescribedById:g,draggableNodes:v,over:_}=V.useContext(am),{role:b=W5,roleDescription:j="draggable",tabIndex:E=0}=s??{},T=f?.id===e,A=V.useContext(T?T_:eR),[z,D]=zp(),[P,se]=zp(),he=IO(u,e),oe=Oh(n);fo(()=>(v.set(e,{id:e,key:o,node:z,activatorNode:P,data:oe}),()=>{const X=v.get(e);X&&X.key===o&&v.delete(e)}),[v,e]);const ee=V.useMemo(()=>({role:b,tabIndex:E,"aria-disabled":a,"aria-pressed":T&&b===W5?!0:void 0,"aria-roledescription":j,"aria-describedby":g.draggable}),[a,b,E,T,j,g.draggable]);return{active:f,activatorEvent:c,activeNodeRect:p,attributes:ee,isDragging:T,listeners:a?void 0:he,node:z,over:_,setNodeRef:D,setActivatorNodeRef:se,transform:A}}function iR(){return V.useContext(L_)}const aR="Droppable",rR={timeout:25};function sR(t){let{data:e,disabled:n=!1,id:a,resizeObserverConfig:s}=t;const o=Gh(aR),{active:u,dispatch:c,over:f,measureDroppableContainers:p}=V.useContext(am),g=V.useRef({disabled:n}),v=V.useRef(!1),_=V.useRef(null),b=V.useRef(null),{disabled:j,updateMeasurementsFor:E,timeout:T}={...rR,...s},A=Oh(E??a),z=V.useCallback(()=>{if(!v.current){v.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{p(Array.isArray(A.current)?A.current:[A.current]),b.current=null},T)},[T]),D=im({callback:z,disabled:j||!u}),P=V.useCallback((ee,X)=>{D&&(X&&(D.unobserve(X),v.current=!1),ee&&D.observe(ee))},[D]),[se,he]=zp(P),oe=Oh(e);return V.useEffect(()=>{!D||!se.current||(D.disconnect(),v.current=!1,D.observe(se.current))},[se,D]),V.useEffect(()=>(c({type:ia.RegisterDroppable,element:{id:a,key:o,disabled:n,node:se,rect:_,data:oe}}),()=>c({type:ia.UnregisterDroppable,key:o,id:a})),[a]),V.useEffect(()=>{n!==g.current.disabled&&(c({type:ia.SetDroppableDisabled,id:a,key:o,disabled:n}),g.current.disabled=n)},[a,o,n,c]),{active:u,rect:_,isOver:f?.id===a,node:se,over:f,setNodeRef:he}}function rm(t,e,n){const a=t.slice();return a.splice(n<0?a.length+n:n,0,a.splice(e,1)[0]),a}function oR(t,e){return t.reduce((n,a,s)=>{const o=e.get(a);return o&&(n[s]=o),n},Array(t.length))}function sp(t){return t!==null&&t>=0}function lR(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function cR(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const R_=t=>{let{rects:e,activeIndex:n,overIndex:a,index:s}=t;const o=rm(e,a,n),u=e[s],c=o[s];return!c||!u?null:{x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height}},op={scaleX:1,scaleY:1},D_=t=>{var e;let{activeIndex:n,activeNodeRect:a,index:s,rects:o,overIndex:u}=t;const c=(e=o[n])!=null?e:a;if(!c)return null;if(s===n){const p=o[u];return p?{x:0,y:n<u?p.top+p.height-(c.top+c.height):p.top-c.top,...op}:null}const f=uR(o,s,n);return s>n&&s<=u?{x:0,y:-c.height-f,...op}:s<n&&s>=u?{x:0,y:c.height+f,...op}:{x:0,y:0,...op}};function uR(t,e,n){const a=t[e],s=t[e-1],o=t[e+1];return a?n<e?s?a.top-(s.top+s.height):o?o.top-(a.top+a.height):0:o?o.top-(a.top+a.height):s?a.top-(s.top+s.height):0:0}const M_="Sortable",P_=ur.createContext({activeIndex:-1,containerId:M_,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:R_,disabled:{draggable:!1,droppable:!1}});function z_(t){let{children:e,id:n,items:a,strategy:s=R_,disabled:o=!1}=t;const{active:u,dragOverlay:c,droppableRects:f,over:p,measureDroppableContainers:g}=iR(),v=Gh(M_,n),_=c.rect!==null,b=V.useMemo(()=>a.map(he=>typeof he=="object"&&"id"in he?he.id:he),[a]),j=u!=null,E=u?b.indexOf(u.id):-1,T=p?b.indexOf(p.id):-1,A=V.useRef(b),z=!lR(b,A.current),D=T!==-1&&E===-1||z,P=cR(o);fo(()=>{z&&j&&g(b)},[z,b,j,g]),V.useEffect(()=>{A.current=b},[b]);const se=V.useMemo(()=>({activeIndex:E,containerId:v,disabled:P,disableTransforms:D,items:b,overIndex:T,useDragOverlay:_,sortedRects:oR(b,f),strategy:s}),[E,v,P.draggable,P.droppable,D,b,T,f,_,s]);return ur.createElement(P_.Provider,{value:se},e)}const dR=t=>{let{id:e,items:n,activeIndex:a,overIndex:s}=t;return rm(n,a,s).indexOf(e)},hR=t=>{let{containerId:e,isSorting:n,wasDragging:a,index:s,items:o,newIndex:u,previousItems:c,previousContainerId:f,transition:p}=t;return!p||!a||c!==o&&s===u?!1:n?!0:u!==s&&e===f},fR={duration:200,easing:"ease"},B_="transform",pR=sd.Transition.toString({property:B_,duration:0,easing:"linear"}),mR={roleDescription:"sortable"};function gR(t){let{disabled:e,index:n,node:a,rect:s}=t;const[o,u]=V.useState(null),c=V.useRef(n);return fo(()=>{if(!e&&n!==c.current&&a.current){const f=s.current;if(f){const p=gd(a.current,{ignoreTransform:!0}),g={x:f.left-p.left,y:f.top-p.top,scaleX:f.width/p.width,scaleY:f.height/p.height};(g.x||g.y)&&u(g)}}n!==c.current&&(c.current=n)},[e,n,a,s]),V.useEffect(()=>{o&&u(null)},[o]),o}function U_(t){let{animateLayoutChanges:e=hR,attributes:n,disabled:a,data:s,getNewIndex:o=dR,id:u,strategy:c,resizeObserverConfig:f,transition:p=fR}=t;const{items:g,containerId:v,activeIndex:_,disabled:b,disableTransforms:j,sortedRects:E,overIndex:T,useDragOverlay:A,strategy:z}=V.useContext(P_),D=vR(a,b),P=g.indexOf(u),se=V.useMemo(()=>({sortable:{containerId:v,index:P,items:g},...s}),[v,s,P,g]),he=V.useMemo(()=>g.slice(g.indexOf(u)),[g,u]),{rect:oe,node:ee,isOver:X,setNodeRef:pe}=sR({id:u,data:se,disabled:D.droppable,resizeObserverConfig:{updateMeasurementsFor:he,...f}}),{active:U,activatorEvent:Y,activeNodeRect:le,attributes:ue,setNodeRef:k,listeners:I,isDragging:te,over:J,setActivatorNodeRef:ve,transform:fe}=nR({id:u,data:se,attributes:{...mR,...n},disabled:D.draggable}),F=IT(pe,k),L=!!U,B=L&&!j&&sp(_)&&sp(T),$=!A&&te,ie=$&&B?fe:null,Q=B?ie??(c??z)({rects:E,activeNodeRect:le,activeIndex:_,overIndex:T,index:P}):null,be=sp(_)&&sp(T)?o({id:u,items:g,activeIndex:_,overIndex:T}):P,xe=U?.id,je=V.useRef({activeId:xe,items:g,newIndex:be,containerId:v}),Ie=g!==je.current.items,Ve=e({active:U,containerId:v,isDragging:te,isSorting:L,id:u,index:P,items:g,newIndex:je.current.newIndex,previousItems:je.current.items,previousContainerId:je.current.containerId,transition:p,wasDragging:je.current.activeId!=null}),Ge=gR({disabled:!Ve,index:P,node:ee,rect:oe});return V.useEffect(()=>{L&&je.current.newIndex!==be&&(je.current.newIndex=be),v!==je.current.containerId&&(je.current.containerId=v),g!==je.current.items&&(je.current.items=g)},[L,be,v,g]),V.useEffect(()=>{if(xe===je.current.activeId)return;if(xe!=null&&je.current.activeId==null){je.current.activeId=xe;return}const Z=setTimeout(()=>{je.current.activeId=xe},50);return()=>clearTimeout(Z)},[xe]),{active:U,activeIndex:_,attributes:ue,data:se,rect:oe,index:P,newIndex:be,items:g,isOver:X,isSorting:L,isDragging:te,listeners:I,node:ee,overIndex:T,over:J,setNodeRef:F,setActivatorNodeRef:ve,setDroppableNodeRef:pe,setDraggableNodeRef:k,transform:Ge??Q,transition:Ye()};function Ye(){if(Ge||Ie&&je.current.newIndex===P)return pR;if(!($&&!M1(Y)||!p)&&(L||Ve))return sd.Transition.toString({...p,property:B_})}}function vR(t,e){var n,a;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(a=t?.droppable)!=null?a:e.droppable}}function qp(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const yR=[on.Down,on.Right,on.Up,on.Left],I_=(t,e)=>{let{context:{active:n,collisionRect:a,droppableRects:s,droppableContainers:o,over:u,scrollableAncestors:c}}=e;if(yR.includes(t.code)){if(t.preventDefault(),!n||!a)return;const f=[];o.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const _=s.get(v.id);if(_)switch(t.code){case on.Down:a.top<_.top&&f.push(v);break;case on.Up:a.top>_.top&&f.push(v);break;case on.Left:a.left>_.left&&f.push(v);break;case on.Right:a.left<_.left&&f.push(v);break}});const p=tO({collisionRect:a,droppableRects:s,droppableContainers:f});let g=y_(p,"id");if(g===u?.id&&p.length>1&&(g=p[1].id),g!=null){const v=o.get(n.id),_=o.get(g),b=_?s.get(_.id):null,j=_?.node.current;if(j&&b&&v&&_){const T=em(j).some((he,oe)=>c[oe]!==he),A=q_(v,_),z=bR(v,_),D=T||!A?{x:0,y:0}:{x:z?a.width-b.width:0,y:z?a.height-b.height:0},P={x:b.left,y:b.top};return D.x&&D.y?P:Rh(P,D)}}}};function q_(t,e){return!qp(t)||!qp(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function bR(t,e){return!qp(t)||!qp(e)||!q_(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const wR={beginning:"#F59E0B",intermediate:"#8B5CF6",advanced:"#EF4444",mastery:"#3B82F6",facilitator:"#10B981"};function xR(t){return wR[t]||"#6B7280"}function _R(t){return t?`${t} min`:"-"}function SR({lesson:t,onEdit:e,onDelete:n,onToggleVisibility:a}){const{attributes:s,listeners:o,setNodeRef:u,transform:c,transition:f,isDragging:p}=U_({id:t.id}),g={transform:sd.Transform.toString(c),transition:f,opacity:p?.5:1};return h.jsxs("div",{ref:u,style:g,className:"lesson-row",children:[h.jsx("div",{className:"drag-handle",...s,...o,children:h.jsx(N1,{size:14})}),h.jsxs("div",{className:"lesson-info",children:[h.jsx("span",{className:"lesson-title",children:t.title}),h.jsxs("span",{className:"lesson-meta",children:[t.vimeo_id&&h.jsxs("span",{className:"vimeo-id",children:[h.jsx(Ko,{size:12})," ",t.vimeo_id]}),h.jsx("span",{className:"duration",children:_R(t.duration_minutes)})]})]}),h.jsxs("div",{className:"lesson-actions",children:[h.jsx("button",{className:`btn-icon ${t.is_published?"visible":"hidden"}`,onClick:()=>a(t.id,!t.is_published),title:t.is_published?"Published":"Hidden",children:t.is_published?h.jsx(Uh,{size:14}):h.jsx(Bh,{size:14})}),h.jsx("button",{className:"btn-icon",onClick:()=>e(t),title:"Edit",children:h.jsx(ad,{size:14})}),h.jsx("button",{className:"btn-icon danger",onClick:()=>n(t.id),title:"Delete",children:h.jsx(Ep,{size:14})})]})]})}function NR({module:t,isExpanded:e,onToggleExpand:n,onEdit:a,onDelete:s,onToggleVisibility:o,onAddLesson:u,onEditLesson:c,onDeleteLesson:f,onToggleLessonVisibility:p,onReorderLessons:g,onAddResource:v,onDeleteResource:_}){const{attributes:b,listeners:j,setNodeRef:E,transform:T,transition:A,isDragging:z}=U_({id:t.id}),D={transform:sd.Transform.toString(T),transition:A,opacity:z?.5:1},P=m_(Up(nm),Up(tm,{coordinateGetter:I_})),se=ee=>{const{active:X,over:pe}=ee;if(pe&&X.id!==pe.id){const U=t.lessons||[],Y=U.findIndex(k=>k.id===X.id),le=U.findIndex(k=>k.id===pe.id),ue=rm(U,Y,le);g(t.id,ue.map(k=>k.id))}},he=(t.lessons||[]).length,oe=(t.resources||[]).length;return h.jsxs("div",{ref:E,style:D,className:`module-card ${e?"expanded":""}`,children:[h.jsxs("div",{className:"module-header",children:[h.jsx("div",{className:"drag-handle",...b,...j,children:h.jsx(N1,{size:16})}),h.jsxs("div",{className:"module-info",onClick:n,children:[h.jsx("h4",{children:t.title}),h.jsxs("div",{className:"module-meta",children:[h.jsxs("span",{children:[h.jsx(Ko,{size:12})," ",he," videos"]}),h.jsxs("span",{children:[h.jsx(z0,{size:12})," ",oe," resources"]})]})]}),h.jsxs("div",{className:"module-actions",children:[h.jsx("button",{className:`btn-icon ${t.is_published?"visible":"hidden"}`,onClick:()=>o(t.id,!t.is_published),title:t.is_published?"Published":"Hidden",children:t.is_published?h.jsx(Uh,{size:16}):h.jsx(Bh,{size:16})}),h.jsx("button",{className:"btn-icon",onClick:()=>a(t),title:"Edit",children:h.jsx(ad,{size:16})}),h.jsx("button",{className:"btn-icon danger",onClick:()=>s(t.id),title:"Delete",children:h.jsx(Ep,{size:16})}),h.jsx("button",{className:"btn-icon expand",onClick:n,children:e?h.jsx(_1,{size:18}):h.jsx(Pc,{size:18})})]})]}),e&&h.jsxs("div",{className:"module-content",children:[t.description&&h.jsx("p",{className:"module-desc",children:t.description}),h.jsxs("div",{className:"lessons-section",children:[h.jsxs("div",{className:"section-header-compact",children:[h.jsx("h5",{children:"Lessons"}),h.jsxs("button",{className:"btn-add-small",onClick:()=>u(t.id),children:[h.jsx(Ch,{size:14})," Add"]})]}),t.lessons&&t.lessons.length>0?h.jsx(O_,{sensors:P,collisionDetection:b_,onDragEnd:se,children:h.jsx(z_,{items:t.lessons.map(ee=>ee.id),strategy:D_,children:h.jsx("div",{className:"lessons-list",children:t.lessons.map(ee=>h.jsx(SR,{lesson:ee,onEdit:c,onDelete:f,onToggleVisibility:p},ee.id))})})}):h.jsx("p",{className:"empty-text",children:"No lessons yet"})]}),h.jsxs("div",{className:"resources-section",children:[h.jsxs("div",{className:"section-header-compact",children:[h.jsx("h5",{children:"Resources"}),h.jsxs("button",{className:"btn-add-small",onClick:()=>v(t.id),children:[h.jsx(Ch,{size:14})," Add"]})]}),t.resources&&t.resources.length>0?h.jsx("div",{className:"resources-list",children:t.resources.map(ee=>h.jsxs("div",{className:"resource-row",children:[h.jsx(z0,{size:14}),h.jsx("span",{className:"resource-title",children:ee.title}),h.jsx("span",{className:"resource-type",children:ee.resource_type||"pdf"}),h.jsx("button",{className:"btn-icon danger",onClick:()=>_(ee.id),title:"Delete",children:h.jsx(Ep,{size:14})})]},ee.id))}):h.jsx("p",{className:"empty-text",children:"No resources yet"})]})]})]})}function jR(){const{id:t}=mw(),{data:e,isLoading:n}=jT(t),{data:a,isLoading:s}=AT(t),o=d_(),u=ET(),c=CT(),f=kT(),p=LT(),g=TT(),v=OT(),_=RT(),b=DT(),j=MT(),E=PT(),[T,A]=V.useState(new Set),[z,D]=V.useState(!1),[P,se]=V.useState(""),[he,oe]=V.useState(!1),[ee,X]=V.useState(null),[pe,U]=V.useState({title:"",description:""}),[Y,le]=V.useState(!1),[ue,k]=V.useState(null),[I,te]=V.useState(null),[J,ve]=V.useState({title:"",vimeo_id:"",duration_minutes:""}),[fe,F]=V.useState(!1),[L,B]=V.useState(null),[$,ie]=V.useState({title:"",file_path:"",resource_type:"pdf"}),ce=m_(Up(nm),Up(tm,{coordinateGetter:I_}));if(n||s)return h.jsx("div",{className:"page loading",children:"Loading course..."});if(!e)return h.jsx("div",{className:"page error",children:"Course not found"});const Q=xR(e.slug),be=ze=>{A(pt=>{const mt=new Set(pt);return mt.has(ze)?mt.delete(ze):mt.add(ze),mt})},xe=ze=>{const{active:pt,over:mt}=ze;if(mt&&pt.id!==mt.id&&a&&t){const Je=a.findIndex(pn=>pn.id===pt.id),Rt=a.findIndex(pn=>pn.id===mt.id),Ze=rm(a,Je,Rt);p.mutate({courseId:t,moduleIds:Ze.map(pn=>pn.id)})}},je=()=>{se(e.description||""),D(!0)},Ie=()=>{o.mutate({id:e.id,updates:{description:P}}),D(!1)},Ve=()=>{X(null),U({title:"",description:""}),oe(!0)},Ge=ze=>{X(ze),U({title:ze.title,description:ze.description||""}),oe(!0)},Ye=()=>{if(t){if(ee)c.mutate({id:ee.id,courseId:t,updates:{title:pe.title,description:pe.description||null}});else{const ze=a?.length||0;u.mutate({course_id:t,title:pe.title,description:pe.description||null,sort_order:ze,is_published:!0})}oe(!1)}},Z=ze=>{t&&confirm("Delete this module and all its lessons?")&&f.mutate({id:ze,courseId:t})},We=(ze,pt)=>{t&&c.mutate({id:ze,courseId:t,updates:{is_published:pt}})},Ot=ze=>{k(null),te(ze),ve({title:"",vimeo_id:"",duration_minutes:""}),le(!0)},ut=ze=>{k(ze),te(ze.module_id),ve({title:ze.title,vimeo_id:ze.vimeo_id||"",duration_minutes:ze.duration_minutes?.toString()||""}),le(!0)},Fe=()=>{if(!t||!I)return;const ze=J.duration_minutes?parseInt(J.duration_minutes):null;if(ue)v.mutate({id:ue.id,courseId:t,updates:{title:J.title,vimeo_id:J.vimeo_id||null,duration_minutes:ze}});else{const mt=a?.find(Je=>Je.id===I)?.lessons?.length||0;g.mutate({courseId:t,lesson:{module_id:I,title:J.title,description:null,vimeo_id:J.vimeo_id||null,duration_minutes:ze,sort_order:mt,is_published:!0}})}le(!1)},nt=ze=>{t&&confirm("Delete this lesson?")&&_.mutate({id:ze,courseId:t})},Qe=(ze,pt)=>{t&&v.mutate({id:ze,courseId:t,updates:{is_published:pt}})},ht=(ze,pt)=>{t&&b.mutate({courseId:t,moduleId:ze,lessonIds:pt})},ft=ze=>{B(ze),ie({title:"",file_path:"",resource_type:"pdf"}),F(!0)},zt=()=>{if(!t||!L)return;const pt=a?.find(mt=>mt.id===L)?.resources?.length||0;j.mutate({courseId:t,resource:{module_id:L,title:$.title,file_path:$.file_path,resource_type:$.resource_type,sort_order:pt}}),F(!1)},Vt=ze=>{t&&confirm("Delete this resource?")&&E.mutate({id:ze,courseId:t})};return h.jsxs("div",{className:"page course-detail",children:[h.jsx("header",{className:"page-header",children:h.jsxs(oi,{to:"/courses",className:"back-link",children:[h.jsx($w,{size:20}),"Back to Courses"]})}),h.jsx("div",{className:"course-header-card",style:{borderLeftColor:Q},children:h.jsxs("div",{className:"course-header-info",children:[h.jsxs("div",{className:"course-title-row",children:[h.jsx("h1",{children:e.name}),h.jsx("span",{className:"course-badge",style:{backgroundColor:Q+"20",color:Q},children:e.slug}),h.jsx("button",{className:`btn-visibility ${e.is_published?"visible":"hidden"}`,onClick:()=>o.mutate({id:e.id,updates:{is_published:!e.is_published}}),title:e.is_published?"Published":"Hidden from students",children:e.is_published?h.jsx(Uh,{size:18}):h.jsx(Bh,{size:18})})]}),z?h.jsxs("div",{className:"edit-desc-form",children:[h.jsx("textarea",{value:P,onChange:ze=>se(ze.target.value),placeholder:"Course description...",rows:2}),h.jsxs("div",{className:"edit-actions",children:[h.jsxs("button",{className:"btn-save-small",onClick:Ie,children:[h.jsx(Ap,{size:14})," Save"]}),h.jsx("button",{className:"btn-cancel-small",onClick:()=>D(!1),children:h.jsx($a,{size:14})})]})]}):h.jsxs("p",{className:"course-desc",onClick:je,children:[e.description||h.jsx("em",{className:"empty",children:"Click to add description..."}),h.jsx(ad,{size:14,className:"edit-icon"})]}),h.jsxs("div",{className:"course-stats",children:[h.jsxs("span",{children:[a?.length||0," modules"]}),h.jsxs("span",{children:[a?.reduce((ze,pt)=>ze+(pt.lessons?.length||0),0)||0," lessons"]})]})]})}),h.jsxs("div",{className:"modules-section",children:[h.jsxs("div",{className:"section-header",children:[h.jsx("h2",{children:"Modules"}),h.jsxs("button",{className:"btn-add",onClick:Ve,children:[h.jsx(Ch,{size:16})," Add Module"]})]}),a&&a.length>0?h.jsx(O_,{sensors:ce,collisionDetection:b_,onDragEnd:xe,children:h.jsx(z_,{items:a.map(ze=>ze.id),strategy:D_,children:h.jsx("div",{className:"modules-list",children:a.map(ze=>h.jsx(NR,{module:ze,isExpanded:T.has(ze.id),onToggleExpand:()=>be(ze.id),onEdit:Ge,onDelete:Z,onToggleVisibility:We,onAddLesson:Ot,onEditLesson:ut,onDeleteLesson:nt,onToggleLessonVisibility:Qe,onReorderLessons:ht,onAddResource:ft,onDeleteResource:Vt},ze.id))})})}):h.jsx("div",{className:"empty-modules",children:h.jsx("p",{children:"No modules yet. Add your first module to get started."})})]}),he&&h.jsx("div",{className:"modal-overlay",onClick:()=>oe(!1),children:h.jsxs("div",{className:"modal-content compact",onClick:ze=>ze.stopPropagation(),children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h2",{children:ee?"Edit Module":"Add Module"}),h.jsx("button",{className:"btn-close",onClick:()=>oe(!1),children:h.jsx($a,{size:20})})]}),h.jsxs("div",{className:"modal-body",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Title"}),h.jsx("input",{type:"text",value:pe.title,onChange:ze=>U({...pe,title:ze.target.value}),placeholder:"Module title...",autoFocus:!0})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Description (optional)"}),h.jsx("textarea",{value:pe.description,onChange:ze=>U({...pe,description:ze.target.value}),placeholder:"Module description...",rows:2})]})]}),h.jsxs("div",{className:"modal-footer",children:[h.jsx("button",{className:"btn-cancel",onClick:()=>oe(!1),children:"Cancel"}),h.jsx("button",{className:"btn-save",onClick:Ye,disabled:!pe.title||u.isPending||c.isPending,children:u.isPending||c.isPending?h.jsxs(h.Fragment,{children:[h.jsx(lo,{size:16,className:"spin"})," Saving..."]}):ee?"Save Changes":"Add Module"})]})]})}),Y&&h.jsx("div",{className:"modal-overlay",onClick:()=>le(!1),children:h.jsxs("div",{className:"modal-content compact",onClick:ze=>ze.stopPropagation(),children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h2",{children:ue?"Edit Lesson":"Add Lesson"}),h.jsx("button",{className:"btn-close",onClick:()=>le(!1),children:h.jsx($a,{size:20})})]}),h.jsxs("div",{className:"modal-body",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Title"}),h.jsx("input",{type:"text",value:J.title,onChange:ze=>ve({...J,title:ze.target.value}),placeholder:"Lesson title...",autoFocus:!0})]}),h.jsxs("div",{className:"form-row",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Vimeo ID"}),h.jsx("input",{type:"text",value:J.vimeo_id,onChange:ze=>ve({...J,vimeo_id:ze.target.value}),placeholder:"e.g., 123456789"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Duration (minutes)"}),h.jsx("input",{type:"number",value:J.duration_minutes,onChange:ze=>ve({...J,duration_minutes:ze.target.value}),placeholder:"e.g., 10"})]})]})]}),h.jsxs("div",{className:"modal-footer",children:[h.jsx("button",{className:"btn-cancel",onClick:()=>le(!1),children:"Cancel"}),h.jsx("button",{className:"btn-save",onClick:Fe,disabled:!J.title||g.isPending||v.isPending,children:g.isPending||v.isPending?h.jsxs(h.Fragment,{children:[h.jsx(lo,{size:16,className:"spin"})," Saving..."]}):ue?"Save Changes":"Add Lesson"})]})]})}),fe&&h.jsx("div",{className:"modal-overlay",onClick:()=>F(!1),children:h.jsxs("div",{className:"modal-content compact",onClick:ze=>ze.stopPropagation(),children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h2",{children:"Add Resource"}),h.jsx("button",{className:"btn-close",onClick:()=>F(!1),children:h.jsx($a,{size:20})})]}),h.jsxs("div",{className:"modal-body",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Title"}),h.jsx("input",{type:"text",value:$.title,onChange:ze=>ie({...$,title:ze.target.value}),placeholder:"Resource title...",autoFocus:!0})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"File Path"}),h.jsx("input",{type:"text",value:$.file_path,onChange:ze=>ie({...$,file_path:ze.target.value}),placeholder:"path/to/file.pdf"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Resource Type"}),h.jsxs("select",{value:$.resource_type,onChange:ze=>ie({...$,resource_type:ze.target.value}),children:[h.jsx("option",{value:"pdf",children:"PDF"}),h.jsx("option",{value:"docx",children:"DOCX"}),h.jsx("option",{value:"xlsx",children:"XLSX"}),h.jsx("option",{value:"image",children:"Image"}),h.jsx("option",{value:"other",children:"Other"})]})]})]}),h.jsxs("div",{className:"modal-footer",children:[h.jsx("button",{className:"btn-cancel",onClick:()=>F(!1),children:"Cancel"}),h.jsx("button",{className:"btn-save",onClick:zt,disabled:!$.title||!$.file_path||j.isPending,children:j.isPending?h.jsxs(h.Fragment,{children:[h.jsx(lo,{size:16,className:"spin"})," Saving..."]}):"Add Resource"})]})]})})]})}const f0="https://ybludwecmqghoheotzzz.supabase.co";function AR(){const[t,e]=V.useState(null),[n,a]=V.useState(null),[s,o]=V.useState([]),[u,c]=V.useState(!1),[f,p]=V.useState(""),[g,v]=V.useState("");V.useEffect(()=>{const P=new URLSearchParams(window.location.search);if(P.get("calendly_connected")==="true"){const oe={access_token:P.get("calendly_token")||"",refresh_token:P.get("calendly_refresh")||"",expires_at:parseInt(P.get("calendly_expires")||"0"),user_uri:P.get("calendly_user_uri")||"",org_uri:P.get("calendly_org_uri")||""};localStorage.setItem("calendly_connection",JSON.stringify(oe)),e(oe),window.history.replaceState({},"",window.location.pathname)}else{const oe=localStorage.getItem("calendly_connection");oe&&e(JSON.parse(oe))}if(P.get("gcal_connected")==="true"){const oe={access_token:P.get("gcal_token")||"",refresh_token:P.get("gcal_refresh")||"",expires_at:parseInt(P.get("gcal_expires")||"0"),email:P.get("gcal_email")||""};localStorage.setItem("google_calendar_connection",JSON.stringify(oe)),a(oe),window.history.replaceState({},"",window.location.pathname)}else{const oe=localStorage.getItem("google_calendar_connection");oe&&a(JSON.parse(oe))}const se=localStorage.getItem("calendly_chemistry_call"),he=localStorage.getItem("calendly_interview");se&&p(se),he&&v(he)},[]),V.useEffect(()=>{t?.access_token&&t?.user_uri&&_()},[t]);const _=async()=>{if(t){c(!0);try{const P=await fetch(`${f0}/functions/v1/calendly-oauth/event-types?user_uri=${encodeURIComponent(t.user_uri)}`,{headers:{Authorization:`Bearer ${t.access_token}`}});if(P.ok){const se=await P.json();o(se.collection||[])}}catch(P){console.error("Failed to fetch event types:",P)}c(!1)}},b=()=>{const P=encodeURIComponent(window.location.origin+"/settings");window.location.href=`${f0}/functions/v1/calendly-oauth/authorize?redirect_uri=${P}`},j=()=>{localStorage.removeItem("calendly_connection"),localStorage.removeItem("calendly_chemistry_call"),localStorage.removeItem("calendly_interview"),e(null),o([]),p(""),v("")},E=()=>{const P=encodeURIComponent(window.location.origin+"/settings");window.location.href=`${f0}/functions/v1/google-calendar-oauth/authorize?redirect_uri=${P}`},T=()=>{AC(),a(null)},A=(P,se)=>{P==="chemistry"?(p(se),localStorage.setItem("calendly_chemistry_call",se)):(v(se),localStorage.setItem("calendly_interview",se))},z=t&&t.expires_at<Date.now(),D=n&&n.expires_at<Date.now();return h.jsxs("div",{className:"page settings",children:[h.jsxs("header",{className:"page-header",children:[h.jsx("h1",{children:"Settings"}),h.jsx("p",{className:"subtitle",children:"Configure your admin dashboard"})]}),h.jsxs("section",{className:"card calendly-settings",children:[h.jsxs("div",{className:"card-header",children:[h.jsxs("h3",{children:[h.jsx(Ra,{size:20})," Google Calendar"]}),n&&!D&&h.jsxs("span",{className:"status-badge connected",children:[h.jsx(Oc,{size:14})," Connected"]})]}),n?D?h.jsxs("div",{className:"calendly-expired",children:[h.jsx("p",{className:"description warning",children:"Your Google Calendar connection has expired. Please reconnect."}),h.jsxs("div",{className:"button-group",children:[h.jsxs("button",{onClick:E,className:"btn-primary",children:[h.jsx(ib,{size:16}),"Reconnect"]}),h.jsxs("button",{onClick:T,className:"btn-secondary",children:[h.jsx($a,{size:16}),"Disconnect"]})]})]}):h.jsx("div",{className:"calendly-connected",children:h.jsxs("div",{className:"connection-info",children:[h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Google Account"}),h.jsx("span",{children:n.email})]}),h.jsxs("button",{onClick:T,className:"btn-danger-small",children:[h.jsx($a,{size:14})," Disconnect"]})]})}):h.jsxs("div",{className:"calendly-connect",children:[h.jsx("p",{className:"description",children:"Connect your Google Calendar to see all your meetings in the Action Center."}),h.jsxs("button",{onClick:E,className:"btn-primary",children:[h.jsx(Ra,{size:16}),"Connect Google Calendar"]})]})]}),h.jsxs("section",{className:"card calendly-settings",children:[h.jsxs("div",{className:"card-header",children:[h.jsxs("h3",{children:[h.jsx(Ra,{size:20})," Calendly Integration"]}),t&&!z&&h.jsxs("span",{className:"status-badge connected",children:[h.jsx(Oc,{size:14})," Connected"]})]}),t?z?h.jsxs("div",{className:"calendly-expired",children:[h.jsx("p",{className:"description warning",children:"Your Calendly connection has expired. Please reconnect."}),h.jsxs("div",{className:"button-group",children:[h.jsxs("button",{onClick:b,className:"btn-primary",children:[h.jsx(ib,{size:16}),"Reconnect"]}),h.jsxs("button",{onClick:j,className:"btn-secondary",children:[h.jsx($a,{size:16}),"Disconnect"]})]})]}):h.jsxs("div",{className:"calendly-connected",children:[h.jsxs("div",{className:"connection-info",children:[h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Calendly Account"}),h.jsx("span",{children:t.user_uri.split("/").pop()})]}),h.jsxs("button",{onClick:j,className:"btn-danger-small",children:[h.jsx($a,{size:14})," Disconnect"]})]}),h.jsxs("div",{className:"event-type-mapping",children:[h.jsx("h4",{children:"Map Event Types"}),h.jsx("p",{className:"description",children:"Select which Calendly event types to use for each booking action."}),u?h.jsx("p",{children:"Loading event types..."}):s.length===0?h.jsx("p",{className:"empty",children:"No active event types found in your Calendly account."}):h.jsxs("div",{className:"event-type-selectors",children:[h.jsxs("div",{className:"field",children:[h.jsx("label",{children:"Chemistry Call"}),h.jsxs("select",{value:f,onChange:P=>A("chemistry",P.target.value),children:[h.jsx("option",{value:"",children:"Select event type..."}),s.map(P=>h.jsx("option",{value:P.scheduling_url,children:P.name},P.uri))]}),f&&h.jsxs("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"preview-link",children:[h.jsx(P0,{size:12})," Preview"]})]}),h.jsxs("div",{className:"field",children:[h.jsx("label",{children:"Interview"}),h.jsxs("select",{value:g,onChange:P=>A("interview",P.target.value),children:[h.jsx("option",{value:"",children:"Select event type..."}),s.map(P=>h.jsx("option",{value:P.scheduling_url,children:P.name},P.uri))]}),g&&h.jsxs("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"preview-link",children:[h.jsx(P0,{size:12})," Preview"]})]})]})]})]}):h.jsxs("div",{className:"calendly-connect",children:[h.jsx("p",{className:"description",children:"Connect your Calendly account to schedule calls directly from the dashboard."}),h.jsxs("button",{onClick:b,className:"btn-primary",children:[h.jsx(Ra,{size:16}),"Connect Calendly"]})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{children:"Email Settings"}),h.jsx("p",{className:"description",children:"Email is configured through Proton Mail Bridge on the server."}),h.jsxs("div",{className:"fields-grid",children:[h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Provider"}),h.jsx("span",{children:"Proton Mail (via IMAP/SMTP Bridge)"})]}),h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Email Address"}),h.jsx("span",{children:"stepwisetraining@proton.me"})]})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{children:"Database"}),h.jsx("p",{className:"description",children:"Connected to Supabase"}),h.jsxs("div",{className:"fields-grid",children:[h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Project URL"}),h.jsx("span",{children:"ybludwecmqghoheotzzz.supabase.co"})]}),h.jsxs("div",{className:"field readonly",children:[h.jsx("label",{children:"Status"}),h.jsx("span",{className:"status-indicator connected",children:"Connected"})]})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{children:"Pipeline Stages"}),h.jsx("p",{className:"description",children:"The pipeline stages used to track applicants"}),h.jsxs("ol",{className:"stages-list",children:[h.jsxs("li",{children:[h.jsx("span",{className:"stage-dot",style:{background:"#94a3b8"}})," Lead"]}),h.jsxs("li",{children:[h.jsx("span",{className:"stage-dot",style:{background:"#f59e0b"}})," Chemistry Call"]}),h.jsxs("li",{children:[h.jsx("span",{className:"stage-dot",style:{background:"#3b82f6"}})," Application"]}),h.jsxs("li",{children:[h.jsx("span",{className:"stage-dot",style:{background:"#8b5cf6"}})," Interview"]}),h.jsxs("li",{children:[h.jsx("span",{className:"stage-dot",style:{background:"#ec4899"}})," Approval"]}),h.jsxs("li",{children:[h.jsx("span",{className:"stage-dot",style:{background:"#10b981"}})," Payment"]}),h.jsxs("li",{children:[h.jsx("span",{className:"stage-dot",style:{background:"#06b6d4"}})," Onboarding"]}),h.jsxs("li",{children:[h.jsx("span",{className:"stage-dot",style:{background:"#22c55e"}})," Complete"]})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{children:"About"}),h.jsx("p",{className:"description",children:"StepWise Admin Dashboard v2.0"}),h.jsx("p",{className:"description",children:"Built with React + TypeScript + Supabase"})]})]})}const p0=[{id:"bedroom-1",name:"Bedroom 1",subtitle:"Main Floor",beds:"1 Queen Bed",description:"Cozy ground floor room with queen bed and natural light.",capacity:1,floor:"Main Floor",amenities:["Ground floor","Easy access","Quiet"],image:"/rooms/room1.png"},{id:"bedroom-2",name:"Bedroom 2",subtitle:"Main Floor",beds:"2 Double Beds",description:"Spacious room with two double beds, great for sharing.",capacity:2,floor:"Main Floor",amenities:["Two beds","Shared option","Near kitchen"],image:"/rooms/room2.jpg"},{id:"bedroom-3",name:"Bedroom 3",subtitle:"Second Floor",beds:"2 Double Beds",description:"Bright second floor room with colorful decor and two beds.",capacity:2,floor:"Second Floor",amenities:["Colorful decor","Large windows","Airy"],image:"/rooms/room3.jpg"},{id:"bedroom-4",name:"Bedroom 4",subtitle:"Second Floor",beds:"2 Double Beds",description:"Modern room with neutral tones and two comfortable double beds.",capacity:2,floor:"Second Floor",amenities:["Modern style","Two beds","Clean lines"],image:"/rooms/room4.png"},{id:"bedroom-5",name:"Bedroom 5",subtitle:"Second Floor",beds:"1 Queen Bed",description:"Queen room with desk area, perfect for those who need workspace.",capacity:1,floor:"Second Floor",amenities:["Work desk","Queen bed","Private"],image:"/rooms/room5.jpg"},{id:"bedroom-6",name:"Bedroom 6",subtitle:"Top Floor",beds:"1 Double Bed + Couch",description:"Charming attic room with slanted ceilings and cozy atmosphere.",capacity:1,floor:"Top Floor",amenities:["Attic charm","Couch","Unique"],image:"/rooms/room6.jpg"},{id:"bedroom-7",name:"Bedroom 7",subtitle:"Top Floor",beds:"1 Queen Bed + Couch",description:"Top floor suite with angled ceiling and warm, inviting decor.",capacity:1,floor:"Top Floor",amenities:["Suite feel","Queen bed","Couch"],image:"/rooms/room7.png"},{id:"bedroom-8",name:"Bedroom 8",subtitle:"Top Floor",beds:"2 Queen Beds",description:"Largest bedroom with two queen beds. Perfect for sharing.",capacity:2,floor:"Top Floor",amenities:["Most spacious","Two queens","Top floor"],image:"/rooms/room8.jpg"}],lp={name:"Commute",subtitle:"Daily Travel",description:"Choose to commute daily from your own accommodation.",amenities:["Sleep at home","Personal space","Flexible"]};function ER(){const[t]=mN(),e=t.get("id"),[n,a]=V.useState(null),[s,o]=V.useState([]),[u,c]=V.useState(!1),[f,p]=V.useState(""),[g,v]=V.useState(null),[_,b]=V.useState(null);V.useEffect(()=>{async function A(){if(!e)return;const{data:z}=await dt.from("applicants").select("name, accommodation_choice").eq("id",e).single();z&&(p(z.name||""),z.accommodation_choice&&a(z.accommodation_choice));const{data:D}=await dt.from("applicants").select("id, name, accommodation_choice").eq("training_id","c626109f-11a4-4549-991e-022727300feb").not("accommodation_choice","is",null);D&&o(D.map(P=>({odpm_id:P.id,name:P.name||"Anonymous",room_id:P.accommodation_choice||""})))}A()},[e]);const j=A=>s.filter(z=>z.room_id===A&&z.odpm_id!==e).map(z=>z.name.split(" ")[0]),E=A=>{const z=p0.find(se=>se.id===A);if(!z)return{available:!0,spotsLeft:0};const D=s.filter(se=>se.room_id===A&&se.odpm_id!==e).length,P=z.capacity-D;return{available:P>0,spotsLeft:P}},T=async A=>{if(!e||u)return;const{available:z}=E(A);if(!(!z&&n!==A)){c(!0),v(null),b(null);try{const{error:D}=await dt.from("applicants").update({accommodation_choice:A,accommodation_confirmed:!0,updated_at:new Date().toISOString()}).eq("id",e);if(D)throw D;a(A),o(se=>[...se.filter(oe=>oe.odpm_id!==e),{odpm_id:e,name:f,room_id:A}]);const P=A==="commute"?"Commute":p0.find(se=>se.id===A)?.name;b(`Reserved: ${P}`),setTimeout(()=>b(null),3e3)}catch(D){v("Failed to save. Tap again to retry."),console.error(D)}finally{c(!1)}}};return e?h.jsxs("div",{className:"accommodation-page",children:[h.jsx("header",{className:"accommodation-hero",children:h.jsxs("div",{className:"hero-content",children:[h.jsx("span",{className:"hero-eyebrow",children:"March 13-16, 2026 Training"}),h.jsx("h1",{children:"Choose Your Room"}),h.jsx("p",{children:"Select your accommodation for the upcoming training in Somerville, MA"})]})}),h.jsx("section",{className:"property-overview",children:h.jsxs("div",{className:"property-features",children:[h.jsxs("div",{className:"feature",children:[h.jsx(FA,{size:20}),h.jsx("span",{children:"8 Bedrooms"})]}),h.jsxs("div",{className:"feature",children:[h.jsx(lA,{size:20}),h.jsx("span",{children:"5 Bathrooms"})]}),h.jsxs("div",{className:"feature",children:[h.jsx(D8,{size:20}),h.jsx("span",{children:"High-Speed WiFi"})]}),h.jsxs("div",{className:"feature",children:[h.jsx(P8,{size:20}),h.jsx("span",{children:"Central A/C"})]}),h.jsxs("div",{className:"feature",children:[h.jsx(j8,{size:20}),h.jsx("span",{children:"Smart TV"})]}),h.jsxs("div",{className:"feature",children:[h.jsx(T8,{size:20}),h.jsx("span",{children:"Full Kitchen"})]}),h.jsxs("div",{className:"feature",children:[h.jsx(AA,{size:20}),h.jsx("span",{children:"Free Parking"})]})]})}),_&&h.jsxs("div",{className:"submission-success",children:[h.jsx(Oc,{size:24}),h.jsx("div",{children:h.jsx("strong",{children:_})})]}),g&&h.jsx("div",{className:"submission-error",children:h.jsx("span",{children:g})}),h.jsxs("section",{className:"room-selection",children:[h.jsx("h2",{children:"Available Rooms"}),h.jsx("p",{className:"section-description",children:"Click on a room to select it. Some rooms can be shared with another participant."}),h.jsxs("div",{className:"rooms-grid",children:[p0.map(A=>{const{available:z,spotsLeft:D}=E(A.id),P=j(A.id),se=n===A.id,he=!z&&!se;return h.jsxs("div",{className:`room-card ${se?"selected":""} ${he?"unavailable":""} ${u?"saving":""}`,onClick:()=>T(A.id),children:[h.jsx("div",{className:"room-image",style:{backgroundImage:`url(${A.image})`,backgroundSize:"cover",backgroundPosition:"center"},children:h.jsx("span",{className:"room-floor",children:A.floor})}),h.jsxs("div",{className:"room-content",children:[h.jsxs("div",{className:"room-header",children:[h.jsx("h3",{children:A.name}),h.jsx("span",{className:"room-subtitle",children:A.subtitle})]}),h.jsxs("div",{className:"room-beds",children:[h.jsx(dp,{size:14}),h.jsx("span",{children:A.beds})]}),h.jsx("p",{className:"room-description",children:A.description}),h.jsx("div",{className:"room-amenities",children:A.amenities.map(oe=>h.jsx("span",{className:"amenity-tag",children:oe},oe))}),h.jsxs("div",{className:"room-status",children:[A.capacity>1&&h.jsxs("div",{className:"capacity-info",children:[h.jsx(rd,{size:14}),h.jsxs("span",{children:["Fits ",A.capacity," people"]})]}),P.length>0&&h.jsxs("div",{className:"current-occupants",children:["Sharing with: ",P.join(", ")]}),!z&&!se&&h.jsx("span",{className:"full-badge",children:"Full"}),z&&D<A.capacity&&h.jsxs("span",{className:"spots-badge",children:[D," spot",D>1?"s":""," left"]})]})]}),se&&h.jsx("div",{className:"selected-indicator",children:h.jsx(Oc,{size:20})})]},A.id)}),h.jsxs("div",{className:`room-card commute-card ${n==="commute"?"selected":""} ${u?"saving":""}`,onClick:()=>T("commute"),children:[h.jsx("div",{className:"room-image commute",children:h.jsx(D0,{size:48})}),h.jsxs("div",{className:"room-content",children:[h.jsxs("div",{className:"room-header",children:[h.jsx("h3",{children:lp.name}),h.jsx("span",{className:"room-subtitle",children:lp.subtitle})]}),h.jsx("p",{className:"room-description",children:lp.description}),h.jsx("div",{className:"room-amenities",children:lp.amenities.map(A=>h.jsx("span",{className:"amenity-tag",children:A},A))})]}),n==="commute"&&h.jsx("div",{className:"selected-indicator",children:h.jsx(Oc,{size:20})})]})]})]}),h.jsx("section",{className:"submit-section",children:h.jsx("p",{className:"submit-note",children:"Tap a room to reserve it. You can change your selection until March 1st."})}),h.jsx("footer",{className:"accommodation-footer",children:h.jsx("p",{children:"Questions? Contact us at hello@stepwise.education"})})]}):h.jsx("div",{className:"accommodation-page",children:h.jsxs("div",{className:"accommodation-error",children:[h.jsx("h2",{children:"Invalid Link"}),h.jsx("p",{children:"This accommodation selection link is invalid. Please use the link from your email."})]})})}function CR(){const[t,e]=V.useState("pending"),n=Vn(),{data:a,isLoading:s}=ki({queryKey:["participant_questions",t],queryFn:async()=>{let c=dt.from("participant_questions").select(`
          *,
          application:applications(id, first_name, last_name, email, preferred_name)
        `).order("created_at",{ascending:!1});t!=="all"&&(c=c.eq("status",t));const{data:f,error:p}=await c;if(p)throw p;return f}}),o=ui({mutationFn:async({id:c,status:f})=>{const{error:p}=await dt.from("participant_questions").update({status:f}).eq("id",c);if(p)throw p},onSuccess:()=>{n.invalidateQueries({queryKey:["participant_questions"]})}}),u=a?.filter(c=>c.status==="pending").length||0;return h.jsxs("div",{className:"questions-page",children:[h.jsx("div",{className:"page-header",children:h.jsxs("div",{children:[h.jsxs("h1",{children:[h.jsx(Eh,{size:28}),"Participant Questions"]}),h.jsx("p",{className:"subtitle",children:"Questions from portal users awaiting your response"})]})}),h.jsxs("div",{className:"filter-tabs",children:[h.jsxs("button",{className:`filter-tab ${t==="pending"?"active":""}`,onClick:()=>e("pending"),children:[h.jsx(S1,{size:16}),"Pending",u>0&&h.jsx("span",{className:"badge",children:u})]}),h.jsxs("button",{className:`filter-tab ${t==="responded"?"active":""}`,onClick:()=>e("responded"),children:[h.jsx(Oc,{size:16}),"Responded"]}),h.jsx("button",{className:`filter-tab ${t==="all"?"active":""}`,onClick:()=>e("all"),children:"All"})]}),h.jsx("div",{className:"questions-list",children:s?h.jsx("div",{className:"loading-state",children:"Loading questions..."}):a?.length===0?h.jsxs("div",{className:"empty-state",children:[h.jsx(Eh,{size:48}),h.jsx("h3",{children:"No questions yet"}),h.jsx("p",{children:"When participants submit questions from the portal, they'll appear here."})]}):a?.map(c=>h.jsxs("div",{className:`question-card ${c.status}`,children:[h.jsxs("div",{className:"question-header",children:[h.jsxs("div",{className:"user-info",children:[h.jsx("div",{className:"avatar",children:h.jsx(Rr,{size:20})}),h.jsxs("div",{children:[h.jsxs(oi,{to:`/people/${c.application_id}`,className:"user-name",children:[c.application?.preferred_name||c.application?.first_name||"Unknown"," ",c.application?.last_name||"",h.jsx(Pc,{size:14})]}),h.jsx("span",{className:"user-email",children:c.application?.email})]})]}),h.jsxs("div",{className:"question-meta",children:[h.jsx("span",{className:`status-badge ${c.status}`,children:c.status==="pending"?"Awaiting Response":c.status==="responded"?"Responded":"Closed"}),h.jsx("span",{className:"timestamp",children:Yu(new Date(c.created_at),{addSuffix:!0})})]})]}),h.jsx("div",{className:"question-body",children:h.jsx("p",{children:c.question})}),h.jsxs("div",{className:"question-actions",children:[h.jsxs("a",{href:`mailto:${c.application?.email}?subject=Re: Your StepWise Question&body=Hi ${c.application?.preferred_name||c.application?.first_name},

Thank you for your question:

"${c.question}"

`,className:"btn btn-primary",onClick:()=>{c.status==="pending"&&o.mutate({id:c.id,status:"responded"})},children:[h.jsx(Ms,{size:16}),"Reply via Email"]}),c.status==="pending"&&h.jsxs("button",{className:"btn btn-secondary",onClick:()=>o.mutate({id:c.id,status:"responded"}),children:[h.jsx(Oc,{size:16}),"Mark as Responded"]}),c.status==="responded"&&h.jsx("button",{className:"btn btn-ghost",onClick:()=>o.mutate({id:c.id,status:"closed"}),children:"Close"})]})]},c.id))}),h.jsx("style",{children:`
        .questions-page {
          padding: 2rem;
          max-width: 900px;
        }

        .page-header {
          margin-bottom: 2rem;
        }

        .page-header h1 {
          display: flex;
          align-items: center;
          gap: 0.75rem;
          font-size: 1.75rem;
          font-weight: 600;
          color: #1a1a1a;
          margin-bottom: 0.5rem;
        }

        .subtitle {
          color: #666;
          font-size: 0.95rem;
        }

        .filter-tabs {
          display: flex;
          gap: 0.5rem;
          margin-bottom: 1.5rem;
          border-bottom: 1px solid #eee;
          padding-bottom: 1rem;
        }

        .filter-tab {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          padding: 0.5rem 1rem;
          border: none;
          background: transparent;
          color: #666;
          font-size: 0.9rem;
          cursor: pointer;
          border-radius: 6px;
          transition: all 0.2s;
        }

        .filter-tab:hover {
          background: #f5f5f5;
        }

        .filter-tab.active {
          background: #1a1a1a;
          color: white;
        }

        .filter-tab .badge {
          background: #ef4444;
          color: white;
          font-size: 0.75rem;
          padding: 0.1rem 0.5rem;
          border-radius: 10px;
          font-weight: 600;
        }

        .questions-list {
          display: flex;
          flex-direction: column;
          gap: 1rem;
        }

        .question-card {
          background: white;
          border: 1px solid #eee;
          border-radius: 12px;
          padding: 1.5rem;
          transition: all 0.2s;
        }

        .question-card:hover {
          border-color: #ddd;
          box-shadow: 0 2px 8px rgba(0,0,0,0.04);
        }

        .question-card.pending {
          border-left: 3px solid #f59e0b;
        }

        .question-card.responded {
          border-left: 3px solid #10b981;
        }

        .question-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 1rem;
        }

        .user-info {
          display: flex;
          align-items: center;
          gap: 0.75rem;
        }

        .avatar {
          width: 40px;
          height: 40px;
          background: #f5f5f5;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #666;
        }

        .user-name {
          display: flex;
          align-items: center;
          gap: 0.25rem;
          font-weight: 600;
          color: #1a1a1a;
          text-decoration: none;
        }

        .user-name:hover {
          color: #7c3aed;
        }

        .user-email {
          font-size: 0.85rem;
          color: #888;
        }

        .question-meta {
          display: flex;
          flex-direction: column;
          align-items: flex-end;
          gap: 0.25rem;
        }

        .status-badge {
          font-size: 0.75rem;
          padding: 0.25rem 0.75rem;
          border-radius: 12px;
          font-weight: 500;
        }

        .status-badge.pending {
          background: #fef3c7;
          color: #92400e;
        }

        .status-badge.responded {
          background: #d1fae5;
          color: #065f46;
        }

        .status-badge.closed {
          background: #f3f4f6;
          color: #6b7280;
        }

        .timestamp {
          font-size: 0.8rem;
          color: #999;
        }

        .question-body {
          padding: 1rem;
          background: #fafafa;
          border-radius: 8px;
          margin-bottom: 1rem;
        }

        .question-body p {
          color: #333;
          line-height: 1.6;
          white-space: pre-wrap;
          margin: 0;
        }

        .question-actions {
          display: flex;
          gap: 0.75rem;
        }

        .btn {
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
          padding: 0.5rem 1rem;
          border-radius: 6px;
          font-size: 0.9rem;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s;
          text-decoration: none;
          border: none;
        }

        .btn-primary {
          background: #7c3aed;
          color: white;
        }

        .btn-primary:hover {
          background: #6d28d9;
        }

        .btn-secondary {
          background: #f3f4f6;
          color: #374151;
        }

        .btn-secondary:hover {
          background: #e5e7eb;
        }

        .btn-ghost {
          background: transparent;
          color: #666;
        }

        .btn-ghost:hover {
          background: #f5f5f5;
        }

        .empty-state {
          text-align: center;
          padding: 4rem 2rem;
          color: #666;
        }

        .empty-state svg {
          color: #ccc;
          margin-bottom: 1rem;
        }

        .empty-state h3 {
          font-size: 1.25rem;
          color: #333;
          margin-bottom: 0.5rem;
        }

        .loading-state {
          text-align: center;
          padding: 3rem;
          color: #666;
        }
      `})]})}const kR=new C4({defaultOptions:{queries:{staleTime:1e3*60,refetchOnWindowFocus:!0}}});function LR(){return h.jsx(k4,{client:kR,children:h.jsx(Jj,{children:h.jsx(dN,{children:h.jsxs(IS,{children:[h.jsx(cr,{path:"/login",element:h.jsx(H8,{})}),h.jsx(cr,{path:"portal/accommodation",element:h.jsx(ER,{})}),h.jsxs(cr,{path:"/",element:h.jsx(I8,{children:h.jsx(F8,{})}),children:[h.jsx(cr,{index:!0,element:h.jsx(bw,{to:"/action-center",replace:!0})}),h.jsx(cr,{path:"action-center",element:h.jsx(CC,{})}),h.jsx(cr,{path:"pipeline",element:h.jsx(kC,{})}),h.jsx(cr,{path:"people",element:h.jsx(LC,{})}),h.jsx(cr,{path:"people/:id",element:h.jsx(FC,{})}),h.jsx(cr,{path:"trainings",element:h.jsx(ST,{})}),h.jsx(cr,{path:"courses",element:h.jsx(UT,{})}),h.jsx(cr,{path:"courses/:id",element:h.jsx(jR,{})}),h.jsx(cr,{path:"questions",element:h.jsx(CR,{})}),h.jsx(cr,{path:"settings",element:h.jsx(AR,{})})]})]})})})})}a4.createRoot(document.getElementById("root")).render(h.jsx(V.StrictMode,{children:h.jsx(LR,{})}));export{Tn as _,TR as c,K3 as g};
